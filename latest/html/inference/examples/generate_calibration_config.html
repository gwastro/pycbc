

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example: Generating calibration configuration file for GW150914 and GW170817 &mdash; PyCBC 2.10.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=751f435e"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/typed.min.js?v=edb71f0b"></script>
      <script src="../../_static/terminal.css?v=d691274a"></script>
      <script src="../../_static/theme_overrides.css?v=e4e1d026"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Plotting the posteriors (pycbc_inference_plot_posterior)" href="../viz.html" />
    <link rel="prev" title="Details of common Models in PyCBC Inference" href="../models.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(193,193,255,1) 85%)" >

          
          
          <a href="../../index.html">
            
              <img src="https://raw.githubusercontent.com/gwastro/pycbc-logo/master/pycbc_logo_name.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installing PyCBC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credit.html">Use of PyCBC in Scientific Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Library Examples and Interactive Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../searches.html">PyCBC searches</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#configuring-the-model-sampler-priors-and-data">Configuring the model, sampler, priors, and data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#advanced-configuration-settings">Advanced configuration settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#checkpointing-and-output-files">Checkpointing and output files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../inference.html#examples">Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="analytic.html">Running on an analytic distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="bbh.html">Simulated BBH example</a></li>
<li class="toctree-l3"><a class="reference internal" href="gw150914.html">GW150914 example with gaussian noise model</a></li>
<li class="toctree-l3"><a class="reference internal" href="margtime.html">Marginalized time model</a></li>
<li class="toctree-l3"><a class="reference internal" href="single.html">Using the single template model</a></li>
<li class="toctree-l3"><a class="reference internal" href="relative.html">Using the relative model</a></li>
<li class="toctree-l3"><a class="reference internal" href="hierarchical.html">Using the hierarchical model</a></li>
<li class="toctree-l3"><a class="reference internal" href="lisa_smbhb_ldc_pe.html">LISA parameter estimation for simulated SMBHB from LDC</a></li>
<li class="toctree-l3"><a class="reference internal" href="lisa_smbhb_inj_pe.html">LISA SMBHB injection and parameter estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="sampler_platter.html">Trying out different samplers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../models.html">Details of common Models in PyCBC Inference</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example: Generating calibration configuration file for GW150914 and GW170817</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#downloading-calibration-uncertainty-files">Downloading calibration uncertainty files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generating-a-calibration-configuration-file">Generating a calibration configuration file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-gw170817-h1l1v1">Example: GW170817 (H1–L1–V1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#visualizing-the-posteriors">Visualizing the Posteriors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#workflows">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference.html#for-developers">For Developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../apps.html">Applications and Workflows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dev Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../extend.html">Extending PyCBC with external plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devs.html">Documentation for Developers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(193,193,255,1) 85%)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PyCBC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a></li>
      <li class="breadcrumb-item active">Example: Generating calibration configuration file for GW150914 and GW170817</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/gwastro/pycbc/blob/master/docs/inference/examples/generate_calibration_config.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example-generating-calibration-configuration-file-for-gw150914-and-gw170817">
<span id="generate-calibration-config"></span><h1>Example: Generating calibration configuration file for GW150914 and GW170817<a class="headerlink" href="#example-generating-calibration-configuration-file-for-gw150914-and-gw170817" title="Link to this heading"></a></h1>
<p>When analyzing real gravitational-wave data, it is often desirable to
marginalize over detector calibration uncertainties. PyCBC supports this through
a calibration configuration file that specifies frequency-dependent amplitude
and phase uncertainties for each interferometer.</p>
<p>This section describes how to download the official LIGO–Virgo calibration
uncertainty files and generate a calibration configuration file for GW150914 and
GW170817.</p>
<section id="downloading-calibration-uncertainty-files">
<h2>Downloading calibration uncertainty files<a class="headerlink" href="#downloading-calibration-uncertainty-files" title="Link to this heading"></a></h2>
<p>First, we need to download the data from the <a class="reference external" href="https://www.gwosc.org">Gravitational Wave Open Science
Center</a>. Run:</p>
<p>Calibration uncertainty files are provided by the LIGO–Virgo KAGRA Collaboration
and are available from the <cite>LIGO DCC&lt;https://dcc.ligo.org/T2100313/public&gt;</cite>.</p>
<p>First, create a directory to store the calibration files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">OUT_DIR</span><span class="o">=</span>calibration_uncertainty_files
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">OUT_DIR</span><span class="si">}</span>
<span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">OUT_DIR</span><span class="si">}</span>
</pre></div>
</div>
<p>Download the LIGO calibration uncertainty files. You need to do it once and then
use them for generation of any calibration configuration file in O1, O2, or O3
observation run of LIGO and Virgo detector network:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://dcc.ligo.org/public/0177/T2100313/003/LIGO_O1_cal_uncertainty.tgz
wget<span class="w"> </span>https://dcc.ligo.org/public/0177/T2100313/003/LIGO_O2_cal_uncertainty.tgz
wget<span class="w"> </span>https://dcc.ligo.org/public/0177/T2100313/003/LIGO_O3_cal_uncertainty.tgz
</pre></div>
</div>
<p>Download the Virgo calibration uncertainty files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://dcc.ligo.org/public/0177/T2100313/003/Virgo_O2_cal_uncertainty.tgz
wget<span class="w"> </span>https://dcc.ligo.org/public/0177/T2100313/003/Virgo_O3_cal_uncertainty.tgz
</pre></div>
</div>
<p>Extract all downloaded archives:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>-xzvf<span class="w"> </span>LIGO_O1_cal_uncertainty.tgz
tar<span class="w"> </span>-xzvf<span class="w"> </span>LIGO_O2_cal_uncertainty.tgz
tar<span class="w"> </span>-xzvf<span class="w"> </span>LIGO_O3_cal_uncertainty.tgz

tar<span class="w"> </span>-xzvf<span class="w"> </span>Virgo_O2_cal_uncertainty.tgz
tar<span class="w"> </span>-xzvf<span class="w"> </span>Virgo_O3_cal_uncertainty.tgz
</pre></div>
</div>
<p>After extraction, the directory will contain subdirectories for each observing
run and interferometer, with frequency-dependent calibration uncertainty
envelopes.</p>
</section>
<section id="generating-a-calibration-configuration-file">
<h2>Generating a calibration configuration file<a class="headerlink" href="#generating-a-calibration-configuration-file" title="Link to this heading"></a></h2>
<p>Once the calibration uncertainty files are available locally, use
<code class="docutils literal notranslate"><span class="pre">pycbc_inference_create_calibration_config</span></code> to generate a calibration
configuration file for GW150914.</p>
<p>Set the path to the extracted calibration files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CALIB_ENV_FILE_PATH</span><span class="o">=</span>./calibration_uncertainty_files
</pre></div>
</div>
<p>Generate the calibration configuration file for the Hanford (H1) and Livingston
(L1) detectors:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_inference_create_calibration_config<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--calibration-files-path<span class="w"> </span><span class="si">${</span><span class="nv">CALIB_ENV_FILE_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--ifos<span class="w"> </span>H1<span class="w"> </span>L1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--minimum-frequency<span class="w"> </span>H1:20<span class="w"> </span>L1:20<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--maximum-frequency<span class="w"> </span>H1:1000<span class="w"> </span>L1:1000<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--gps-time<span class="w"> </span><span class="m">1126259462</span>.43<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--correction-type<span class="w"> </span>H1:data<span class="w"> </span>L1:data<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tag<span class="w"> </span>GW150914_095045
</pre></div>
</div>
<p>This command produces a calibration configuration file that can be supplied to
<code class="docutils literal notranslate"><span class="pre">pycbc_inference</span></code> to enable calibration marginalization.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The calibration uncertainty files and frequency ranges should match the
observing run, detectors, and frequency range used in the analysis.</p>
</div>
</section>
<section id="example-gw170817-h1l1v1">
<h2>Example: GW170817 (H1–L1–V1)<a class="headerlink" href="#example-gw170817-h1l1v1" title="Link to this heading"></a></h2>
<p>For GW170817, calibration uncertainties are included for the Hanford (H1),
Livingston (L1), and Virgo (V1) detectors. The calibration configuration file
can be generated as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_inference_create_calibration_config<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--calibration-files-path<span class="w"> </span><span class="si">${</span><span class="nv">CALIB_ENV_FILE_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--ifos<span class="w"> </span>H1<span class="w"> </span>L1<span class="w"> </span>V1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--minimum-frequency<span class="w"> </span>H1:21.6<span class="w"> </span>L1:21.6<span class="w"> </span>V1:21.6<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--maximum-frequency<span class="w"> </span>H1:2048<span class="w"> </span>L1:2048<span class="w"> </span>V1:2048<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--gps-time<span class="w"> </span><span class="m">1187008882</span>.42<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--correction-type<span class="w"> </span>H1:data<span class="w"> </span>L1:data<span class="w"> </span>V1:template<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tag<span class="w"> </span>GW170817_124104
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike the GW150914 example, the Virgo (V1) detector for GW170817 uses
<code class="docutils literal notranslate"><span class="pre">template</span></code> calibration corrections, meaning that calibration uncertainties
are applied to the waveform model or template rather than directly to the
data stream. The Hanford (H1) and Livingston (L1) detectors continue to use
<code class="docutils literal notranslate"><span class="pre">data</span></code> calibration type.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../models.html" class="btn btn-neutral float-left" title="Details of common Models in PyCBC Inference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../viz.html" class="btn btn-neutral float-right" title="Plotting the posteriors (pycbc_inference_plot_posterior)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      <span class="lastupdated">Last updated on Feb 06, 2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>