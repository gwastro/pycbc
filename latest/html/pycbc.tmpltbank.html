

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pycbc.tmpltbank package &mdash; PyCBC 2.10.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=751f435e"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/typed.min.js?v=edb71f0b"></script>
      <script src="_static/terminal.css?v=d691274a"></script>
      <script src="_static/theme_overrides.css?v=e4e1d026"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pycbc.types package" href="pycbc.types.html" />
    <link rel="prev" title="pycbc.strain package" href="pycbc.strain.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(193,193,255,1) 85%)" >

          
          
          <a href="index.html">
            
              <img src="https://raw.githubusercontent.com/gwastro/pycbc-logo/master/pycbc_logo_name.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing PyCBC</a></li>
<li class="toctree-l1"><a class="reference internal" href="credit.html">Use of PyCBC in Scientific Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Library Examples and Interactive Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="searches.html">PyCBC searches</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="apps.html">Applications and Workflows</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow/pycbc_make_psd_estimation_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_psd_estimation_workflow</span></code>: A workflow generator for noise estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow/pycbc_make_offline_search_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_offline_search_workflow</span></code>: A workflow to search for gravitational waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow/pygrb.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_offline_grb_workflow</span></code>: A GRB triggered CBC analysis workflow generator</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.tmpltbank</span></code>)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#non-spin-bank-placement-pycbc-geom-nonspinbank">Non spin bank placement: pycbc_geom_nonspinbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#aligned-spin-geometric-placement-pycbc-geom-aligned-bank">Aligned-spin geometric placement: pycbc_geom_aligned_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#aligned-spin-stochastic-placement">Aligned-spin stochastic placement</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#hybrid-approaches-the-best-of-both-worlds">Hybrid approaches: the best of both worlds</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="tmpltbank.html#the-module-s-source-code">The module’s source code</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">pycbc.tmpltbank package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hwinj.html">Hardware injection waveform generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="banksim.html">Calculating the Effectualness (Fitting Factor) of Template Banks</a></li>
<li class="toctree-l2"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="upload_to_gracedb.html">Uploading triggers to gracedb</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc_condition_strain.html"><code class="docutils literal notranslate"><span class="pre">pycbc_condition_strain</span></code>: operations with strain data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="mock_data_generation.html"><code class="docutils literal notranslate"><span class="pre">pycbc_generate_mock_data</span></code>: Generating mock data</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dev Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extend.html">Extending PyCBC with external plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="devs.html">Documentation for Developers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(193,193,255,1) 85%)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCBC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">pycbc</a></li>
          <li class="breadcrumb-item"><a href="pycbc.html">pycbc package</a></li>
      <li class="breadcrumb-item active">pycbc.tmpltbank package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/gwastro/pycbc/blob/master/docs/pycbc.tmpltbank.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pycbc-tmpltbank-package">
<h1>pycbc.tmpltbank package<a class="headerlink" href="#pycbc-tmpltbank-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-pycbc.tmpltbank.bank_conversions">
<span id="pycbc-tmpltbank-bank-conversions-module"></span><h2>pycbc.tmpltbank.bank_conversions module<a class="headerlink" href="#module-pycbc.tmpltbank.bank_conversions" title="Link to this heading"></a></h2>
<p>This module is supplied to make a convenience function for converting into
specific values from PyCBC template banks.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_conversions.get_bank_property">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_conversions.</span></span><span class="sig-name descname"><span class="pre">get_bank_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_conversions.html#get_bank_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_conversions.get_bank_property" title="Link to this definition"></a></dt>
<dd><p>Get a specific value from a hdf file object in standard PyCBC
template bank format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – the parameter to convert to, must be in conversion_options</p></li>
<li><p><strong>bank</strong> (<em>h5py File object</em><em> or </em><em>dictionary</em><em> of </em><em>arrays</em>) – Template bank containing the parameters for use in conversions
must contain mass1, mass2, spin1z, spin2z as a minimum</p></li>
<li><p><strong>template_ids</strong> (<em>numpy array</em>) – Array of template IDs for reading a set of templates from the bank</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> – Array of whatever the requested parameter is calculated for
the specified templates in the bank</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy array, same size as template_ids</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.bank_output_utils">
<span id="pycbc-tmpltbank-bank-output-utils-module"></span><h2>pycbc.tmpltbank.bank_output_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.bank_output_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_output_utils.calculate_ethinca_metric_comps">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_output_utils.</span></span><span class="sig-name descname"><span class="pre">calculate_ethinca_metric_comps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ethincaParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_ethinca</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#calculate_ethinca_metric_comps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.calculate_ethinca_metric_comps" title="Link to this definition"></a></dt>
<dd><p>Calculate the Gamma components needed to use the ethinca metric.
At present this outputs the standard TaylorF2 metric over the end time
and chirp times tau_0 and tau_3.
A desirable upgrade might be to use the chi coordinates [defined WHERE?]
for metric distance instead of tau_0 and tau_3.
The lower frequency cutoff is currently hard-coded to be the same as the
bank layout options fLow and f0 (which must be the same as each other).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>ethincaParams</strong> (<em>ethincaParameters instance</em>) – Structure holding options relevant to the ethinca metric computation.</p></li>
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the heavier body in the considered template.</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the lighter body in the considered template.</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> (</em><em>optional</em><em>, </em><em>default=0</em><em>)</em>) – Spin of the heavier body in the considered template.</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> (</em><em>optional</em><em>, </em><em>default=0</em><em>)</em>) – Spin of the lighter body in the considered template.</p></li>
<li><p><strong>full_ethinca</strong> (<em>boolean</em><em> (</em><em>optional</em><em>, </em><em>default=True</em><em>)</em>) – If True calculate the ethinca components in all 3 directions (mass1,
mass2 and time). If False calculate only the time component (which is
stored in Gamma0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fMax_theor</strong> (<em>float</em>) – Value of the upper frequency cutoff given by the template parameters
and the cutoff formula requested.</p></li>
<li><p><strong>gammaVals</strong> (<em>numpy_array</em>) – Array holding 6 independent metric components in
(end_time, tau_0, tau_3) coordinates to be stored in the Gamma0-5
slots of a SnglInspiral object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_output_utils.convert_to_sngl_inspiral_table">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_output_utils.</span></span><span class="sig-name descname"><span class="pre">convert_to_sngl_inspiral_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proc_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#convert_to_sngl_inspiral_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.convert_to_sngl_inspiral_table" title="Link to this definition"></a></dt>
<dd><p>Convert a list of m1,m2,spin1z,spin2z values into a basic sngl_inspiral
table with mass and spin parameters populated and event IDs assigned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>iterable</em>) – Each entry in the params iterable should be a sequence of
[mass1, mass2, spin1z, spin2z] in that order</p></li>
<li><p><strong>proc_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Process ID to add to each row of the sngl_inspiral table</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bank of templates in SnglInspiralTable format</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SnglInspiralTable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_output_utils.output_bank_to_file">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_output_utils.</span></span><span class="sig-name descname"><span class="pre">output_bank_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempBank</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#output_bank_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.output_bank_to_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_output_utils.output_bank_to_hdf">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_output_utils.</span></span><span class="sig-name descname"><span class="pre">output_bank_to_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempBank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optDict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">programName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approximant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#output_bank_to_hdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.output_bank_to_hdf" title="Link to this definition"></a></dt>
<dd><p>Function that converts the information produced by the various PyCBC bank
generation codes into a hdf5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputFile</strong> (<em>string</em>) – Name of the file that the bank will be written to</p></li>
<li><p><strong>tempBank</strong> (<em>iterable</em>) – Each entry in the tempBank iterable should be a sequence of
[mass1,mass2,spin1z,spin2z] in that order.</p></li>
<li><p><strong>(</strong><strong>key-word-argument</strong><strong>)</strong> (<em>programName</em>) – Name of the executable that has been run</p></li>
<li><p><strong>argument</strong><strong>)</strong> (<em>optDict</em><em> (</em><em>key-word</em>) – Dictionary of the command line arguments passed to the program</p></li>
<li><p><strong>approximant</strong> (<em>string</em>) – The approximant to be outputted to the file,
if output_duration is True, this is also used for that calculation.</p></li>
<li><p><strong>output_duration</strong> (<em>boolean</em>) – Output the duration of the template, calculated using
get_waveform_filter_length_in_time, to the file.</p></li>
<li><p><strong>kwargs</strong> (<em>optional key-word arguments</em>) – Allows unused options to be passed to this function (for modularity)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.bank_output_utils.output_sngl_inspiral_table">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.bank_output_utils.</span></span><span class="sig-name descname"><span class="pre">output_sngl_inspiral_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempBank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">programName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optDict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdoc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#output_sngl_inspiral_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.output_sngl_inspiral_table" title="Link to this definition"></a></dt>
<dd><p>Function that converts the information produced by the various PyCBC bank
generation codes into a valid LIGOLW XML file containing a sngl_inspiral
table and outputs to file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputFile</strong> (<em>string</em>) – Name of the file that the bank will be written to</p></li>
<li><p><strong>tempBank</strong> (<em>iterable</em>) – Each entry in the tempBank iterable should be a sequence of
[mass1,mass2,spin1z,spin2z] in that order.</p></li>
<li><p><strong>(</strong><strong>key-word-argument</strong><strong>)</strong> (<em>programName</em>) – Name of the executable that has been run</p></li>
<li><p><strong>argument</strong><strong>)</strong> (<em>outdoc</em><em> (</em><em>key-word</em>) – Dictionary of the command line arguments passed to the program</p></li>
<li><p><strong>argument</strong><strong>)</strong> – If given add template bank to this representation of a xml document and
write to disk. If not given create a new document.</p></li>
<li><p><strong>kwargs</strong> (<em>optional key-word arguments</em>) – Allows unused options to be passed to this function (for modularity)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.brute_force_methods">
<span id="pycbc-tmpltbank-brute-force-methods-module"></span><h2>pycbc.tmpltbank.brute_force_methods module<a class="headerlink" href="#module-pycbc.tmpltbank.brute_force_methods" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.brute_force_methods.find_xi_extrema_brute">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.brute_force_methods.</span></span><span class="sig-name descname"><span class="pre">find_xi_extrema_brute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestMasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestXis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_minimum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaleFactor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numIterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#find_xi_extrema_brute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.find_xi_extrema_brute" title="Link to this definition"></a></dt>
<dd><p>This function is used to find the largest or smallest value of the xi
space in a specified
dimension at a specified point in the higher dimensions. It does this by
iteratively throwing points at the space to find extrema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>array</em>) – Position in the xi space at which to assess the depth. This can be only
a subset of the higher dimensions than that being sampled.</p></li>
<li><p><strong>bestMasses</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the xis point.
This is aimed to give the code a starting point.</p></li>
<li><p><strong>bestXis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains the position of bestMasses in the xi coordinate system.</p></li>
<li><p><strong>direction_num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The dimension that you want to assess the depth of (0 = 1, 1 = 2 …)</p></li>
<li><p><strong>req_match</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – When considering points to assess the depth with, only consider points
with a mismatch that is smaller than this with xis.</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
<li><p><strong>find_minimum</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default = False</em><em>)</em>) – If True, find the minimum value of the xi direction. If False find the
maximum value.</p></li>
<li><p><strong>scaleFactor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default = 0.8</em><em>)</em>) – The value of the scale factor that is used when calling
pycbc.tmpltbank.get_mass_distribution.</p></li>
<li><p><strong>numIterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default = 3000</em><em>)</em>) – The number of times to make calls to get_mass_distribution when
assessing the maximum/minimum of this parameter space. Making this
smaller makes the code faster, but at the cost of accuracy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xi_extent</strong> – The extremal value of the specified dimension at the specified point in
parameter space.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.brute_force_methods.get_mass_distribution">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.brute_force_methods.</span></span><span class="sig-name descname"><span class="pre">get_mass_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bestMasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaleFactor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numJumpPoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chirpMassJumpFac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etaJumpFac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1zJumpFac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2zJumpFac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#get_mass_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.get_mass_distribution" title="Link to this definition"></a></dt>
<dd><p>Given a set of masses, this function will create a set of points nearby
in the mass space and map these to the xi space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bestMasses</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains [ChirpMass, eta, spin1z, spin2z]. Points will be placed around
tjos</p></li>
<li><p><strong>scaleFactor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – This parameter describes the radius away from bestMasses that points
will be placed in.</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
<li><p><strong>numJumpPoints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default = 100</em><em>)</em>) – The number of points that will be generated every iteration</p></li>
<li><p><strong>chirpMassJumpFac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default=0.0001</em><em>)</em>) – The jump points will be chosen with fractional variation in chirpMass
up to this multiplied by scaleFactor.</p></li>
<li><p><strong>etaJumpFac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default=0.01</em><em>)</em>) – The jump points will be chosen with fractional variation in eta
up to this multiplied by scaleFactor.</p></li>
<li><p><strong>spin1zJumpFac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default=0.01</em><em>)</em>) – The jump points will be chosen with absolute variation in spin1z up to
this multiplied by scaleFactor.</p></li>
<li><p><strong>spin2zJumpFac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default=0.01</em><em>)</em>) – The jump points will be chosen with absolute variation in spin2z up to
this multiplied by scaleFactor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>Totmass</strong> (<em>numpy.array</em>) – Total mass of the resulting points</p></li>
<li><p><strong>Eta</strong> (<em>numpy.array</em>) – Symmetric mass ratio of the resulting points</p></li>
<li><p><strong>Spin1z</strong> (<em>numpy.array</em>) – Spin of the heavier body of the resulting points</p></li>
<li><p><strong>Spin2z</strong> (<em>numpy.array</em>) – Spin of the smaller body of the resulting points</p></li>
<li><p><strong>Diff</strong> (<em>numpy.array</em>) – Mass1 - Mass2 of the resulting points</p></li>
<li><p><strong>Mass1</strong> (<em>numpy.array</em>) – Mass1 (mass of heavier body) of the resulting points</p></li>
<li><p><strong>Mass2</strong> (<em>numpy.array</em>) – Mass2 (mass of smaller body) of the resulting points</p></li>
<li><p><strong>new_xis</strong> (<em>list of numpy.array</em>) – Position of points in the xi coordinates</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.brute_force_methods.get_physical_covaried_masses">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.brute_force_methods.</span></span><span class="sig-name descname"><span class="pre">get_physical_covaried_masses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestMasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestXis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">giveUpThresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#get_physical_covaried_masses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.get_physical_covaried_masses" title="Link to this definition"></a></dt>
<dd><p>This function takes the position of a point in the xi parameter space and
iteratively finds a close point in the physical coordinate space (masses
and spins).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>array</em>) – Desired position of the point in the xi space. If only N values are
provided and the xi space’s dimension is larger then it is assumed that
<em>any</em> value in the remaining xi coordinates is acceptable.</p></li>
<li><p><strong>bestMasses</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the desired point.
This is aimed to give the code a starting point.</p></li>
<li><p><strong>bestXis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains the position of bestMasses in the xi coordinate system.</p></li>
<li><p><strong>req_match</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Desired maximum mismatch between xis and the obtained point. If a point
is found with mismatch &lt; req_match immediately stop and return that
point. A point with this mismatch will not always be found.</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
<li><p><strong>giveUpThresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default = 5000</em><em>)</em>) – The program will try this many iterations. If no close matching point
has been found after this it will give up.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mass1</strong> (<em>float</em>) – The heavier mass of the obtained point.</p></li>
<li><p><strong>mass2</strong> (<em>float</em>) – The smaller mass of the obtained point</p></li>
<li><p><strong>spin1z</strong> (<em>float</em>) – The heavier bodies spin of the obtained point.</p></li>
<li><p><strong>spin2z</strong> (<em>float</em>) – The smaller bodies spin of the obtained point.</p></li>
<li><p><strong>count</strong> (<em>int</em>) – How many iterations it took to find the point. For debugging.</p></li>
<li><p><strong>mismatch</strong> (<em>float</em>) – The mismatch between the obtained point and the input xis.</p></li>
<li><p><strong>new_xis</strong> (<em>list</em>) – The position of the point in the xi space</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.brute_force_methods.stack_xi_direction_brute">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.brute_force_methods.</span></span><span class="sig-name descname"><span class="pre">stack_xi_direction_brute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestMasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bestXis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">req_match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaleFactor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numIterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#stack_xi_direction_brute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.stack_xi_direction_brute" title="Link to this definition"></a></dt>
<dd><p>This function is used to assess the depth of the xi_space in a specified
dimension at a specified point in the higher dimensions. It does this by
iteratively throwing points at the space to find maxima and minima.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>array</em>) – Position in the xi space at which to assess the depth. This can be only
a subset of the higher dimensions than that being sampled.</p></li>
<li><p><strong>bestMasses</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the xis point.
This is aimed to give the code a starting point.</p></li>
<li><p><strong>bestXis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Contains the position of bestMasses in the xi coordinate system.</p></li>
<li><p><strong>direction_num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The dimension that you want to assess the depth of (0 = 1, 1 = 2 …)</p></li>
<li><p><strong>req_match</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – When considering points to assess the depth with, only consider points
with a mismatch that is smaller than this with xis.</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
<li><p><strong>scaleFactor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em><em> (</em><em>default = 0.8</em><em>)</em>) – The value of the scale factor that is used when calling
pycbc.tmpltbank.get_mass_distribution.</p></li>
<li><p><strong>numIterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em><em> (</em><em>default = 3000</em><em>)</em>) – The number of times to make calls to get_mass_distribution when
assessing the maximum/minimum of this parameter space. Making this
smaller makes the code faster, but at the cost of accuracy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>xi_min</strong> (<em>float</em>) – The minimal value of the specified dimension at the specified point in
parameter space.</p></li>
<li><p><strong>xi_max</strong> (<em>float</em>) –</p>
<dl class="simple">
<dt>The maximal value of the specified dimension at the specified point in</dt><dd><p>parameter space.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.calc_moments">
<span id="pycbc-tmpltbank-calc-moments-module"></span><h2>pycbc.tmpltbank.calc_moments module<a class="headerlink" href="#module-pycbc.tmpltbank.calc_moments" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.calculate_metric">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">calculate_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Js</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logloglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglogloglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_metric" title="Link to this definition"></a></dt>
<dd><p>This function will take the various integrals calculated by get_moments and
convert this into a metric for the appropriate parameter space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Js</strong> (<em>Dictionary</em>) – The list of (log^0 x) * x**(-i/3) integrals computed by get_moments()
The index is Js[i]</p></li>
<li><p><strong>logJs</strong> (<em>Dictionary</em>) – The list of (log^1 x) * x**(-i/3) integrals computed by get_moments()
The index is logJs[i]</p></li>
<li><p><strong>loglogJs</strong> (<em>Dictionary</em>) – The list of (log^2 x) * x**(-i/3) integrals computed by get_moments()
The index is loglogJs[i]</p></li>
<li><p><strong>logloglogJs</strong> (<em>Dictionary</em>) – The list of (log^3 x) * x**(-i/3) integrals computed by get_moments()
The index is logloglogJs[i]</p></li>
<li><p><strong>loglogloglogJs</strong> (<em>Dictionary</em>) – The list of (log^4 x) * x**(-i/3) integrals computed by get_moments()
The index is loglogloglogJs[i]</p></li>
<li><p><strong>mapping</strong> (<em>dictionary</em>) – Used to identify which Lambda components are active in this parameter
space and map these to entries in the metric matrix.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>metric</strong> – The resulting metric.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.calculate_metric_comp">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">calculate_metric_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unmax_metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Js</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logloglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglogloglogJs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_metric_comp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_metric_comp" title="Link to this definition"></a></dt>
<dd><p>Used to compute part of the metric. Only call this from within
calculate_metric(). Please see the documentation for that function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.calculate_moment">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">calculate_moment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psd_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psd_amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_moment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_moment" title="Link to this definition"></a></dt>
<dd><p>Function for calculating one of the integrals used to construct a template
bank placement metric. The integral calculated will be</p>
<p>int funct(x) * (psd_x)**(-7./3.) * delta_x / PSD(x)</p>
<p>where x = f / f0. The lower frequency cutoff is given by fmin, see
the parameters below for details on how the upper frequency cutoff is
chosen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psd_f</strong> (<em>numpy.array</em>) – numpy array holding the set of evenly spaced frequencies used in the PSD</p></li>
<li><p><strong>psd_amp</strong> (<em>numpy.array</em>) – numpy array holding the PSD values corresponding to the psd_f
frequencies</p></li>
<li><p><strong>fmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The lower frequency cutoff used in the calculation of the integrals
used to obtain the metric.</p></li>
<li><p><strong>fmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The upper frequency cutoff used in the calculation of the integrals
used to obtain the metric. This can be varied (see the vary_fmax
option below).</p></li>
<li><p><strong>f0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – This is an arbitrary scaling factor introduced to avoid the potential
for numerical overflow when calculating this. Generally the default
value (70) is safe here. <strong>IMPORTANT, if you want to calculate the
ethinca metric components later this MUST be set equal to f_low.</strong></p></li>
<li><p><strong>funct</strong> (<em>Lambda function</em>) – The function to use when computing the integral as described above.</p></li>
<li><p><strong>norm</strong> (<em>Dictionary</em><em> of </em><em>floats</em>) – If given then moment[f_cutoff] will be divided by norm[f_cutoff]</p></li>
<li><p><strong>vary_fmax</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper.
Thus values greater than f_upper are <em>not</em> computed.
The calculation for the full range [f_low,f_upper) is also done.</p></li>
<li><p><strong>vary_density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>moment</strong> – moment[f_cutoff] will store the value of the moment at the frequency
cutoff given by f_cutoff.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.determine_eigen_directions">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">determine_eigen_directions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserveMoments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#determine_eigen_directions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.determine_eigen_directions" title="Link to this definition"></a></dt>
<dd><p>This function will calculate the coordinate transfomations that are needed
to rotate from a coordinate system described by the various Lambda
components in the frequency expansion, to a coordinate system where the
metric is Cartesian.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric.</p></li>
<li><p><strong>preserveMoments</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – Currently only used for debugging.
If this is given then if the moments structure is already set
within metricParams then they will not be recalculated.</p></li>
<li><p><strong>vary_fmax</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper.
Thus values greater than f_upper are <em>not</em> computed.
The calculation for the full range [f_low,f_upper) is also done.</p></li>
<li><p><strong>vary_density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric.
<strong>THIS FUNCTION ONLY RETURNS THE CLASS</strong>
The following will be <strong>added</strong> to this structure</p></li>
<li><p><strong>metricParams.evals</strong> (<em>Dictionary of numpy.array</em>) – Each entry in the dictionary corresponds to the different frequency
ranges described in vary_fmax. If vary_fmax = False, the only entry
will be f_upper, this corresponds to integrals in [f_low,f_upper). This
entry is always present. Each other entry will use floats as keys to
the dictionary. These floats give the upper frequency cutoff when it is
varying.
Each numpy.array contains the eigenvalues which, with the eigenvectors
in evecs, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p></li>
<li><p><strong>metricParams.evecs</strong> (<em>Dictionary of numpy.matrix</em>) – Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p></li>
<li><p><strong>metricParams.metric</strong> (<em>Dictionary of numpy.matrix</em>) – Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i coordinate system.</p></li>
<li><p><strong>metricParams.moments</strong> (<em>Moments structure</em>) – See the structure documentation for a description of this. This
contains the result of all the integrals used in computing the metrics
above. It can be used for the ethinca components calculation, or other
similar calculations.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.get_moments">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">get_moments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#get_moments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.get_moments" title="Link to this definition"></a></dt>
<dd><p>This function will calculate the various integrals (moments) that are
needed to compute the metric used in template bank placement and
coincidence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric.</p></li>
<li><p><strong>vary_fmax</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default False</em><em>)</em>) – If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper.
Thus values greater than f_upper are <em>not</em> computed.
The calculation for the full range [f_low,f_upper) is also done.</p></li>
<li><p><strong>vary_density</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>None</strong> (<em>None</em>) – <strong>THIS FUNCTION RETURNS NOTHING</strong>
The following will be <strong>added</strong> to the metricParams structure</p></li>
<li><p><strong>metricParams.moments</strong> (<em>Moments structure</em>) – This contains the result of all the integrals used in computing the
metrics above. It can be used for the ethinca components calculation,
or other similar calculations. This is composed of two compound
dictionaries. The first entry indicates which moment is being
calculated and the second entry indicates the upper frequency cutoff
that was used.</p>
<p>In all cases x = f/f0.</p>
<p>For the first entries the options are:</p>
<p>moments[‘J%d’ %(i)][f_cutoff]
This stores the integral of
x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘log%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.))) x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**2 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**3 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**4 x**((-i)/3.) * delta X / PSD(x)</p>
<p>The second entry stores the frequency cutoff used when computing
the integral. See description of the vary_fmax option above.</p>
<p>All of these values are nomralized by a factor of</p>
<p>x**((-7)/3.) * delta X / PSD(x)</p>
<p>The normalization factor can be obtained in</p>
<p>moments[‘I7’][f_cutoff]</p>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.calc_moments.interpolate_psd">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.calc_moments.</span></span><span class="sig-name descname"><span class="pre">interpolate_psd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psd_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psd_amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaF</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#interpolate_psd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.interpolate_psd" title="Link to this definition"></a></dt>
<dd><p>Function to interpolate a PSD to a different value of deltaF. Uses linear
interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>psd_f</strong> (<em>numpy.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>similar</em>) – List of the frequencies contained within the PSD.</p></li>
<li><p><strong>psd_amp</strong> (<em>numpy.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>similar</em>) – List of the PSD values at the frequencies in psd_f.</p></li>
<li><p><strong>deltaF</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Value of deltaF to interpolate the PSD to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>new_psd_f</strong> (<em>numpy.array</em>) – Array of the frequencies contained within the interpolated PSD</p></li>
<li><p><strong>new_psd_amp</strong> (<em>numpy.array</em>) – Array of the interpolated PSD values at the frequencies in new_psd_f.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.coord_utils">
<span id="pycbc-tmpltbank-coord-utils-module"></span><h2>pycbc.tmpltbank.coord_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.coord_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.calc_point_dist">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">calc_point_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vsA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entryA</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#calc_point_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.calc_point_dist" title="Link to this definition"></a></dt>
<dd><p>This function is used to determine the distance between two points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vsA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>numpy.array</em><em> or </em><em>similar</em>) – An array of point 1’s position in the chi_i coordinate system</p></li>
<li><p><strong>entryA</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> or </em><em>numpy.array</em><em> or </em><em>similar</em>) – An array of point 2’s position in the chi_i coordinate system</p></li>
<li><p><strong>MMdistA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The minimal mismatch allowed between the points</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>val</strong> – The metric distance between the two points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.calc_point_dist_vary">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">calc_point_dist_vary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mus1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mus2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fMap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MMdistA</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#calc_point_dist_vary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.calc_point_dist_vary" title="Link to this definition"></a></dt>
<dd><p>Function to determine if two points, with differing upper frequency cutoffs
have a mismatch &lt; MMdistA for <em>both</em> upper frequency cutoffs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mus1</strong> (<em>List</em><em> of </em><em>numpy arrays</em>) – mus1[i] will give the array of point 1’s position in the chi_j
coordinate system. The i element corresponds to varying values of the
upper frequency cutoff. fMap is used to map between i and actual
frequencies</p></li>
<li><p><strong>fUpper1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The upper frequency cutoff of point 1.</p></li>
<li><p><strong>mus2</strong> (<em>List</em><em> of </em><em>numpy arrays</em>) – mus2[i] will give the array of point 2’s position in the chi_j
coordinate system. The i element corresponds to varying values of the
upper frequency cutoff. fMap is used to map between i and actual
frequencies</p></li>
<li><p><strong>fUpper2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The upper frequency cutoff of point 2.</p></li>
<li><p><strong>fMap</strong> (<em>dictionary</em>) – fMap[fUpper] will give the index needed to get the chi_j coordinates
in the two sets of mus</p></li>
<li><p><strong>norm_map</strong> (<em>dictionary</em>) – norm_map[fUpper] will give the relative frequency domain template
amplitude (sigma) at the given value of fUpper.</p></li>
<li><p><strong>MMdistA</strong> – The minimal mismatch allowed between the points</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the points have a mismatch &lt; MMdistA
False if the points have a mismatch &gt; MMdistA</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.estimate_mass_range">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">estimate_mass_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">covary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#estimate_mass_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.estimate_mass_range" title="Link to this definition"></a></dt>
<dd><p>This function will generate a large set of points with random masses and
spins (using pycbc.tmpltbank.get_random_mass) and translate these points
into the xi_i coordinate system for the given upper frequency cutoff.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPoints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of systems to simulate</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper). It also must be a key in
metricParams.evecsCV if covary=True.</p></li>
<li><p><strong>covary</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default = True</em><em>)</em>) – If this is given then evecsCV will be used to rotate from the Cartesian
coordinate system into the principal coordinate direction (xi_i). If
not given then points in the original Cartesian coordinates are
returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xis</strong> – A list of the positions of each point in the xi_i coordinate system.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.find_closest_calculated_frequencies">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">find_closest_calculated_frequencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_freqs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#find_closest_calculated_frequencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.find_closest_calculated_frequencies" title="Link to this definition"></a></dt>
<dd><p>Given a value (or array) of input frequencies find the closest values in
the list of frequencies calculated in the metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_freqs</strong> (<em>numpy.array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The frequency(ies) that you want to find the closest value in
metric_freqs</p></li>
<li><p><strong>metric_freqs</strong> (<em>numpy.array</em>) – The list of frequencies calculated by the metric</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>output_freqs</strong> – The list of closest values to input_freqs for which the metric was
computed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.find_max_and_min_frequencies">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">find_max_and_min_frequencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass_range_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#find_max_and_min_frequencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.find_max_and_min_frequencies" title="Link to this definition"></a></dt>
<dd><p>ADD DOCS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_conv_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_conv_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_conv_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_conv_params" title="Link to this definition"></a></dt>
<dd><p>Function to convert between masses and spins and locations in the mu
parameter space. Mu = Cartesian metric, but not principal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of heavier body.</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of lighter body.</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of body 1.</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of body 2.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mus</strong> – Position of the system(s) in the mu coordinate system</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of floats or numpy.arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_cov_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_cov_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_cov_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_cov_params" title="Link to this definition"></a></dt>
<dd><p>Function to convert between masses and spins and locations in the xi
parameter space. Xi = Cartesian metric and rotated to principal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of heavier body.</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of lighter body.</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of body 1.</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of body 2.</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xis</strong> – Position of the system(s) in the xi coordinate system</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of floats or numpy.arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_covaried_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_covaried_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evecsCV</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_covaried_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_covaried_params" title="Link to this definition"></a></dt>
<dd><p>Function to rotate from position(s) in the mu_i coordinate system into the
position(s) in the xi_i coordinate system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mus</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>floats</em><em> or </em><em>numpy.arrays</em>) – Position of the system(s) in the mu coordinate system</p></li>
<li><p><strong>evecsCV</strong> (<em>numpy.matrix</em>) – This matrix is used to perform the rotation to the xi_i
coordinate system.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xis</strong> – Position of the system(s) in the xi coordinate system</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of floats or numpy.arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_mu_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_mu_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambdas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_mu_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_mu_params" title="Link to this definition"></a></dt>
<dd><p>Function to rotate from the lambda coefficients into position in the mu
coordinate system. Mu = Cartesian metric, but not principal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lambdas</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>floats</em><em> or </em><em>numpy.arrays</em>) – Position of the system(s) in the lambda coefficients</p></li>
<li><p><strong>metricParams</strong> (<em>metricParameters instance</em>) – Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p></li>
<li><p><strong>fUpper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mus</strong> – Position of the system(s) in the mu coordinate system</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of floats or numpy.arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_point_distance">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_point_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_point_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_point_distance" title="Link to this definition"></a></dt>
<dd><p>Function to calculate the mismatch between two points, supplied in terms
of the masses and spins, using the xi_i parameter space metric to
approximate the mismatch of the two points. Can also take one of the points
as an array of points and return an array of mismatches (but only one can
be an array!)</p>
<dl class="simple">
<dt>point1<span class="classifier">List of floats or numpy.arrays</span></dt><dd><p>point1[0] contains the mass(es) of the heaviest body(ies).
point1[1] contains the mass(es) of the smallest body(ies).
point1[2] contains the spin(es) of the heaviest body(ies).
point1[3] contains the spin(es) of the smallest body(ies).</p>
</dd>
<dt>point2<span class="classifier">List of floats</span></dt><dd><p>point2[0] contains the mass of the heaviest body.
point2[1] contains the mass of the smallest body.
point2[2] contains the spin of the heaviest body.
point2[3] contains the spin of the smallest body.</p>
</dd>
<dt>metricParams<span class="classifier">metricParameters instance</span></dt><dd><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</dd>
<dt>fUpper<span class="classifier">float</span></dt><dd><p>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>dist</strong> (<em>float or numpy.array</em>) – Distance between the point2 and all points in point1</p></li>
<li><p><strong>xis1</strong> (<em>List of floats or numpy.arrays</em>) – Position of the input point1(s) in the xi_i parameter space</p></li>
<li><p><strong>xis2</strong> (<em>List of floats</em>) – Position of the input point2 in the xi_i parameter space</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_random_mass">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_random_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2H'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_random_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_random_mass" title="Link to this definition"></a></dt>
<dd><p>This function will generate a large set of points within the chosen mass
and spin space, and with the desired minimum remnant disk mass (this applies
to NS-BH systems only). It will also return the corresponding PN spin
coefficients for ease of use later (though these may be removed at some
future point).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPoints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of systems to simulate</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
<li><p><strong>eos</strong> (<em>string</em>) – Name of equation of state of neutron star.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mass1</strong> (<em>float</em>) – Mass of heavier body.</p></li>
<li><p><strong>mass2</strong> (<em>float</em>) – Mass of lighter body.</p></li>
<li><p><strong>spin1z</strong> (<em>float</em>) – Spin of body 1.</p></li>
<li><p><strong>spin2z</strong> (<em>float</em>) – Spin of body 2.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.get_random_mass_point_particles">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">get_random_mass_point_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">massRangeParams</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_random_mass_point_particles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_random_mass_point_particles" title="Link to this definition"></a></dt>
<dd><p>This function will generate a large set of points within the chosen mass
and spin space. It will also return the corresponding PN spin coefficients
for ease of use later (though these may be removed at some future point).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPoints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of systems to simulate</p></li>
<li><p><strong>massRangeParams</strong> (<em>massRangeParameters instance</em>) – Instance holding all the details of mass ranges and spin ranges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mass1</strong> (<em>float</em>) – Mass of heavier body.</p></li>
<li><p><strong>mass2</strong> (<em>float</em>) – Mass of lighter body.</p></li>
<li><p><strong>spin1z</strong> (<em>float</em>) – Spin of body 1.</p></li>
<li><p><strong>spin2z</strong> (<em>float</em>) – Spin of body 2.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.outspiral_loop">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">outspiral_loop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#outspiral_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.outspiral_loop" title="Link to this definition"></a></dt>
<dd><p>Return a list of points that will loop outwards in a 2D lattice in terms
of distance from a central point. So if N=2 this will be [0,0], [0,1],
[0,-1],[1,0],[-1,0],[1,1] …. This is useful when you want to loop over
a number of bins, but want to start in the center and work outwards.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.return_nearest_cutoff">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">return_nearest_cutoff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#return_nearest_cutoff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.return_nearest_cutoff" title="Link to this definition"></a></dt>
<dd><p>Given an array of total mass values and an (ascending) list of
frequencies, this will calculate the specified cutoff formula for each
mtotal and return the nearest frequency to each cutoff from the input
list.
Currently only supports cutoffs that are functions of the total mass
and no other parameters (SchwarzISCO, LightRing, ERD)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – Name of the cutoff formula to be approximated</p></li>
<li><p><strong>mass_dict</strong> (<em>Dictionary where the keys are used to call the functions</em>) – returned by tmpltbank.named_frequency_cutoffs. The values can be
numpy arrays or single values.</p></li>
<li><p><strong>freqs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>floats</em>) – A list of frequencies (must be sorted ascending)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The frequencies closest to the cutoff for each value of totmass.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.rotate_vector">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">rotate_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evecs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#rotate_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.rotate_vector" title="Link to this definition"></a></dt>
<dd><p>Function to find the position of the system(s) in one of the xi_i or mu_i
directions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evecs</strong> (<em>numpy.matrix</em>) – Matrix of the eigenvectors of the metric in lambda_i coordinates. Used
to rotate to a Cartesian coordinate system.</p></li>
<li><p><strong>old_vector</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><em>floats</em><em> or </em><em>numpy.arrays</em>) – The position of the system(s) in the original coordinates</p></li>
<li><p><strong>rescale_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Scaling factor to apply to resulting position(s)</p></li>
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the final coordinate system that is being computed. Ie.
if we are going from mu_i -&gt; xi_j, this will give j.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>positions</strong> – Position of the point(s) in the resulting coordinate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a> or numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.coord_utils.test_point_dist">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.coord_utils.</span></span><span class="sig-name descname"><span class="pre">test_point_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_1_chis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_2_chis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_threshold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#test_point_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.test_point_dist" title="Link to this definition"></a></dt>
<dd><p>This function tests if the difference between two points in the chi
parameter space is less than a distance threshold. Returns True if it is
and False if it is not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point_1_chis</strong> (<em>numpy.array</em>) – An array of point 1’s position in the chi_i coordinate system</p></li>
<li><p><strong>point_2_chis</strong> (<em>numpy.array</em>) – An array of point 2’s position in the chi_i coordinate system</p></li>
<li><p><strong>distance_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The distance threshold to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.lambda_mapping">
<span id="pycbc-tmpltbank-lambda-mapping-module"></span><h2>pycbc.tmpltbank.lambda_mapping module<a class="headerlink" href="#module-pycbc.tmpltbank.lambda_mapping" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lambda_mapping.ethinca_order_from_string">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lambda_mapping.</span></span><span class="sig-name descname"><span class="pre">ethinca_order_from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#ethinca_order_from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.ethinca_order_from_string" title="Link to this definition"></a></dt>
<dd><p>Returns the integer giving twice the post-Newtonian order
used by the ethinca calculation. Currently valid only for TaylorF2 metric</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<em>string</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lambda_mapping.generate_inverse_mapping">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lambda_mapping.</span></span><span class="sig-name descname"><span class="pre">generate_inverse_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#generate_inverse_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.generate_inverse_mapping" title="Link to this definition"></a></dt>
<dd><p>Genereate a lambda entry -&gt; PN order map.</p>
<p>This function will generate the opposite of generate mapping. So where
generate_mapping gives dict[key] = item this will give
dict[item] = key. Valid PN orders are:</p>
<blockquote>
<div><ul class="simple">
<li><p>zeroPN: Will only include the dominant term (proportional to chirp mass)</p></li>
<li><p>onePN: Will only the leading orbit term and first correction at 1PN</p></li>
<li><p>onePointFivePN: Will include orbit and spin terms to 1.5PN.</p></li>
<li><p>twoPN: Will include orbit and spin terms to 2PN.</p></li>
<li><p>twoPointFivePN: Will include orbit and spin terms to 2.5PN.</p></li>
<li><p>threePN: Will include orbit terms to 3PN and spin terms to 2.5PN.</p></li>
<li><p>threePointFivePN: Include orbit terms to 3.5PN and spin terms to 2.5PN</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<em>string</em>) – A string containing a PN order. Valid values are given above.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mapping</strong> – An inverse mapping between the active Lambda terms and index in the
metric</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lambda_mapping.generate_mapping">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lambda_mapping.</span></span><span class="sig-name descname"><span class="pre">generate_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#generate_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.generate_mapping" title="Link to this definition"></a></dt>
<dd><p>This function will take an order string and return a mapping between
components in the metric and the various Lambda components. This must be
used (and consistently used) when generating the metric <em>and</em> when
transforming to/from the xi_i coordinates to the lambda_i coordinates.</p>
<p>NOTE: This is not a great way of doing this. It would be nice to clean
this up. Hence pulling this function out. The valid PN orders are</p>
<blockquote>
<div><ul class="simple">
<li><p>zeroPN: Will only include the dominant term (proportional to chirp mass)</p></li>
<li><p>onePN: Will only the leading orbit term and first correction at 1PN</p></li>
<li><p>onePointFivePN: Will include orbit and spin terms to 1.5PN.</p></li>
<li><p>twoPN: Will include orbit and spin terms to 2PN.</p></li>
<li><p>twoPointFivePN: Will include orbit and spin terms to 2.5PN.</p></li>
<li><p>threePN: Will include orbit terms to 3PN and spin terms to 2.5PN.</p></li>
<li><p>threePointFivePN: Include orbit terms to 3.5PN and spin terms to 2.5PN</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<em>string</em>) – A string containing a PN order. Valid values are given above.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mapping</strong> – A mapping between the active Lambda terms and index in the metric</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lambda_mapping.get_chirp_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lambda_mapping.</span></span><span class="sig-name descname"><span class="pre">get_chirp_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quadparam2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#get_chirp_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.get_chirp_params" title="Link to this definition"></a></dt>
<dd><p>Take a set of masses and spins and convert to the various lambda
coordinates that describe the orbital phase. Accepted PN orders are:</p>
<blockquote>
<div><ul class="simple">
<li><p>zeroPN: Will only include the dominant term (proportional to chirp mass)</p></li>
<li><p>onePN: Will only the leading orbit term and first correction at 1PN</p></li>
<li><p>onePointFivePN: Will include orbit and spin terms to 1.5PN.</p></li>
<li><p>twoPN: Will include orbit and spin terms to 2PN.</p></li>
<li><p>twoPointFivePN: Will include orbit and spin terms to 2.5PN.</p></li>
<li><p>threePN: Will include orbit terms to 3PN and spin terms to 2.5PN.</p></li>
<li><p>threePointFivePN: Include orbit terms to 3.5PN and spin terms to 2.5PN</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> or </em><em>array</em>) – Mass1 of input(s).</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> or </em><em>array</em>) – Mass2 of input(s).</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> or </em><em>array</em>) – Parallel spin component(s) of body 1.</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> or </em><em>array</em>) – Parallel spin component(s) of body 2.</p></li>
<li><p><strong>f0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – This is an arbitrary scaling factor introduced to avoid the potential
for numerical overflow when calculating this. Generally the default
value (70) is safe here. <strong>IMPORTANT, if you want to calculate the
ethinca metric components later this MUST be set equal to f_low.</strong>
This value must also be used consistently (ie. don’t change its value
when calling different functions!).</p></li>
<li><p><strong>order</strong> (<em>string</em>) – The Post-Newtonian order that is used to translate from masses and
spins to the lambda_i coordinate system. Valid orders given above.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>lambdas</strong> – The lambda coordinates for the input system(s)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of floats or numpy.arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lambda_mapping.get_ethinca_orders">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lambda_mapping.</span></span><span class="sig-name descname"><span class="pre">get_ethinca_orders</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#get_ethinca_orders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.get_ethinca_orders" title="Link to this definition"></a></dt>
<dd><p>Returns the dictionary mapping TaylorF2 PN order names to twice-PN
orders (powers of v/c)</p>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.lattice_utils">
<span id="pycbc-tmpltbank-lattice-utils-module"></span><h2>pycbc.tmpltbank.lattice_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.lattice_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lattice_utils.generate_anstar_3d_lattice">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lattice_utils.</span></span><span class="sig-name descname"><span class="pre">generate_anstar_3d_lattice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxv1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minv1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxv2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minv2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxv3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minv3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mindist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lattice_utils.html#generate_anstar_3d_lattice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lattice_utils.generate_anstar_3d_lattice" title="Link to this definition"></a></dt>
<dd><p>This function calls into LAL routines to generate a 3-dimensional array
of points using the An^* lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxv1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Largest value in the 1st dimension to cover</p></li>
<li><p><strong>minv1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Smallest value in the 1st dimension to cover</p></li>
<li><p><strong>maxv2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Largest value in the 2nd dimension to cover</p></li>
<li><p><strong>minv2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Smallest value in the 2nd dimension to cover</p></li>
<li><p><strong>maxv3</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Largest value in the 3rd dimension to cover</p></li>
<li><p><strong>minv3</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Smallest value in the 3rd dimension to cover</p></li>
<li><p><strong>mindist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Maximum allowed mismatch between a point in the parameter space and the
generated bank of points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>v1s</strong> (<em>numpy.array</em>) – Array of positions in the first dimension</p></li>
<li><p><strong>v2s</strong> (<em>numpy.array</em>) – Array of positions in the second dimension</p></li>
<li><p><strong>v3s</strong> (<em>numpy.array</em>) – Array of positions in the second dimension</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.lattice_utils.generate_hexagonal_lattice">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.lattice_utils.</span></span><span class="sig-name descname"><span class="pre">generate_hexagonal_lattice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxv1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minv1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxv2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minv2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mindist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lattice_utils.html#generate_hexagonal_lattice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.lattice_utils.generate_hexagonal_lattice" title="Link to this definition"></a></dt>
<dd><p>This function generates a 2-dimensional lattice of points using a hexagonal
lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxv1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Largest value in the 1st dimension to cover</p></li>
<li><p><strong>minv1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Smallest value in the 1st dimension to cover</p></li>
<li><p><strong>maxv2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Largest value in the 2nd dimension to cover</p></li>
<li><p><strong>minv2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Smallest value in the 2nd dimension to cover</p></li>
<li><p><strong>mindist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Maximum allowed mismatch between a point in the parameter space and the
generated bank of points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>v1s</strong> (<em>numpy.array</em>) – Array of positions in the first dimension</p></li>
<li><p><strong>v2s</strong> (<em>numpy.array</em>) – Array of positions in the second dimension</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.option_utils">
<span id="pycbc-tmpltbank-option-utils-module"></span><h2>pycbc.tmpltbank.option_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.option_utils" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">IndentedHelpFormatterWithNL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent_increment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_help_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.ArgumentDefaultsHelpFormatter" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentDefaultsHelpFormatter</span></code></a></p>
<p>This class taken from
<a class="reference external" href="https://groups.google.com/forum/#!topic/comp.lang.python/bfbmtUGhW8I">https://groups.google.com/forum/#!topic/comp.lang.python/bfbmtUGhW8I</a>
and is used to format the argparse help messages to deal with line breaking
nicer. Specfically the pn-order help is large and looks crappy without this.
This function is (C) Tim Chase</p>
<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL.format_description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description" title="Link to this definition"></a></dt>
<dd><p>No documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option">
<span class="sig-name descname"><span class="pre">format_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL.format_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option" title="Link to this definition"></a></dt>
<dd><p>No documentation</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.check_ethinca_against_bank_params">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">check_ethinca_against_bank_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ethincaParams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metricParams</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#check_ethinca_against_bank_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.check_ethinca_against_bank_params" title="Link to this definition"></a></dt>
<dd><p>Cross-check the ethinca and bank layout metric calculation parameters
and set the ethinca metric PN order equal to the bank PN order if not
previously set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ethincaParams</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#pycbc.tmpltbank.option_utils.ethincaParameters" title="pycbc.tmpltbank.option_utils.ethincaParameters"><em>ethincaParameters</em></a>)</p></li>
<li><p><strong>metricParams</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters" title="pycbc.tmpltbank.option_utils.metricParameters"><em>metricParameters</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.ethincaParameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">ethincaParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pnOrder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqStep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fLow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_ethinca</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_ethinca</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#ethincaParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.ethincaParameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_ethinca_metric_options
and all products produced using these options. It can also be initialized
from the __init__ function, providing directly the options normally
provided on the command line</p>
<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_argparse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#ethincaParameters.from_argparse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse" title="Link to this definition"></a></dt>
<dd><p>Initialize an instance of the ethincaParameters class from an
argparse.OptionParser instance. This assumes that
insert_ethinca_metric_options
and
verify_ethinca_metric_options
have already been called before initializing the class.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.get_options_from_group">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">get_options_from_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option_group</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#get_options_from_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.get_options_from_group" title="Link to this definition"></a></dt>
<dd><p>Take an option group and return all the options that are defined in that
group.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.insert_base_bank_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">insert_base_bank_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_req</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_base_bank_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_base_bank_options" title="Link to this definition"></a></dt>
<dd><p>Adds essential common options for template bank generation to an
ArgumentParser instance.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.insert_ethinca_metric_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">insert_ethinca_metric_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_ethinca_metric_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_ethinca_metric_options" title="Link to this definition"></a></dt>
<dd><p>Adds the options used to calculate the ethinca metric, if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – OptionParser instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.insert_mass_range_option_group">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">insert_mass_range_option_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nonSpin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_mass_range_option_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_mass_range_option_group" title="Link to this definition"></a></dt>
<dd><p>Adds the options used to specify mass ranges in the bank generation codes
to an argparser as an OptionGroup. This should be used if you
want to use these options in your code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – OptionParser instance.</p></li>
<li><p><strong>nonSpin</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – If this is provided the spin-related options will not be added.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.insert_metric_calculation_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">insert_metric_calculation_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_metric_calculation_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_metric_calculation_options" title="Link to this definition"></a></dt>
<dd><p>Adds the options used to obtain a metric in the bank generation codes to an
argparser as an OptionGroup. This should be used if you want to use these
options in your code.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">massRangeParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minMass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxMass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minMass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxMass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxNSSpinMag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxBHSpinMag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxTotMass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minTotMass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxEta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minEta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_chirp_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_chirp_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_bh_boundary_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsbhFlag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remnant_mass_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_eos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_eos_max_ns_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_bh_spin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_ns_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_mass_range_option_group
and all products produced using these options. It can also be initialized
from the __init__ function providing directly the options normally
provided on the command line</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_bh_spin">
<span class="sig-name descname"><span class="pre">default_delta_bh_spin</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_bh_spin" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_ns_mass">
<span class="sig-name descname"><span class="pre">default_delta_ns_mass</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_ns_mass" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.default_ns_eos">
<span class="sig-name descname"><span class="pre">default_ns_eos</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2H'</span></em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_ns_eos" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.default_nsbh_boundary_mass">
<span class="sig-name descname"><span class="pre">default_nsbh_boundary_mass</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3.0</span></em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_nsbh_boundary_mass" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_argparse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nonSpin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters.from_argparse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse" title="Link to this definition"></a></dt>
<dd><p>Initialize an instance of the massRangeParameters class from an
argparse.OptionParser instance. This assumes that
insert_mass_range_option_group
and
verify_mass_range_options
have already been called before initializing the class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range">
<span class="sig-name descname"><span class="pre">is_outside_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters.is_outside_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range" title="Link to this definition"></a></dt>
<dd><p>Test if a given location in mass1, mass2, spin1z, spin2z is within the
range of parameters allowed by the massParams object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">metricParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pnOrder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fLow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fUpper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#metricParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_metric_calculation_options
and all products produced using these options. It can also be initialized
from the __init__ function, providing directly the options normally
provided on the command line.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.evals">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evals</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evals" title="Link to this definition"></a></dt>
<dd><p>The eigenvalues of the parameter space.
This is a Dictionary of numpy.array
Each entry in the dictionary corresponds to the different frequency
ranges described in vary_fmax. If vary_fmax = False, the only entry
will be f_upper, this corresponds to integrals in [f_low,f_upper). This
entry is always present. Each other entry will use floats as keys to
the dictionary. These floats give the upper frequency cutoff when it is
varying.
Each numpy.array contains the eigenvalues which, with the eigenvectors
in evecs, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.evecs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evecs</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evecs" title="Link to this definition"></a></dt>
<dd><p>The eigenvectors of the parameter space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.evecsCV">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evecsCV</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evecsCV" title="Link to this definition"></a></dt>
<dd><p>The eigenvectors of the principal directions of the mu space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.from_argparse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_argparse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#metricParameters.from_argparse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.from_argparse" title="Link to this definition"></a></dt>
<dd><p>Initialize an instance of the metricParameters class from an
argparse.OptionParser instance. This assumes that
insert_metric_calculation_options
and
verify_metric_calculation_options
have already been called before initializing the class.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.metric">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metric</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.metric" title="Link to this definition"></a></dt>
<dd><p>The metric of the parameter space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i coordinate system.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.moments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moments</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.moments" title="Link to this definition"></a></dt>
<dd><p>Moments structure
This contains the result of all the integrals used in computing the
metrics above. It can be used for the ethinca components calculation,
or other similar calculations. This is composed of two compound
dictionaries. The first entry indicates which moment is being
calculated and the second entry indicates the upper frequency cutoff
that was used.</p>
<p>In all cases x = f/f0.</p>
<p>For the first entries the options are:</p>
<p>moments[‘J%d’ %(i)][f_cutoff]
This stores the integral of
x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘log%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.))) x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**2 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**3 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[‘loglog%d’ %(i)][f_cutoff]
This stores the integral of
(numpy.log(x**(1./3.)))**4 x**((-i)/3.) * delta X / PSD(x)</p>
<p>The second entry stores the frequency cutoff that was used when
computing the integral.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.psd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psd</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.psd" title="Link to this definition"></a></dt>
<dd><p>A pyCBC FrequencySeries holding the appropriate PSD.
Return the PSD used in the metric calculation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_unprojected_metric</span></span><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric" title="Link to this definition"></a></dt>
<dd><p>The metric of the parameter space with the time dimension unprojected.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i, t coordinate system. The time components are always in the
last [-1] position in the matrix.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.verify_ethinca_metric_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">verify_ethinca_metric_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_ethinca_metric_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_ethinca_metric_options" title="Link to this definition"></a></dt>
<dd><p>Checks that the necessary options are given for the ethinca metric
calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opts</strong> (<em>argparse.Values instance</em>) – Result of parsing the input options with OptionParser</p></li>
<li><p><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – The OptionParser instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.verify_mass_range_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">verify_mass_range_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nonSpin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_mass_range_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_mass_range_options" title="Link to this definition"></a></dt>
<dd><p>Parses the metric calculation options given and verifies that they are
correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opts</strong> (<em>argparse.Values instance</em>) – Result of parsing the input options with OptionParser</p></li>
<li><p><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – The OptionParser instance.</p></li>
<li><p><strong>nonSpin</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – If this is provided the spin-related options will not be checked.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycbc.tmpltbank.option_utils.verify_metric_calculation_options">
<span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.option_utils.</span></span><span class="sig-name descname"><span class="pre">verify_metric_calculation_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_metric_calculation_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_metric_calculation_options" title="Link to this definition"></a></dt>
<dd><p>Parses the metric calculation options given and verifies that they are
correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opts</strong> (<em>argparse.Values instance</em>) – Result of parsing the input options with OptionParser</p></li>
<li><p><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><em>object</em></a>) – The OptionParser instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.partitioned_bank">
<span id="pycbc-tmpltbank-partitioned-bank-module"></span><h2>pycbc.tmpltbank.partitioned_bank module<a class="headerlink" href="#module-pycbc.tmpltbank.partitioned_bank" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.partitioned_bank.</span></span><span class="sig-name descname"><span class="pre">PartitionedTmpltbank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass_range_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_range_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class is used to hold a template bank partitioned into numerous bins
based on position in the Cartesian parameter space where the axes are the
principal components. It can also be used to hold intermediary
products used while constructing (e.g.) a stochastic template bank.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords">
<span class="sig-name descname"><span class="pre">add_point_by_chi_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_fupper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_point_by_chi_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords" title="Link to this definition"></a></dt>
<dd><p>Add a point to the partitioned template bank. The point_fupper and mus
kwargs must be provided for all templates if the vary fupper capability
is desired. This requires that the chi_coords, as well as mus and
point_fupper if needed, to be precalculated. If you just have the
masses and don’t want to worry about translations see
add_point_by_masses, which will do translations and then call this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p></li>
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The heavier mass of the point to add.</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The lighter mass of the point to add.</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The [aligned] spin on the heavier body.</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The [aligned] spin on the lighter body.
The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p></li>
<li><p><strong>mus</strong> (<em>numpy.array</em>) – A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses">
<span class="sig-name descname"><span class="pre">add_point_by_masses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin1z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin2z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fupper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_point_by_masses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses" title="Link to this definition"></a></dt>
<dd><p>Add a point to the template bank. This differs from add point to bank
as it assumes that the chi coordinates and the products needed to use
vary_fupper have not already been calculated. This function calculates
these products and then calls add_point_by_chi_coords.
This function also
carries out a number of sanity checks (eg. is the point within the
ranges given by mass_range_params) that add_point_by_chi_coords does
not do for speed concerns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the heavier body</p></li>
<li><p><strong>mass2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Mass of the lighter body</p></li>
<li><p><strong>spin1z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of the heavier body</p></li>
<li><p><strong>spin2z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Spin of the lighter body</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_hdf_file">
<span class="sig-name descname"><span class="pre">add_tmpltbank_from_hdf_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf_fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fupper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_tmpltbank_from_hdf_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_hdf_file" title="Link to this definition"></a></dt>
<dd><p>This function will take a pointer to an open HDF File object containing
a list of templates and add them into the partitioned template bank
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdf_fp</strong> (<em>h5py.File object</em>) – The template bank in HDF5 format.</p></li>
<li><p><strong>vary_fupper</strong> (<em>False</em>) – If given also include the additional information needed to compute
distances with a varying upper frequency cutoff.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table">
<span class="sig-name descname"><span class="pre">add_tmpltbank_from_xml_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sngl_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vary_fupper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_tmpltbank_from_xml_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table" title="Link to this definition"></a></dt>
<dd><p>This function will take a sngl_inspiral_table of templates and add them
into the partitioned template bank object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sngl_table</strong> (<em>sngl_inspiral_table</em>) – List of sngl_inspiral templates.</p></li>
<li><p><strong>vary_fupper</strong> (<em>False</em>) – If given also include the additional information needed to compute
distances with a varying upper frequency cutoff.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance">
<span class="sig-name descname"><span class="pre">calc_point_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.calc_point_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance" title="Link to this definition"></a></dt>
<dd><p>Calculate distance between point and the bank. Return the closest
distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>min_dist</strong> (<em>float</em>) – The smallest <strong>SQUARED</strong> metric distance between the test point and
the bank.</p></li>
<li><p><strong>indexes</strong> (<em>The chi1_bin, chi2_bin and position within that bin at which</em>) – the closest matching point lies.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary">
<span class="sig-name descname"><span class="pre">calc_point_distance_vary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_fupper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mus</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.calc_point_distance_vary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary" title="Link to this definition"></a></dt>
<dd><p>Calculate distance between point and the bank allowing the metric to
vary based on varying upper frequency cutoff. Slower than
calc_point_distance, but more reliable when upper frequency cutoff can
change a lot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p></li>
<li><p><strong>point_fupper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p></li>
<li><p><strong>mus</strong> (<em>numpy.array</em>) – A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>min_dist</strong> (<em>float</em>) – The smallest <strong>SQUARED</strong> metric distance between the test point and
the bank.</p></li>
<li><p><strong>indexes</strong> (<em>The chi1_bin, chi2_bin and position within that bin at which</em>) – the closest matching point lies.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence">
<span class="sig-name descname"><span class="pre">check_bin_existence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi1_bin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi2_bin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.check_bin_existence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence" title="Link to this definition"></a></dt>
<dd><p>Given indices for bins in chi1 and chi2 space check that the bin
exists in the object. If not add it. Also check for the existence of
all bins within +/- self.bin_range_check and add if not present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi1_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the chi1_bin to check</p></li>
<li><p><strong>chi2_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the chi2_bin to check</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin">
<span class="sig-name descname"><span class="pre">find_point_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.find_point_bin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin" title="Link to this definition"></a></dt>
<dd><p>Given a set of coordinates in the chi parameter space, identify the
indices of the chi1 and chi2 bins that the point occurs in. Returns
these indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>chi1_bin</strong> (<em>int</em>) – Index of the chi_1 bin.</p></li>
<li><p><strong>chi2_bin</strong> (<em>int</em>) – Index of the chi_2 bin.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations">
<span class="sig-name descname"><span class="pre">get_freq_map_and_normalizations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_freq_formula</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.get_freq_map_and_normalizations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations" title="Link to this definition"></a></dt>
<dd><p>If using the –vary-fupper capability we need to store the mapping
between index and frequencies in the list. We also precalculate the
normalization factor at every frequency, which is used when estimating
overlaps to account for abrupt changes in termination frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency_list</strong> (<em>array</em><em> of </em><em>floats</em>) – The frequencies for which the metric has been computed and lie
within the parameter space being considered.</p></li>
<li><p><strong>upper_freq_formula</strong> (<em>string</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx">
<span class="sig-name descname"><span class="pre">get_point_from_bins_and_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi1_bin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chi2_bin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.get_point_from_bins_and_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx" title="Link to this definition"></a></dt>
<dd><p>Find masses and spins given bin numbers and index.</p>
<p>Given the chi1 bin, chi2 bin and an index, return the masses and spins
of the point at that index. Will fail if no point exists there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi1_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The bin number for chi1.</p></li>
<li><p><strong>chi2_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The bin number for chi2.</p></li>
<li><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index within the chi1, chi2 bin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mass1</strong> (<em>float</em>) – Mass of heavier body.</p></li>
<li><p><strong>mass2</strong> (<em>float</em>) – Mass of lighter body.</p></li>
<li><p><strong>spin1z</strong> (<em>float</em>) – Spin of heavier body.</p></li>
<li><p><strong>spin2z</strong> (<em>float</em>) – Spin of lighter body.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points">
<span class="sig-name descname"><span class="pre">output_all_points</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.output_all_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points" title="Link to this definition"></a></dt>
<dd><p>Return all points in the bank.</p>
<p>Return all points in the bank as lists of m1, m2, spin1z, spin2z.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>mass1</strong> (<em>list</em>) – List of mass1 values.</p></li>
<li><p><strong>mass2</strong> (<em>list</em>) – List of mass2 values.</p></li>
<li><p><strong>spin1z</strong> (<em>list</em>) – List of spin1z values.</p></li>
<li><p><strong>spin2z</strong> (<em>list</em>) – List of spin2z values.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance">
<span class="sig-name descname"><span class="pre">test_point_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_threshold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.test_point_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance" title="Link to this definition"></a></dt>
<dd><p>Test if the distance between the supplied point and the bank is less
than the supplied distance theshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p></li>
<li><p><strong>distance_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The <strong>SQUARE ROOT</strong> of the metric distance to test as threshold.
E.g. if you want to test to a minimal match of 0.97 you would
use 1 - 0.97 = 0.03 for this value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if point is within the distance threshold. False if not.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary">
<span class="sig-name descname"><span class="pre">test_point_distance_vary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_fupper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_threshold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.test_point_distance_vary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary" title="Link to this definition"></a></dt>
<dd><p>Test if distance between point and the bank is greater than distance
threshold while allowing the metric to
vary based on varying upper frequency cutoff. Slower than
test_point_distance, but more reliable when upper frequency cutoff can
change a lot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chi_coords</strong> (<em>numpy.array</em>) – The position of the point in the chi coordinates.</p></li>
<li><p><strong>point_fupper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p></li>
<li><p><strong>mus</strong> (<em>numpy.array</em>) – A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p></li>
<li><p><strong>distance_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The <strong>SQUARE ROOT</strong> of the metric distance to test as threshold.
E.g. if you want to test to a minimal match of 0.97 you would
use 1 - 0.97 = 0.03 for this value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if point is within the distance threshold. False if not.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pycbc.tmpltbank.sky_grid">
<span id="pycbc-tmpltbank-sky-grid-module"></span><h2>pycbc.tmpltbank.sky_grid module<a class="headerlink" href="#module-pycbc.tmpltbank.sky_grid" title="Link to this heading"></a></h2>
<p>Functionality for handling grids of points in the sky for coherent SNR
calculation via <cite>pycbc_multi_inspiral</cite>. The main operation to be performed on
these points is calculating the antenna pattern functions and time delays from
the Earth center for a network of detectors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycbc.tmpltbank.sky_grid.</span></span><span class="sig-name descname"><span class="pre">SkyGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_gps_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.calculate_antenna_patterns">
<span class="sig-name descname"><span class="pre">calculate_antenna_patterns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid.calculate_antenna_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.calculate_antenna_patterns" title="Link to this definition"></a></dt>
<dd><p>Calculate the antenna pattern functions at each point in the grid
for the list of GW detectors specified at instantiation. Return a dict,
keyed by detector name, whose items are 2-dimensional Numpy arrays.
The first dimension of these arrays runs over the sky grid, and the
second dimension runs over the plus and cross polarizations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.calculate_time_delays">
<span class="sig-name descname"><span class="pre">calculate_time_delays</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid.calculate_time_delays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.calculate_time_delays" title="Link to this definition"></a></dt>
<dd><p>Calculate the time delays from the Earth center to each GW detector
specified at instantiation, for each point in the grid. Return a dict,
keyed by detector name, whose items are 1-dimensional Numpy arrays
containing the time delays for each sky point.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.decs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decs</span></span><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.decs" title="Link to this definition"></a></dt>
<dd><p>Returns all declinations in radians, where π/2 is the North pole,
-π/2 is the South pole, and 0 is the celestial equator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.from_cli">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cli</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cli_parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cli_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid.from_cli"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.from_cli" title="Link to this definition"></a></dt>
<dd><p>Initialize a sky grid from command-line interface, via argparse
objects.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.ras">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ras</span></span><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.ras" title="Link to this definition"></a></dt>
<dd><p>Returns all right ascensions in radians, in the interval [0,2π).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.read_from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid.read_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.read_from_file" title="Link to this definition"></a></dt>
<dd><p>Initialize a sky grid from a given HDF5 file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycbc.tmpltbank.sky_grid.SkyGrid.write_to_file">
<span class="sig-name descname"><span class="pre">write_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/sky_grid.html#SkyGrid.write_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pycbc.tmpltbank.sky_grid.SkyGrid.write_to_file" title="Link to this definition"></a></dt>
<dd><p>Writes a sky grid to an HDF5 file.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pycbc.tmpltbank">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pycbc.tmpltbank" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pycbc.strain.html" class="btn btn-neutral float-left" title="pycbc.strain package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pycbc.types.html" class="btn btn-neutral float-right" title="pycbc.types package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      <span class="lastupdated">Last updated on Feb 06, 2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>