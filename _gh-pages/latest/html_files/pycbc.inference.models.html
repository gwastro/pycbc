<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pycbc.inference.models package &mdash; PyCBC 0.0a8230 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/terminal.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/typed.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pycbc.inference.sampler package" href="pycbc.inference.sampler.html" />
    <link rel="prev" title="pycbc.inference.jump package" href="pycbc.inference.jump.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PyCBC
          </a>
              <div class="version">
                1.18.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="credit.html">Use of PyCBC in Scientific Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running PyCBC under Docker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_psd_estimation_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_psd_estimation_workflow</span></code>: A workflow generator for noise estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_coinc_search_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_coinc_search_workflow</span></code>: A workflow to search for gravitational waves</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pygrb.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_offline_grb_workflow</span></code>: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.tmpltbank</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="hwinj.html">Hardware injection waveform generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="banksim.html">Calculating the Effectualness (Fitting Factor) of Template Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_to_gracedb.html">Uploading triggers to gracedb</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="waveform_plugin.html">Making new waveform approximants available to PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Catalog of Observed Gravitational-wave Mergers</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataquality.html">Query times of valid data, hardware injections, and more.</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame.html">Reading Gravitational-wave Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft.html">Performing FFTs in PyCBC</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw150914.html">Signal Processing with GW150914</a></li>
<li class="toctree-l1"><a class="reference internal" href="detector.html">Gravitational-wave Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="psd.html">Handling PSDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Generating Noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="waveform.html">Waveforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Using PyCBC Distributions from PyCBC Inference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="building_bundled_executables.html">Building Bundled Executables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documenting PyCBC code</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Creating Releases of PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formats/hdf_format.html">HDF files within the PyCBC workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal notranslate"><span class="pre">pycbc.workflow</span></code>)</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pycbc</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pycbc.html">pycbc package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pycbc.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pycbc.catalog.html">pycbc.catalog package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.distributions.html">pycbc.distributions package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.events.html">pycbc.events package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.fft.html">pycbc.fft package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.filter.html">pycbc.filter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.frame.html">pycbc.frame package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pycbc.inference.html">pycbc.inference package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.inject.html">pycbc.inject package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.io.html">pycbc.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.population.html">pycbc.population package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.results.html">pycbc.results package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.strain.html">pycbc.strain package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.tmpltbank.html">pycbc.tmpltbank package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.types.html">pycbc.types package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.vetoes.html">pycbc.vetoes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.waveform.html">pycbc.waveform package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html">pycbc.workflow package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.bin_utils">pycbc.bin_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.boundaries">pycbc.boundaries module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.conversions">pycbc.conversions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.coordinates">pycbc.coordinates module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.cosmology">pycbc.cosmology module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.detector">pycbc.detector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.dq">pycbc.dq module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.libutils">pycbc.libutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.mchirp_area">pycbc.mchirp_area module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.opt">pycbc.opt module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.pnutils">pycbc.pnutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.pool">pycbc.pool module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.rate">pycbc.rate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.scheme">pycbc.scheme module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.sensitivity">pycbc.sensitivity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.transforms">pycbc.transforms module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.version">pycbc.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCBC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">pycbc</a> &raquo;</li>
          <li><a href="pycbc.html">pycbc package</a> &raquo;</li>
          <li><a href="pycbc.inference.html">pycbc.inference package</a> &raquo;</li>
      <li>pycbc.inference.models package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pycbc.inference.models.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pycbc-inference-models-package">
<h1>pycbc.inference.models package<a class="headerlink" href="#pycbc-inference-models-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pycbc.inference.models.analytic">
<span id="pycbc-inference-models-analytic-module"></span><h2>pycbc.inference.models.analytic module<a class="headerlink" href="#module-pycbc.inference.models.analytic" title="Permalink to this headline">¶</a></h2>
<p>This modules provides models that have analytic solutions for the
log likelihood.</p>
<dl class="class">
<dt id="pycbc.inference.models.analytic.TestEggbox">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestEggbox</code><span class="sig-paren">(</span><em>variable_params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestEggbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestEggbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>The test distribution is an ‘eggbox’ function:</p>
<div class="math notranslate nohighlight">
\[\log \mathcal{L}(\Theta) = \left[
    2+\prod_{i=1}^{n}\cos\left(\frac{\theta_{i}}{2}\right)\right]^{5}\]</div>
<p>The number of dimensions is set by the number of <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> that
are passed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestEggbox.name">
<code class="descname">name</code><em class="property"> = 'test_eggbox'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestEggbox.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.analytic.TestNormal">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestNormal</code><span class="sig-paren">(</span><em>variable_params</em>, <em>mean=None</em>, <em>cov=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestNormal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestNormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>The test distribution is an multi-variate normal distribution.</p>
<p>The number of dimensions is set by the number of <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> that
are passed. For details on the distribution used, see
<code class="docutils literal notranslate"><span class="pre">scipy.stats.multivariate_normal</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>mean</strong> (<em>array-like</em><em>, </em><em>optional</em>) – The mean values of the parameters. If None provide, will use 0 for all
parameters.</li>
<li><strong>cov</strong> (<em>array-like</em><em>, </em><em>optional</em>) – The covariance matrix of the parameters. If None provided, will use
unit variance for all parameters, with cross-terms set to 0.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a 2D model with zero mean and unit variance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">TestNormal</span><span class="p">([</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Set the current parameters and evaluate the log posterior:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">logposterior</span>
<span class="go">-1.8628770664093453</span>
</pre></div>
</div>
<p>See the current stats that were evaluated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">current_stats</span>
<span class="go">{&#39;logjacobian&#39;: 0.0, &#39;loglikelihood&#39;: -1.8628770664093453, &#39;logprior&#39;: 0.0}</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestNormal.name">
<code class="descname">name</code><em class="property"> = 'test_normal'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestNormal.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.analytic.TestPosterior">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestPosterior</code><span class="sig-paren">(</span><em>variable_params</em>, <em>posterior_file</em>, <em>nsamples</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestPosterior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestPosterior" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>Build a test posterior from a set of samples using a kde</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>posterior_file</strong> (<em>hdf file</em>) – A compatible pycbc inference output file which posterior samples can
be read from.</li>
<li><strong>nsamples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Number of samples to draw from posterior file to build KDE.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestPosterior.name">
<code class="descname">name</code><em class="property"> = 'test_posterior'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestPosterior.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.analytic.TestPrior">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestPrior</code><span class="sig-paren">(</span><em>variable_params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestPrior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestPrior" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>Uses the prior as the test distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied. Must have length 2.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestPrior.name">
<code class="descname">name</code><em class="property"> = 'test_prior'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestPrior.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.analytic.TestRosenbrock">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestRosenbrock</code><span class="sig-paren">(</span><em>variable_params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestRosenbrock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestRosenbrock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>The test distribution is the Rosenbrock function:</p>
<div class="math notranslate nohighlight">
\[\log \mathcal{L}(\Theta) = -\sum_{i=1}^{n-1}[
    (1-\theta_{i})^{2}+100(\theta_{i+1} - \theta_{i}^{2})^{2}]\]</div>
<p>The number of dimensions is set by the number of <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> that
are passed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestRosenbrock.name">
<code class="descname">name</code><em class="property"> = 'test_rosenbrock'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestRosenbrock.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.analytic.TestVolcano">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.analytic.</code><code class="descname">TestVolcano</code><span class="sig-paren">(</span><em>variable_params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/analytic.html#TestVolcano"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.analytic.TestVolcano" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>The test distribution is a two-dimensional ‘volcano’ function:</p>
<div class="math notranslate nohighlight">
\[\Theta =
    \sqrt{\theta_{1}^{2} + \theta_{2}^{2}} \log \mathcal{L}(\Theta) =
    25\left(e^{\frac{-\Theta}{35}} +
            \frac{1}{2\sqrt{2\pi}} e^{-\frac{(\Theta-5)^{2}}{8}}\right)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied. Must have length 2.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.analytic.TestVolcano.name">
<code class="descname">name</code><em class="property"> = 'test_volcano'</em><a class="headerlink" href="#pycbc.inference.models.analytic.TestVolcano.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.base">
<span id="pycbc-inference-models-base-module"></span><h2>pycbc.inference.models.base module<a class="headerlink" href="#module-pycbc.inference.models.base" title="Permalink to this headline">¶</a></h2>
<p>Base class for models.</p>
<dl class="class">
<dt id="pycbc.inference.models.base.BaseModel">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.base.</code><code class="descname">BaseModel</code><span class="sig-paren">(</span><em>variable_params</em>, <em>static_params=None</em>, <em>prior=None</em>, <em>sampling_transforms=None</em>, <em>waveform_transforms=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for all models.</p>
<p>Given some model <span class="math notranslate nohighlight">\(h\)</span> with parameters <span class="math notranslate nohighlight">\(\Theta\)</span>, Bayes Theorem
states that the probability of observing parameter values <span class="math notranslate nohighlight">\(\vartheta\)</span>
is:</p>
<div class="math notranslate nohighlight">
\[p(\vartheta|h) = \frac{p(h|\vartheta) p(\vartheta)}{p(h)}.\]</div>
<p>Here:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math notranslate nohighlight">\(p(\vartheta|h)\)</span> is the <strong>posterior</strong> probability;</li>
<li><span class="math notranslate nohighlight">\(p(h|\vartheta)\)</span> is the <strong>likelihood</strong>;</li>
<li><span class="math notranslate nohighlight">\(p(\vartheta)\)</span> is the <strong>prior</strong>;</li>
<li><span class="math notranslate nohighlight">\(p(h)\)</span> is the <strong>evidence</strong>.</li>
</ul>
</div></blockquote>
<p>This class defines properties and methods for evaluating the log
likelihood, log prior, and log posteror. A set of parameter values is set
using the <code class="docutils literal notranslate"><span class="pre">update</span></code> method. Calling the class’s
<code class="docutils literal notranslate"><span class="pre">log(likelihood|prior|posterior)</span></code> properties will then evaluate the model
at those parameter values.</p>
<p>Classes that inherit from this class must implement a <code class="docutils literal notranslate"><span class="pre">_loglikelihood</span></code>
function that can be called by <code class="docutils literal notranslate"><span class="pre">loglikelihood</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>static_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of parameter names -&gt; values to keep fixed.</li>
<li><strong>prior</strong> (<em>callable</em><em>, </em><em>optional</em>) – A callable class or function that computes the log of the prior. If
None provided, will use <code class="docutils literal notranslate"><span class="pre">_noprior</span></code>, which returns 0 for all parameter
values.</li>
<li><strong>sampling_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – Replace one or more of the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> with the given
parameters for sampling.</li>
<li><strong>replace_parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – The <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> to replace with sampling parameters. Must be
the same length as <code class="docutils literal notranslate"><span class="pre">sampling_params</span></code>.</li>
<li><strong>sampling_transforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – List of transforms to use to go between the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> and the
sampling parameters. Required if <code class="docutils literal notranslate"><span class="pre">sampling_params</span></code> is not None.</li>
<li><strong>waveform_transforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – A list of transforms to convert the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> into something
understood by the likelihood model. This is useful if the prior is
more easily parameterized in parameters that are different than what
the likelihood is most easily defined in. Since these are used solely
for converting parameters, and not for rescaling the parameter space,
a Jacobian is not required for these transforms.</li>
<li><strong>Properties</strong> – </li>
<li><strong>----------</strong> – </li>
<li><strong>logjacobian</strong> – Returns the log of the jacobian needed to go from the parameter space
of the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code> to the sampling params.</li>
<li><strong>logprior</strong> – Returns the log of the prior.</li>
<li><strong>loglikelihood</strong> – A function that returns the log of the likelihood function.</li>
<li><strong>logposterior</strong> – A function that returns the log of the posterior.</li>
<li><strong>loglr</strong> – A function that returns the log of the likelihood ratio.</li>
<li><strong>logplr</strong> – A function that returns the log of the prior-weighted likelihood ratio.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.current_params">
<code class="descname">current_params</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.current_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.current_stats">
<code class="descname">current_stats</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.current_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <code class="docutils literal notranslate"><span class="pre">default_stats</span></code> as a dict.</p>
<p>This does no computation. It only returns what has already been
calculated. If a stat hasn’t been calculated, it will be returned
as <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of stat names -&gt; current stat values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.default_stats">
<code class="descname">default_stats</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.default_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>The stats that <code class="docutils literal notranslate"><span class="pre">get_current_stats</span></code> returns by default.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.models.base.BaseModel.extra_args_from_config">
<em class="property">static </em><code class="descname">extra_args_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>section</em>, <em>skip_args=None</em>, <em>dtypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.extra_args_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.extra_args_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets any additional keyword in the given config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the section to read.</li>
<li><strong>skip_args</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Names of arguments to skip.</li>
<li><strong>dtypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of arguments -&gt; data types. If an argument is found
in the dict, it will be cast to the given datatype. Otherwise, the
argument’s value will just be read from the config file (and thus
be a string).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of keyword arguments read from the config file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.models.base.BaseModel.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes an instance of this class from the given config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>**kwargs</strong> – All additional keyword arguments are passed to the class. Any
provided keyword will over ride what is in the config file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.BaseModel.get_current_stats">
<code class="descname">get_current_stats</code><span class="sig-paren">(</span><em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.get_current_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.get_current_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return one or more of the current stats as a tuple.</p>
<p>This function does no computation. It only returns what has already
been calculated. If a stat hasn’t been calculated, it will be returned
as <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>names</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Specify the names of the stats to retrieve. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (the
default), will return <code class="docutils literal notranslate"><span class="pre">default_stats</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current values of the requested stats, as a tuple. The order
of the stats is the same as the names.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.logjacobian">
<code class="descname">logjacobian</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.logjacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>The log jacobian of the sampling transforms at the current postion.</p>
<p>If no sampling transforms were provided, will just return 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**params</strong> – The keyword arguments should specify values for all of the variable
args and all of the sampling args.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value of the jacobian.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.loglikelihood">
<code class="descname">loglikelihood</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.loglikelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>The log likelihood at the current parameters.</p>
<p>This will initially try to return the <code class="docutils literal notranslate"><span class="pre">current_stats.loglikelihood</span></code>.
If that raises an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>, will call <cite>_loglikelihood`</cite> to
calculate it and store it to <code class="docutils literal notranslate"><span class="pre">current_stats</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.logposterior">
<code class="descname">logposterior</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.logposterior" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of the posterior of the current parameter values.</p>
<p>The logprior is calculated first. If the logprior returns <code class="docutils literal notranslate"><span class="pre">-inf</span></code>
(possibly indicating a non-physical point), then the <code class="docutils literal notranslate"><span class="pre">loglikelihood</span></code>
is not called.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.logprior">
<code class="descname">logprior</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.logprior" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log prior at the current parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.name">
<code class="descname">name</code><em class="property"> = None</em><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.models.base.BaseModel.prior_from_config">
<em class="property">static </em><code class="descname">prior_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>variable_params</em>, <em>prior_section</em>, <em>constraint_section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.prior_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.prior_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets arguments and keyword arguments from a config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>variable_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of of model parameter names.</li>
<li><strong>prior_section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Section to read prior(s) from.</li>
<li><strong>constraint_section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Section to read constraint(s) from.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The prior.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pycbc.distributions.JointDistribution</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.BaseModel.prior_rvs">
<code class="descname">prior_rvs</code><span class="sig-paren">(</span><em>size=1</em>, <em>prior=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.prior_rvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.prior_rvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns random variates drawn from the prior.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">sampling_params</span></code> are different from the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code>,
the variates are transformed to the <cite>sampling_params</cite> parameter space
before being returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Number of random values to return for each parameter. Default is 1.</li>
<li><strong>prior</strong> (<a class="reference internal" href="pycbc.distributions.html#pycbc.distributions.joint.JointDistribution" title="pycbc.distributions.joint.JointDistribution"><em>JointDistribution</em></a><em>, </em><em>optional</em>) – Use the given prior to draw values rather than the saved prior.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A field array of the random values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.sampling_params">
<code class="descname">sampling_params</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.sampling_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sampling parameters.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">sampling_transforms</span></code> is None, this is the same as the
<code class="docutils literal notranslate"><span class="pre">variable_params</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.static_params">
<code class="descname">static_params</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.static_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the model’s static arguments.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.BaseModel.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the current parameter positions and resets stats.</p>
<p>If any sampling transforms are specified, they are applied to the
params before being stored.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.BaseModel.variable_params">
<code class="descname">variable_params</code><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.variable_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the model parameters.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.BaseModel.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#BaseModel.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.BaseModel.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata to the given file handler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>pycbc.inference.io.BaseInferenceFile instance</em>) – The inference file to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.base.ModelStats">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.base.</code><code class="descname">ModelStats</code><a class="reference internal" href="_modules/pycbc/inference/models/base.html#ModelStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.ModelStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to hold model’s current stat values.</p>
<dl class="method">
<dt id="pycbc.inference.models.base.ModelStats.getstats">
<code class="descname">getstats</code><span class="sig-paren">(</span><em>names</em>, <em>default=nan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#ModelStats.getstats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.ModelStats.getstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the requested stats as a tuple.</p>
<p>If a requested stat is not an attribute (implying it hasn’t been
stored), then the default value is returned for that stat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>names</strong> (<em>list of str</em>) – The names of the stats to get.</li>
<li><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – What to return if a requested stat is not an attribute of self.
Default is <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple of the requested stats.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.ModelStats.getstatsdict">
<code class="descname">getstatsdict</code><span class="sig-paren">(</span><em>names</em>, <em>default=nan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#ModelStats.getstatsdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.ModelStats.getstatsdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the requested stats as a dictionary.</p>
<p>If a requested stat is not an attribute (implying it hasn’t been
stored), then the default value is returned for that stat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>names</strong> (<em>list of str</em>) – The names of the stats to get.</li>
<li><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – What to return if a requested stat is not an attribute of self.
Default is <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary of the requested stats.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base.ModelStats.statnames">
<code class="descname">statnames</code><a class="headerlink" href="#pycbc.inference.models.base.ModelStats.statnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the stats that have been stored.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.base.SamplingTransforms">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.base.</code><code class="descname">SamplingTransforms</code><span class="sig-paren">(</span><em>variable_params</em>, <em>sampling_params</em>, <em>replace_parameters</em>, <em>sampling_transforms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#SamplingTransforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.SamplingTransforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides methods for transforming between sampling parameter space and
model parameter space.</p>
<dl class="method">
<dt id="pycbc.inference.models.base.SamplingTransforms.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>samples</em>, <em>inverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#SamplingTransforms.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.SamplingTransforms.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the sampling transforms to the given samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray"><em>FieldArray</em></a>) – The samples to apply the transforms to.</li>
<li><strong>inverse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to apply the inverse transforms (i.e., go from the sampling
args to the <code class="docutils literal notranslate"><span class="pre">variable_params</span></code>). Default is False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The transformed samples, along with the original samples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a> or <a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.models.base.SamplingTransforms.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>variable_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#SamplingTransforms.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.SamplingTransforms.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets sampling transforms specified in a config file.</p>
<p>Sampling parameters and the parameters they replace are read from the
<code class="docutils literal notranslate"><span class="pre">sampling_params</span></code> section, if it exists. Sampling transforms are
read from the <code class="docutils literal notranslate"><span class="pre">sampling_transforms</span></code> section(s), using
<code class="docutils literal notranslate"><span class="pre">transforms.read_transforms_from_config</span></code>.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> is raised if no <code class="docutils literal notranslate"><span class="pre">sampling_params</span></code> section
exists in the config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>variable_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of parameter names of the original variable params.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A sampling transforms class.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pycbc.inference.models.base.SamplingTransforms" title="pycbc.inference.models.base.SamplingTransforms">SamplingTransforms</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base.SamplingTransforms.logjacobian">
<code class="descname">logjacobian</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#SamplingTransforms.logjacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.SamplingTransforms.logjacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of the jacobian needed to transform pdfs in the
<code class="docutils literal notranslate"><span class="pre">variable_params</span></code> parameter space to the <code class="docutils literal notranslate"><span class="pre">sampling_params</span></code>
parameter space.</p>
<p>Let <span class="math notranslate nohighlight">\(\mathbf{x}\)</span> be the set of variable parameters,
<span class="math notranslate nohighlight">\(\mathbf{y} = f(\mathbf{x})\)</span> the set of sampling parameters, and
<span class="math notranslate nohighlight">\(p_x(\mathbf{x})\)</span> a probability density function defined over
<span class="math notranslate nohighlight">\(\mathbf{x}\)</span>.
The corresponding pdf in <span class="math notranslate nohighlight">\(\mathbf{y}\)</span> is then:</p>
<div class="math notranslate nohighlight">
\[p_y(\mathbf{y}) =
    p_x(\mathbf{x})\left|\mathrm{det}\,\mathbf{J}_{ij}\right|,\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{J}_{ij}\)</span> is the Jacobian of the inverse transform
<span class="math notranslate nohighlight">\(\mathbf{x} = g(\mathbf{y})\)</span>. This has elements:</p>
<div class="math notranslate nohighlight">
\[\mathbf{J}_{ij} = \frac{\partial g_i}{\partial{y_j}}\]</div>
<p>This function returns
<span class="math notranslate nohighlight">\(\log \left|\mathrm{det}\,\mathbf{J}_{ij}\right|\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**params</strong> – The keyword arguments should specify values for all of the variable
args and all of the sampling args.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value of the jacobian.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.base.read_sampling_params_from_config">
<code class="descclassname">pycbc.inference.models.base.</code><code class="descname">read_sampling_params_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>section_group=None</em>, <em>section='sampling_params'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base.html#read_sampling_params_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base.read_sampling_params_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads sampling parameters from the given config file.</p>
<p>Parameters are read from the <cite>[({section_group}_){section}]</cite> section.
The options should list the variable args to transform; the parameters they
point to should list the parameters they are to be transformed to for
sampling. If a multiple parameters are transformed together, they should
be comma separated. Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[sampling_params]</span>
<span class="na">mass1, mass2</span> <span class="o">=</span> <span class="s">mchirp, logitq</span>
<span class="na">spin1_a</span> <span class="o">=</span> <span class="s">logitspin1_a</span>
</pre></div>
</div>
<p>Note that only the final sampling parameters should be listed, even if
multiple intermediate transforms are needed. (In the above example, a
transform is needed to go from mass1, mass2 to mchirp, q, then another one
needed to go from q to logitq.) These transforms should be specified
in separate sections; see <code class="docutils literal notranslate"><span class="pre">transforms.read_transforms_from_config</span></code> for
details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – An open config parser to read from.</li>
<li><strong>section_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Append <cite>{section_group}_</cite> to the section name. Default is None.</li>
<li><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the section. Default is ‘sampling_params’.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>sampling_params</strong> (<em>list</em>) – The list of sampling parameters to use instead.</li>
<li><strong>replaced_params</strong> (<em>list</em>) – The list of variable args to replace in the sampler.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.base_data">
<span id="pycbc-inference-models-base-data-module"></span><h2>pycbc.inference.models.base_data module<a class="headerlink" href="#module-pycbc.inference.models.base_data" title="Permalink to this headline">¶</a></h2>
<p>Base classes for models with data.</p>
<dl class="class">
<dt id="pycbc.inference.models.base_data.BaseDataModel">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.base_data.</code><code class="descname">BaseDataModel</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>recalibration=None</em>, <em>gates=None</em>, <em>injection_file=None</em>, <em>no_save_data=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base_data.html#BaseDataModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base.BaseModel" title="pycbc.inference.models.base.BaseModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base.BaseModel</span></code></a></p>
<p>Base class for models that require data and a waveform generator.</p>
<p>This adds propeties for the log of the likelihood that the data contain
noise, <code class="docutils literal notranslate"><span class="pre">lognl</span></code>, and the log likelihood ratio <code class="docutils literal notranslate"><span class="pre">loglr</span></code>.</p>
<p>Classes that inherit from this class must define <code class="docutils literal notranslate"><span class="pre">_loglr</span></code> and <code class="docutils literal notranslate"><span class="pre">_lognl</span></code>
functions, in addition to the <code class="docutils literal notranslate"><span class="pre">_loglikelihood</span></code> requirement inherited from
<code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data.</li>
<li><strong>recalibration</strong> (<em>dict of pycbc.calibration.Recalibrate</em><em>, </em><em>optional</em>) – Dictionary of detectors -&gt; recalibration class instances for
recalibrating data.</li>
<li><strong>gates</strong> (<em>dict of tuples</em><em>, </em><em>optional</em>) – Dictionary of detectors -&gt; tuples of specifying gate times. The
sort of thing returned by <cite>pycbc.gate.gates_from_cli</cite>.</li>
<li><strong>injection_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – If an injection was added to the data, the name of the injection file
used. If provided, the injection parameters will be written to
file when <code class="docutils literal notranslate"><span class="pre">write_metadata</span></code> is called.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.base_data.BaseDataModel.data">
<code class="descname">data</code><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The data that the class was initialized with.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base_data.BaseDataModel.detectors">
<code class="descname">detectors</code><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.detectors" title="Permalink to this definition">¶</a></dt>
<dd><p>List of detector names used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base_data.BaseDataModel.lognl">
<code class="descname">lognl</code><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.lognl" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log likelihood of the noise.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base_data.BaseDataModel.loglr">
<code class="descname">loglr</code><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.loglr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of the likelihood ratio.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.base_data.BaseDataModel.logplr">
<code class="descname">logplr</code><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.logplr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of the prior-weighted likelihood ratio.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">See ``BaseModel`` for additional attributes and properties.</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">data</code></dt>
<dd><p>Dictionary mapping detector names to data.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">detectors</code></dt>
<dd><p>Returns the detectors used.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">loglr</code></dt>
<dd><p>The log likelihood ratio at the current parameters.</p>
<p>This will initially try to return the <code class="docutils literal notranslate"><span class="pre">current_stats.loglr</span></code>.
If that raises an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>, will call <cite>_loglr`</cite> to
calculate it and store it to <code class="docutils literal notranslate"><span class="pre">current_stats</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">lognl</code></dt>
<dd><p>The log likelihood of the model assuming the data is noise.</p>
<p>This will initially try to return the <code class="docutils literal notranslate"><span class="pre">current_stats.lognl</span></code>.
If that raises an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>, will call <cite>_lognl`</cite> to
calculate it and store it to <code class="docutils literal notranslate"><span class="pre">current_stats</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">logplr</code></dt>
<dd><p>Returns the log of the prior-weighted likelihood ratio at the
current parameter values.</p>
<p>The logprior is calculated first. If the logprior returns <code class="docutils literal notranslate"><span class="pre">-inf</span></code>
(possibly indicating a non-physical point), then <code class="docutils literal notranslate"><span class="pre">loglr</span></code> is not
called.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.base_data.BaseDataModel.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/base_data.html#BaseDataModel.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.base_data.BaseDataModel.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds data to the metadata that’s written.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>pycbc.inference.io.BaseInferenceFile instance</em>) – The inference file to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.brute_marg">
<span id="pycbc-inference-models-brute-marg-module"></span><h2>pycbc.inference.models.brute_marg module<a class="headerlink" href="#module-pycbc.inference.models.brute_marg" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes that do brute force marginalization
using at the likelihood level.</p>
<dl class="class">
<dt id="pycbc.inference.models.brute_marg.BruteParallelGaussianMarginalize">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.brute_marg.</code><code class="descname">BruteParallelGaussianMarginalize</code><span class="sig-paren">(</span><em>variable_params</em>, <em>cores=10</em>, <em>base_model=None</em>, <em>marginalize_phase=None</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/brute_marg.html#BruteParallelGaussianMarginalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.brute_marg.BruteParallelGaussianMarginalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<dl class="attribute">
<dt id="pycbc.inference.models.brute_marg.BruteParallelGaussianMarginalize.name">
<code class="descname">name</code><em class="property"> = 'brute_parallel_gaussian_marginalize'</em><a class="headerlink" href="#pycbc.inference.models.brute_marg.BruteParallelGaussianMarginalize.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.brute_marg.likelihood_wrapper">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.brute_marg.</code><code class="descname">likelihood_wrapper</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/brute_marg.html#likelihood_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.brute_marg.likelihood_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.data_utils">
<span id="pycbc-inference-models-data-utils-module"></span><h2>pycbc.inference.models.data_utils module<a class="headerlink" href="#module-pycbc.inference.models.data_utils" title="Permalink to this headline">¶</a></h2>
<p>Utilities for loading data for models.</p>
<dl class="exception">
<dt id="pycbc.inference.models.data_utils.NoValidDataError">
<em class="property">exception </em><code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">NoValidDataError</code><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#NoValidDataError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.NoValidDataError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>This should be raised if a continous segment of valid data could not be
found.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.check_for_nans">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">check_for_nans</code><span class="sig-paren">(</span><em>strain_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#check_for_nans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.check_for_nans" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if any data in a dictionary of strains has NaNs.</p>
<p>If any NaNs are found, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>strain_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt;
<a class="reference internal" href="pycbc.types.html#pycbc.types.timeseries.TimeSeries" title="pycbc.types.timeseries.TimeSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.types.timeseries.TimeSeries</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.check_validtimes">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">check_validtimes</code><span class="sig-paren">(</span><em>detector</em>, <em>gps_start</em>, <em>gps_end</em>, <em>shift_to_valid=False</em>, <em>max_shift=None</em>, <em>segment_name='DATA'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#check_validtimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.check_validtimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks DQ server to see if the given times are in a valid segment.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">shift_to_valid</span></code> flag is provided, the times will be shifted left
or right to try to find a continous valid block nearby. The shifting starts
by shifting the times left by 1 second. If that does not work, it shifts
the times right by one second. This continues, increasing the shift time by
1 second, until a valid block could be found, or until the shift size
exceeds <code class="docutils literal notranslate"><span class="pre">max_shift</span></code>.</p>
<p>If the given times are not in a continuous valid segment, or a valid block
cannot be found nearby, a <code class="docutils literal notranslate"><span class="pre">NoValidDataError</span></code> is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>detector</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the detector to query; e.g., ‘H1’.</li>
<li><strong>gps_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The GPS start time of the segment to query.</li>
<li><strong>gps_end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The GPS end time of the segment to query.</li>
<li><strong>shift_to_valid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will try to shift the gps start and end times to the nearest
continous valid segment of data. Default is False.</li>
<li><strong>max_shift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum number of seconds to try to shift left or right to find
a valid segment. Default is <code class="docutils literal notranslate"><span class="pre">gps_end</span> <span class="pre">-</span> <span class="pre">gps_start</span></code>.</li>
<li><strong>segment_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – The status flag to query; passed to <a class="reference internal" href="pycbc.html#pycbc.dq.query_flag" title="pycbc.dq.query_flag"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.dq.query_flag()</span></code></a>.
Default is “DATA”.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to
<a class="reference internal" href="pycbc.html#pycbc.dq.query_flag" title="pycbc.dq.query_flag"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.dq.query_flag()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>use_start</strong> (<em>int</em>) – The start time to use. If <code class="docutils literal notranslate"><span class="pre">shift_to_valid</span></code> is True, this may differ
from the given GPS start time.</li>
<li><strong>use_end</strong> (<em>int</em>) – The end time to use. If <code class="docutils literal notranslate"><span class="pre">shift_to_valid</span></code> is True, this may differ
from the given GPS end time.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.create_data_parser">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">create_data_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#create_data_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.create_data_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an argument parser for loading GW data.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.data_from_cli">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">data_from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>check_for_valid_times=False</em>, <em>shift_psd_times_to_valid=False</em>, <em>err_on_missing_detectors=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#data_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.data_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data needed for a model from the given command-line options.</p>
<p>Gates specifed on the command line are also applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser parsed args</em>) – Argument options parsed from a command line string (the sort of thing
returned by <cite>parser.parse_args</cite>).</li>
<li><strong>check_for_valid_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Check that valid data exists in the requested gps times. Default is
False.</li>
<li><strong>shift_psd_times_to_valid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If estimating the PSD from data, shift the PSD times to a valid
segment if needed. Default is False.</li>
<li><strong>err_on_missing_detectors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Raise a NoValidDataError if any detector does not have valid data.
Otherwise, a warning is printed, and that detector is skipped.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>strain_dict</strong> (<em>dict</em>) – Dictionary of detectors -&gt; time series strain.</li>
<li><strong>psd_strain_dict</strong> (<em>dict or None</em>) – If <code class="docutils literal notranslate"><span class="pre">opts.psd_(start|end)_time</span></code> were set, a dctionary of
detectors -&gt; time series data to use for PSD estimation. Otherwise,
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.data_opts_from_config">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">data_opts_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>section</em>, <em>filter_flow</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#data_opts_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.data_opts_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data options from a section in a config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file to read.</li>
<li><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The section to read. All options in the section will be loaded as-if
they wre command-line arguments.</li>
<li><strong>filter_flow</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt; inner product low frequency cutoffs.
If a <cite>data-conditioning-low-freq</cite> cutoff wasn’t provided for any
of the detectors, these values will be used. Otherwise, the
data-conditioning-low-freq must be less than the inner product cutoffs.
If any are not, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>opts</strong> – An argument parser namespace that was constructed as if the options
were specified on the command line.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">parsed argparse.ArgumentParser</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.detectors_with_valid_data">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">detectors_with_valid_data</code><span class="sig-paren">(</span><em>detectors</em>, <em>gps_start_times</em>, <em>gps_end_times</em>, <em>pad_data=None</em>, <em>err_on_missing_detectors=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#detectors_with_valid_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.detectors_with_valid_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines which detectors have valid data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>detectors</strong> (<em>list of str</em>) – Names of the detector names to check.</li>
<li><strong>gps_start_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detector name -&gt; start time listing the GPS start times
of the segment to check for each detector.</li>
<li><strong>gps_end_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detector name -&gt; end time listing the GPS end times of
the segment to check for each detector.</li>
<li><strong>pad_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary of detector name -&gt; pad time to add to the beginning/end of
the GPS start/end times before checking. A pad time for every detector
in <code class="docutils literal notranslate"><span class="pre">detectors</span></code> must be given. Default (None) is to apply no pad to
the times.</li>
<li><strong>err_on_missing_detectors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, a <code class="docutils literal notranslate"><span class="pre">NoValidDataError</span></code> will be raised if any detector does not
have continous valid data in its requested segment. Otherwise, the
detector will not be included in the returned list of detectors with
valid data. Default is False.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">check_validtimes</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary of detector name -&gt; valid times giving the detectors with
valid data and their segments. If <code class="docutils literal notranslate"><span class="pre">shift_to_valid</span></code> was passed to
<code class="docutils literal notranslate"><span class="pre">check_validtimes</span></code> this may not be the same as the input segments. If
no valid times could be found for a detector (and
<code class="docutils literal notranslate"><span class="pre">err_on_missing_detectors</span></code> is False), it will not be included in the
returned dictionary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.fd_data_from_strain_dict">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">fd_data_from_strain_dict</code><span class="sig-paren">(</span><em>opts</em>, <em>strain_dict</em>, <em>psd_strain_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#fd_data_from_strain_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.fd_data_from_strain_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a dictionary of time series to the frequency domain, and gets
the PSDs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser parsed args</em>) – Argument options parsed from a command line string (the sort of thing
returned by <cite>parser.parse_args</cite>).</li>
<li><strong>strain_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt; time series data.</li>
<li><strong>psd_strain_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary of detectors -&gt; time series data to use for PSD estimation.
If not provided, will use the <code class="docutils literal notranslate"><span class="pre">strain_dict</span></code>. This is
ignored if <code class="docutils literal notranslate"><span class="pre">opts.psd_estimation</span></code> is not set. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.psd.psd_from_cli_multi_ifos()</span></code> for details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>stilde_dict</strong> (<em>dict</em>) – Dictionary of detectors -&gt; frequency series data.</li>
<li><strong>psd_dict</strong> (<em>dict</em>) – Dictionary of detectors -&gt; frequency-domain PSDs.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.gate_overwhitened_data">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">gate_overwhitened_data</code><span class="sig-paren">(</span><em>stilde_dict</em>, <em>psd_dict</em>, <em>gates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#gate_overwhitened_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.gate_overwhitened_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies gates to overwhitened data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stilde_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt; frequency series data to apply the gates to.</li>
<li><strong>psd_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt; PSD to use for overwhitening.</li>
<li><strong>gates</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detectors -&gt; gates.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of detectors -&gt; frequency series data with the gates
applied after overwhitening. The returned data is not overwhitened.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.data_utils.strain_from_cli_multi_ifos">
<code class="descclassname">pycbc.inference.models.data_utils.</code><code class="descname">strain_from_cli_multi_ifos</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/data_utils.html#strain_from_cli_multi_ifos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.data_utils.strain_from_cli_multi_ifos" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around strain.from_cli_multi_ifos that tries a few times before
quiting.</p>
<p>When running in a parallel environment, multiple concurrent queries to the
segment data base can cause time out errors. If that happens, this will
sleep for a few seconds, then try again a few times before giving up.</p>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.gated_gaussian_noise">
<span id="pycbc-inference-models-gated-gaussian-noise-module"></span><h2>pycbc.inference.models.gated_gaussian_noise module<a class="headerlink" href="#module-pycbc.inference.models.gated_gaussian_noise" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes that assume the noise is Gaussian and
introduces a gate to remove given times from the data, using the inpainting
method to fill the removed part such that it does not enter the likelihood.</p>
<dl class="class">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.gated_gaussian_noise.</code><code class="descname">BaseGatedGaussian</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>highpass_waveforms=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>Base model for gated gaussian.</p>
<p>Provides additional routines for applying a time-domain gate to data.
See <a class="reference internal" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise" title="pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">GatedGaussianNoise</span></code></a> for more details.</p>
<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.data">
<code class="descname">data</code><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping detector names to data.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.det_lognl">
<code class="descname">det_lognl</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.det_lognl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.det_lognl" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log likelihood of the noise in the given detector:</p>
<div class="math notranslate nohighlight">
\[\log p(d_i|n_i) = \log \alpha_i -
    \frac{1}{2} \left&lt;d_i | d_i\right&gt;.\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>det</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the detector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The log likelihood of the noise in the requested detector.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.det_lognorm">
<code class="descname">det_lognorm</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.det_lognorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.det_lognorm" title="Permalink to this definition">¶</a></dt>
<dd><p>The log of the likelihood normalization in the given detector.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self.normalize</span></code> is False, will just return 0.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>data_section='data'</em>, <em>data=None</em>, <em>psds=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds highpass filtering to keyword arguments based on config file.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gate_times">
<code class="descname">get_gate_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_gate_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gate_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time to apply a gate based on the current sky position.</p>
<p>If the parameter <code class="docutils literal notranslate"><span class="pre">gatefunc</span></code> is set to <code class="docutils literal notranslate"><span class="pre">'hmeco'</span></code>, the gate times
will be calculated based on the hybrid MECO of the given set of
parameters; see <code class="docutils literal notranslate"><span class="pre">get_gate_times_hmeco</span></code> for details. Otherwise, the
gate times will just be retrieved from the <code class="docutils literal notranslate"><span class="pre">t_gate_start</span></code> and
<code class="docutils literal notranslate"><span class="pre">t_gate_end</span></code> parameters.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Since the normalization of the likelihood is currently not
being calculated, it is recommended that you do not use
<code class="docutils literal notranslate"><span class="pre">gatefunc</span></code>, instead using fixed gate times.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; (gate start, gate width)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gate_times_hmeco">
<code class="descname">get_gate_times_hmeco</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_gate_times_hmeco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gate_times_hmeco" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time to apply a gate based on the current sky position.
:returns: Dictionary of detector names -&gt; (gate start, gate width)
:rtype: dict</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gated_data">
<code class="descname">get_gated_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_gated_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gated_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of the gated data.</p>
<p>The gated data will be cached for faster retrieval.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gated_waveforms">
<code class="descname">get_gated_waveforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_gated_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_gated_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and gates waveforms using the current parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_residuals">
<code class="descname">get_residuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_residuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the residuals <code class="docutils literal notranslate"><span class="pre">d-h</span></code> using the current parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_waveforms">
<code class="descname">get_waveforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.get_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.get_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>The waveforms generated using the current parameters.</p>
<p>If the waveforms haven’t been generated yet, they will be generated,
resized to the same length as the data, and cached. If the
<code class="docutils literal notranslate"><span class="pre">highpass_waveforms</span></code> attribute is set, a highpass filter will
also be applied to the waveforms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if the loglikelihood includes the normalization term.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.psds">
<code class="descname">psds</code><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.psds" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of detectors -&gt; PSD frequency series.</p>
<p>If no PSD was provided for a detector, this will just be a frequency
series of ones.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.td_data">
<code class="descname">td_data</code><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.td_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The data in the time domain.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the current parameter positions and resets stats.</p>
<p>If any sampling transforms are specified, they are applied to the
params before being stored.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.whiten">
<code class="descname">whiten</code><span class="sig-paren">(</span><em>data</em>, <em>whiten</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.whiten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.whiten" title="Permalink to this definition">¶</a></dt>
<dd><p>Whitens the given data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detector names -&gt; FrequencySeries.</li>
<li><strong>whiten</strong> (<em>{0</em><em>, </em><em>1</em><em>, </em><em>2}</em>) – Integer indicating what level of whitening to apply. Levels are:
0: no whitening; 1: whiten; 2: overwhiten.</li>
<li><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, modify the data in place. Otherwise, a copy will be
created for whitening.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary of FrequencySeries after the requested whitening has
been applied.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#BaseGatedGaussian.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds writing the psds.</p>
<p>The analyzed detectors, their analysis segments, and the segments
used for psd estimation are written to the file’s <code class="docutils literal notranslate"><span class="pre">attrs</span></code>, as
<code class="docutils literal notranslate"><span class="pre">analyzed_detectors</span></code>, <code class="docutils literal notranslate"><span class="pre">{{detector}}_analysis_segment</span></code>, and
<code class="docutils literal notranslate"><span class="pre">{{detector}}_psd_segment</span></code>, respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>pycbc.inference.io.BaseInferenceFile instance</em>) – The inference file to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.gated_gaussian_noise.</code><code class="descname">GatedGaussianMargPol</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>polarization_samples=1000</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianMargPol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian" title="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian</span></code></a></p>
<p>Gated gaussian model with numerical marginalization over polarization.</p>
<p>This implements the GatedGaussian likelihood with an explicit numerical
marginalization over polarization angle. This is accomplished using
a fixed set of integration points distribution uniformation between
0 and 2pi. By default, 1000 integration points are used.
The ‘polarization_samples’ argument can be passed to set an alternate
number of integration points.</p>
<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.get_gated_waveforms">
<code class="descname">get_gated_waveforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianMargPol.get_gated_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.get_gated_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and gates waveforms using the current parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.get_waveforms">
<code class="descname">get_waveforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianMargPol.get_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.get_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>The waveforms generated using the current parameters.</p>
<p>If the waveforms haven’t been generated yet, they will be generated,
resized to the same length as the data, and cached. If the
<code class="docutils literal notranslate"><span class="pre">highpass_waveforms</span></code> attribute is set, a highpass filter will
also be applied to the waveforms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.name">
<code class="descname">name</code><em class="property"> = 'gated_gaussian_margpol'</em><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianMargPol.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.gated_gaussian_noise.</code><code class="descname">GatedGaussianNoise</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian" title="pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gated_gaussian_noise.BaseGatedGaussian</span></code></a></p>
<p>Model that applies a time domain gate, assuming stationary Gaussian
noise.</p>
<p>The gate start and end times are set by providing <code class="docutils literal notranslate"><span class="pre">t_gate_start</span></code> and
<code class="docutils literal notranslate"><span class="pre">t_gate_end</span></code> parameters, respectively. This will cause the gated times
to be excised from the analysis. For more details on the likelihood
function and its derivation, see
<a class="reference external" href="https://arxiv.org/abs/2105.05238">arXiv:2105.05238</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The normalization of the likelihood depends on the gate times. However,
at the moment, the normalization is not calculated, as it depends on
the determinant of the truncated covariance matrix (see Eq. 4 of
arXiv:2105.05238). For this reason it is recommended that you only
use this model for fixed gate times.</p>
</div>
<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.get_gated_residuals">
<code class="descname">get_gated_residuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianNoise.get_gated_residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.get_gated_residuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the gated residuals <code class="docutils literal notranslate"><span class="pre">d-h</span></code> using the current parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.get_gated_waveforms">
<code class="descname">get_gated_waveforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gated_gaussian_noise.html#GatedGaussianNoise.get_gated_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.get_gated_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and gates waveforms using the current parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of detector names -&gt; FrequencySeries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.name">
<code class="descname">name</code><em class="property"> = 'gated_gaussian_noise'</em><a class="headerlink" href="#pycbc.inference.models.gated_gaussian_noise.GatedGaussianNoise.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.gaussian_noise">
<span id="pycbc-inference-models-gaussian-noise-module"></span><h2>pycbc.inference.models.gaussian_noise module<a class="headerlink" href="#module-pycbc.inference.models.gaussian_noise" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes that assume the noise is Gaussian.</p>
<dl class="class">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.gaussian_noise.</code><code class="descname">BaseGaussianNoise</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>ignore_failed_waveforms=False</em>, <em>no_save_data=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.base_data.BaseDataModel" title="pycbc.inference.models.base_data.BaseDataModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.base_data.BaseDataModel</span></code></a></p>
<p>Model for analyzing GW data with assuming a wide-sense stationary
Gaussian noise model.</p>
<p>This model will load gravitational wave data and calculate the log noise
likelihood <code class="docutils literal notranslate"><span class="pre">_lognl</span></code> and normalization. It also implements the
<code class="docutils literal notranslate"><span class="pre">_loglikelihood</span></code> function as the sum of the log likelihood ratio and the
<code class="docutils literal notranslate"><span class="pre">lognl</span></code>. It does not implement a log likelihood ratio function
<code class="docutils literal notranslate"><span class="pre">_loglr</span></code>, however, since that can differ depending on the signal model.
Models that analyze GW data assuming it is stationary Gaussian should
therefore inherit from this class and implement their own <code class="docutils literal notranslate"><span class="pre">_loglr</span></code>
function.</p>
<p>For more details on the inner product used, the log likelihood of the
noise, and the normalization factor, see <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.GaussianNoise" title="pycbc.inference.models.gaussian_noise.GaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianNoise</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). All data must have the
same frequency resolution.</li>
<li><strong>low_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of starting frequencies, in which the keys are the
detector names and the values are the starting frequencies for the
respective detectors to be used for computing inner products.</li>
<li><strong>psds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of FrequencySeries keyed by the detector names. The
dictionary must have a psd for each detector specified in the data
dictionary. If provided, the inner products in each detector will be
weighted by 1/psd of that detector.</li>
<li><strong>high_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of ending frequencies, in which the keys are the
detector names and the values are the ending frequencies for the
respective detectors to be used for computing inner products. If not
provided, the minimum of the largest frequency stored in the data
and a given waveform will be used.</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the normalization factor <span class="math notranslate nohighlight">\(alpha\)</span> will be included in the
log likelihood. See <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.GaussianNoise" title="pycbc.inference.models.gaussian_noise.GaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianNoise</span></code></a> for details. Default is
to not include it.</li>
<li><strong>static_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of parameter names -&gt; values to keep fixed.</li>
<li><strong>ignore_failed_waveforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If the waveform generator raises an error when it tries to generate,
treat the point as having zero likelihood. This allows the parameter
estimation to continue. Otherwise, an error will be raised, stopping
the run. Default is False.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseDataModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.data">
<code class="descname">data</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of detectors -&gt; frequency-domain data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.ignore_failed_waveforms">
<code class="descname">ignore_failed_waveforms</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.ignore_failed_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, points in parameter space that cause waveform generation to
fail (i.e., they raise a <code class="docutils literal notranslate"><span class="pre">FailedWaveformError</span></code>) will be treated as
points with zero likelihood. Otherwise, such points will cause the
model to raise a <code class="docutils literal notranslate"><span class="pre">FailedWaveformError</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.low_frequency_cutoff">
<code class="descname">low_frequency_cutoff</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.low_frequency_cutoff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.high_frequency_cutoff">
<code class="descname">high_frequency_cutoff</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.high_frequency_cutoff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.kmin">
<code class="descname">kmin</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.kmin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.kmax">
<code class="descname">kmax</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.kmax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.psds">
<code class="descname">psds</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.psds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.psd_segments">
<code class="descname">psd_segments</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.psd_segments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.weight">
<code class="descname">weight</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.weight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.whitened_data">
<code class="descname">whitened_data</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.whitened_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.lognorm">
<code class="descname">lognorm</code><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.lognorm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.det_lognl">
<code class="descname">det_lognl</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise.det_lognl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.det_lognl" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log likelihood of the noise in the given detector:</p>
<div class="math notranslate nohighlight">
\[\log p(d_i|n_i) = \log \alpha_i -
    \frac{1}{2} \left&lt;d_i | d_i\right&gt;.\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>det</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the detector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The log likelihood of the noise in the requested detector.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.det_lognorm">
<code class="descname">det_lognorm</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise.det_lognorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.det_lognorm" title="Permalink to this definition">¶</a></dt>
<dd><p>The log of the likelihood normalization in the given detector.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self.normalize</span></code> is False, will just return 0.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>data_section='data'</em>, <em>data=None</em>, <em>psds=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes an instance of this class from the given config file.</p>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">[model]</span></code>, a <code class="docutils literal notranslate"><span class="pre">data_section</span></code> (default <code class="docutils literal notranslate"><span class="pre">[data]</span></code>)
must be in the configuration file. The data section specifies settings
for loading data and estimating PSDs. See the <a class="reference external" href="http://pycbc.org/pycbc/latest/html/inference.html#setting-data">online documentation</a> for
more details.</p>
<p>The following options are read from the <code class="docutils literal notranslate"><span class="pre">[model]</span></code> section, in
addition to <code class="docutils literal notranslate"><span class="pre">name</span></code> (which must be set):</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">{{DET}}-low-frequency-cutoff</span> <span class="pre">=</span> <span class="pre">FLOAT</span></code> :
The low frequency cutoff to use for each detector {{DET}}. A cutoff
must be provided for every detector that may be analyzed (any
additional detectors are ignored).</li>
<li><code class="docutils literal notranslate"><span class="pre">{{DET}}-high-frequency-cutoff</span> <span class="pre">=</span> <span class="pre">FLOAT</span></code> :
(Optional) A high frequency cutoff for each detector. If not
provided, the Nyquist frequency is used.</li>
<li><code class="docutils literal notranslate"><span class="pre">check-for-valid-times</span> <span class="pre">=</span></code> :
(Optional) If provided, will check that there are no data quality
flags on during the analysis segment and the segment used for PSD
estimation in each detector. To check for flags,
<a class="reference internal" href="pycbc.html#pycbc.dq.query_flag" title="pycbc.dq.query_flag"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.dq.query_flag()</span></code></a> is used, with settings pulled from the
<code class="docutils literal notranslate"><span class="pre">dq-*</span></code> options in the <code class="docutils literal notranslate"><span class="pre">[data]</span></code> section. If a detector has bad
data quality during either the analysis segment or PSD segment, it
will be removed from the analysis.</li>
<li><code class="docutils literal notranslate"><span class="pre">shift-psd-times-to-valid</span> <span class="pre">=</span></code> :
(Optional) If provided, the segment used for PSD estimation will
automatically be shifted left or right until a continous block of
data with no data quality issues can be found. If no block can be
found with a maximum shift of +/- the requested psd segment length,
the detector will not be analyzed.</li>
<li><code class="docutils literal notranslate"><span class="pre">err-on-missing-detectors</span> <span class="pre">=</span></code> :
Raises an error if any detector is removed from the analysis because
a valid time could not be found. Otherwise, a warning is printed
to screen and the detector is removed from the analysis.</li>
<li><code class="docutils literal notranslate"><span class="pre">normalize</span> <span class="pre">=</span></code> :
(Optional) Turn on the normalization factor.</li>
<li><code class="docutils literal notranslate"><span class="pre">ignore-failed-waveforms</span> <span class="pre">=</span></code> :
Sets the <code class="docutils literal notranslate"><span class="pre">ignore_failed_waveforms</span></code> attribute.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>data_section</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the section to load data options from.</li>
<li><strong>**kwargs</strong> – All additional keyword arguments are passed to the class. Any
provided keyword will override what is in the config file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">high_frequency_cutoff</code></dt>
<dd><p>The high frequency cutoff of the inner product.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kmax</code></dt>
<dd><p>Dictionary of ending indices for the inner product.</p>
<p>This is determined from the high frequency cutoff and the <code class="docutils literal notranslate"><span class="pre">delta_f</span></code>
of the data using
<a class="reference internal" href="pycbc.filter.html#pycbc.filter.matchedfilter.get_cutoff_indices" title="pycbc.filter.matchedfilter.get_cutoff_indices"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.filter.matchedfilter.get_cutoff_indices()</span></code></a>. If no high
frequency cutoff was provided, this will be the indice corresponding to
the Nyquist frequency.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kmin</code></dt>
<dd><p>Dictionary of starting indices for the inner product.</p>
<p>This is determined from the lower frequency cutoff and the <code class="docutils literal notranslate"><span class="pre">delta_f</span></code>
of the data using
<a class="reference internal" href="pycbc.filter.html#pycbc.filter.matchedfilter.get_cutoff_indices" title="pycbc.filter.matchedfilter.get_cutoff_indices"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.filter.matchedfilter.get_cutoff_indices()</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">lognorm</code></dt>
<dd><p>The log of the normalization of the log likelihood.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">low_frequency_cutoff</code></dt>
<dd><p>The low frequency cutoff of the inner product.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">normalize</code></dt>
<dd><p>Determines if the loglikelihood includes the normalization term.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">psd_segments</code></dt>
<dd><p>Dictionary giving times used for PSD estimation for each detector.</p>
<p>If a detector’s PSD was not estimated from data, or the segment wasn’t
provided, that detector will not be in the dictionary.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">psds</code></dt>
<dd><p>Dictionary of detectors -&gt; PSD frequency series.</p>
<p>If no PSD was provided for a detector, this will just be a frequency
series of ones.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.set_psd_segments">
<code class="descname">set_psd_segments</code><span class="sig-paren">(</span><em>psds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise.set_psd_segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.set_psd_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the PSD segments from a dictionary of PSDs.</p>
<p>This attempts to get the PSD segment from a <code class="docutils literal notranslate"><span class="pre">psd_segment</span></code> attribute
of each detector’s PSD frequency series. If that attribute isn’t set,
then that detector is not added to the dictionary of PSD segments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>psds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary of detector name -&gt; PSD frequency series. The segment
used for each PSD will try to be retrieved from the PSD’s
<code class="docutils literal notranslate"><span class="pre">.psd_segment</span></code> attribute.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">weight</code></dt>
<dd><p>Dictionary of detectors -&gt; frequency series of inner-product
weights.</p>
<p>The weights are <span class="math notranslate nohighlight">\(\sqrt{4 \Delta f / S_n(f)}\)</span>. This is set when
the PSDs are set.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">whitened_data</code></dt>
<dd><p>Dictionary of detectors -&gt; whitened data frequency series.</p>
<p>The whitened data is the data multiplied by the inner-product weight.
Note that this includes the <span class="math notranslate nohighlight">\(\sqrt{4 \Delta f}\)</span> factor. This
is set when the PSDs are set.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.BaseGaussianNoise.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#BaseGaussianNoise.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds writing the psds and lognl, since it’s a constant.</p>
<p>The lognl is written to the sample group’s <code class="docutils literal notranslate"><span class="pre">attrs</span></code>.</p>
<p>The analyzed detectors, their analysis segments, and the segments
used for psd estimation are written to the file’s <code class="docutils literal notranslate"><span class="pre">attrs</span></code>, as
<code class="docutils literal notranslate"><span class="pre">analyzed_detectors</span></code>, <code class="docutils literal notranslate"><span class="pre">{{detector}}_analysis_segment</span></code>, and
<code class="docutils literal notranslate"><span class="pre">{{detector}}_psd_segment</span></code>, respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>pycbc.inference.io.BaseInferenceFile instance</em>) – The inference file to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.gaussian_noise.GaussianNoise">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.gaussian_noise.</code><code class="descname">GaussianNoise</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#GaussianNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.GaussianNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>Model that assumes data is stationary Gaussian noise.</p>
<p>With Gaussian noise the log likelihood functions for signal
<span class="math notranslate nohighlight">\(\log p(d|\Theta, h)\)</span> and for noise <span class="math notranslate nohighlight">\(\log p(d|n)\)</span> are given by:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\log p(d|\Theta, h) &amp;=  \log\alpha -\frac{1}{2} \sum_i
    \left&lt; d_i - h_i(\Theta) | d_i - h_i(\Theta) \right&gt; \\
\log p(d|n) &amp;= \log\alpha -\frac{1}{2} \sum_i \left&lt;d_i | d_i\right&gt;\end{split}\]</div>
<p>where the sum is over the number of detectors, <span class="math notranslate nohighlight">\(d_i\)</span> is the data in
each detector, and <span class="math notranslate nohighlight">\(h_i(\Theta)\)</span> is the model signal in each
detector. The (discrete) inner product is given by:</p>
<div class="math notranslate nohighlight">
\[\left&lt;a_i | b_i\right&gt; = 4\Re \Delta f
    \sum_{k=k_{\mathrm{min}}}^{k_{\mathrm{max}}}
    \frac{\tilde{a}_i^{*}[k] \tilde{b}_i[k]}{S^{(i)}_n[k]},\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta f\)</span> is the frequency resolution (given by 1 / the
observation time <span class="math notranslate nohighlight">\(T\)</span>), <span class="math notranslate nohighlight">\(k\)</span> is an index over the discretely
sampled frequencies <span class="math notranslate nohighlight">\(f = k \Delta_f\)</span>, and <span class="math notranslate nohighlight">\(S^{(i)}_n[k]\)</span> is the
PSD in the given detector. The upper cutoff on the inner product
<span class="math notranslate nohighlight">\(k_{\max}\)</span> is by default the Nyquist frequency
<span class="math notranslate nohighlight">\(k_{\max} = N/2+1\)</span>, where <span class="math notranslate nohighlight">\(N = \lfloor T/\Delta t \rfloor\)</span>
is the number of samples in the time domain, but this can be set manually
to a smaller value.</p>
<p>The normalization factor <span class="math notranslate nohighlight">\(\alpha\)</span> is:</p>
<div class="math notranslate nohighlight">
\[\alpha = \prod_{i} \frac{1}{\left(\pi T\right)^{N/2}
    \prod_{k=k_\mathrm{min}}^{k_{\mathrm{max}}} S^{(i)}_n[k]},\]</div>
<p>where the product is over the number of detectors. By default, the
normalization constant is not included in the log likelihood, but it can
be turned on using the <code class="docutils literal notranslate"><span class="pre">normalize</span></code> keyword argument.</p>
<p>Note that the log likelihood ratio has fewer terms than the log likelihood,
since the normalization and <span class="math notranslate nohighlight">\(\left&lt;d_i|d_i\right&gt;\)</span> terms cancel:</p>
<div class="math notranslate nohighlight">
\[\log \mathcal{L}(\Theta) = \sum_i \left[
    \left&lt;h_i(\Theta)|d_i\right&gt; -
    \frac{1}{2} \left&lt;h_i(\Theta)|h_i(\Theta)\right&gt; \right]\]</div>
<p>Upon initialization, the data is whitened using the given PSDs. If no PSDs
are given the data and waveforms returned by the waveform generator are
assumed to be whitened.</p>
<p>For more details on initialization parameters and definition of terms, see
<code class="xref py py-class docutils literal notranslate"><span class="pre">models.BaseDataModel</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). The list of keys must
match the waveform generator’s detectors keys, and the epoch of every
data set must be the same as the waveform generator’s epoch.</li>
<li><strong>low_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of starting frequencies, in which the keys are the
detector names and the values are the starting frequencies for the
respective detectors to be used for computing inner products.</li>
<li><strong>psds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of FrequencySeries keyed by the detector names. The
dictionary must have a psd for each detector specified in the data
dictionary. If provided, the inner products in each detector will be
weighted by 1/psd of that detector.</li>
<li><strong>high_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of ending frequencies, in which the keys are the
detector names and the values are the ending frequencies for the
respective detectors to be used for computing inner products. If not
provided, the minimum of the largest frequency stored in the data
and a given waveform will be used.</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the normalization factor <span class="math notranslate nohighlight">\(alpha\)</span> will be included in the
log likelihood. Default is to not include it.</li>
<li><strong>static_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of parameter names -&gt; values to keep fixed.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to <code class="docutils literal notranslate"><span class="pre">BaseDataModel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a signal, and set up the model using that signal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc</span> <span class="kn">import</span> <span class="n">psd</span> <span class="k">as</span> <span class="n">pypsd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc.inference.models</span> <span class="kn">import</span> <span class="n">GaussianNoise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc.waveform.generator</span> <span class="kn">import</span> <span class="p">(</span><span class="n">FDomainDetFrameGenerator</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="n">FDomainCBCGenerator</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seglen</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_rate</span> <span class="o">=</span> <span class="mi">2048</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="n">seglen</span><span class="o">*</span><span class="n">sample_rate</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmin</span> <span class="o">=</span> <span class="mf">30.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">static_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;approximant&#39;</span><span class="p">:</span> <span class="s1">&#39;IMRPhenomD&#39;</span><span class="p">,</span> <span class="s1">&#39;f_lower&#39;</span><span class="p">:</span> <span class="n">fmin</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;mass1&#39;</span><span class="p">:</span> <span class="mf">38.6</span><span class="p">,</span> <span class="s1">&#39;mass2&#39;</span><span class="p">:</span> <span class="mf">29.3</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;spin1z&#39;</span><span class="p">:</span> <span class="mf">0.</span><span class="p">,</span> <span class="s1">&#39;spin2z&#39;</span><span class="p">:</span> <span class="mf">0.</span><span class="p">,</span> <span class="s1">&#39;ra&#39;</span><span class="p">:</span> <span class="mf">1.37</span><span class="p">,</span> <span class="s1">&#39;dec&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.26</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;polarization&#39;</span><span class="p">:</span> <span class="mf">2.76</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="o">*</span><span class="mf">500.</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable_params</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tc&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tsig</span> <span class="o">=</span> <span class="mf">3.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span> <span class="o">=</span> <span class="n">FDomainDetFrameGenerator</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">FDomainCBCGenerator</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">detectors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="s1">&#39;L1&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">variable_args</span><span class="o">=</span><span class="n">variable_params</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">delta_f</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">seglen</span><span class="p">,</span> <span class="o">**</span><span class="n">static_params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="n">tsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psd</span> <span class="o">=</span> <span class="n">pypsd</span><span class="o">.</span><span class="n">aLIGOZeroDetHighPower</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">seglen</span><span class="p">,</span> <span class="mf">20.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H1&#39;</span><span class="p">:</span> <span class="n">psd</span><span class="p">,</span> <span class="s1">&#39;L1&#39;</span><span class="p">:</span> <span class="n">psd</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">low_frequency_cutoff</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H1&#39;</span><span class="p">:</span> <span class="n">fmin</span><span class="p">,</span> <span class="s1">&#39;L1&#39;</span><span class="p">:</span> <span class="n">fmin</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNoise</span><span class="p">(</span><span class="n">variable_params</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">low_frequency_cutoff</span><span class="p">,</span>
<span class="go">                          psds=psds, static_params=static_params)</span>
</pre></div>
</div>
<p>Set the current position to the coalescence time of the signal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="n">tsig</span><span class="p">)</span>
</pre></div>
</div>
<p>Now compute the log likelihood ratio and prior-weighted likelihood ratio;
since we have not provided a prior, these should be equal to each other:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">loglr</span><span class="p">))</span>
<span class="go">282.43</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">logplr</span><span class="p">))</span>
<span class="go">282.43</span>
</pre></div>
</div>
<p>Print all of the default_stats:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;,</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">... </span>                  <span class="k">for</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">current_stats</span><span class="o">.</span><span class="n">items</span><span class="p">())]))</span>
<span class="go">H1_cplx_loglr: 177.76+0.00j,</span>
<span class="go">H1_optimal_snrsq: 355.52,</span>
<span class="go">L1_cplx_loglr: 104.67+0.00j,</span>
<span class="go">L1_optimal_snrsq: 209.35,</span>
<span class="go">logjacobian: 0.00,</span>
<span class="go">loglikelihood: 0.00,</span>
<span class="go">loglr: 282.43,</span>
<span class="go">logprior: 0.00</span>
</pre></div>
</div>
<p>Compute the SNR; for this system and PSD, this should be approximately 24:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc.conversions</span> <span class="kn">import</span> <span class="n">snr_from_loglr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">snr_from_loglr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">loglr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">23.77</span>
</pre></div>
</div>
<p>Since there is no noise, the SNR should be the same as the quadrature sum
of the optimal SNRs in each detector:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">det_optimal_snrsq</span><span class="p">(</span><span class="s1">&#39;H1&#39;</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>     <span class="n">model</span><span class="o">.</span><span class="n">det_optimal_snrsq</span><span class="p">(</span><span class="s1">&#39;L1&#39;</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">23.77</span>
</pre></div>
</div>
<p>Toggle on the normalization constant:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">loglikelihood</span>
<span class="go">835397.8757405131</span>
</pre></div>
</div>
<p>Using the same model, evaluate the log likelihood ratio at several points
in time and check that the max is at tsig:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">tsig</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">tsig</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">101</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loglrs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">loglrs</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">loglr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tsig: </span><span class="si">{:.2f}</span><span class="s1">, time of max loglr: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tsig</span><span class="p">,</span> <span class="n">times</span><span class="p">[</span><span class="n">loglrs</span><span class="o">.</span><span class="n">argmax</span><span class="p">()]))</span>
<span class="go">tsig: 3.10, time of max loglr: 3.10</span>
</pre></div>
</div>
<p>Create a prior and use it (see distributions module for more details):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc</span> <span class="kn">import</span> <span class="n">distributions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniform_prior</span> <span class="o">=</span> <span class="n">distributions</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="p">(</span><span class="n">tsig</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="n">tsig</span><span class="o">+</span><span class="mf">0.2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prior</span> <span class="o">=</span> <span class="n">distributions</span><span class="o">.</span><span class="n">JointDistribution</span><span class="p">(</span><span class="n">variable_params</span><span class="p">,</span> <span class="n">uniform_prior</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNoise</span><span class="p">(</span><span class="n">variable_params</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">signal</span><span class="p">,</span> <span class="n">low_frequency_cutoff</span><span class="p">,</span> <span class="n">psds</span><span class="o">=</span><span class="n">psds</span><span class="p">,</span> <span class="n">prior</span><span class="o">=</span><span class="n">prior</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">static_params</span><span class="o">=</span><span class="n">static_params</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="n">tsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">logplr</span><span class="p">))</span>
<span class="go">283.35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;,</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="gp">... </span>                  <span class="k">for</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">current_stats</span><span class="o">.</span><span class="n">items</span><span class="p">())]))</span>
<span class="go">H1_cplx_loglr: 177.76+0.00j,</span>
<span class="go">H1_optimal_snrsq: 355.52,</span>
<span class="go">L1_cplx_loglr: 104.67+0.00j,</span>
<span class="go">L1_optimal_snrsq: 209.35,</span>
<span class="go">logjacobian: 0.00,</span>
<span class="go">loglikelihood: 0.00,</span>
<span class="go">loglr: 282.43,</span>
<span class="go">logprior: 0.92</span>
</pre></div>
</div>
<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.GaussianNoise.det_cplx_loglr">
<code class="descname">det_cplx_loglr</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#GaussianNoise.det_cplx_loglr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.GaussianNoise.det_cplx_loglr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the complex log likelihood ratio in the given detector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>det</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the detector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The complex log likelihood ratio.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">complex float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.gaussian_noise.GaussianNoise.det_optimal_snrsq">
<code class="descname">det_optimal_snrsq</code><span class="sig-paren">(</span><em>det</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#GaussianNoise.det_optimal_snrsq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.GaussianNoise.det_optimal_snrsq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the opitmal SNR squared in the given detector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>det</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of the detector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The opimtal SNR squared.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.gaussian_noise.GaussianNoise.name">
<code class="descname">name</code><em class="property"> = 'gaussian_noise'</em><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.GaussianNoise.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.gaussian_noise.create_waveform_generator">
<code class="descclassname">pycbc.inference.models.gaussian_noise.</code><code class="descname">create_waveform_generator</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>waveform_transforms=None</em>, <em>recalibration=None</em>, <em>gates=None</em>, <em>generator_class=&lt;class 'pycbc.waveform.generator.FDomainDetFrameGenerator'&gt;</em>, <em>**static_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#create_waveform_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.create_waveform_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a waveform generator for use with a model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>variable_params</strong> (<em>list of str</em>) – The names of the parameters varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary mapping detector names to either a
<code class="xref py py-class docutils literal notranslate"><span class="pre">&lt;pycbc.types.TimeSeries</span> <span class="pre">TimeSeries&gt;</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">&lt;pycbc.types.FrequencySeries</span> <span class="pre">FrequencySeries&gt;</span></code>.</li>
<li><strong>waveform_transforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – The list of transforms applied to convert variable parameters into
parameters that will be understood by the waveform generator.</li>
<li><strong>recalibration</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary mapping detector names to
<code class="xref py py-class docutils literal notranslate"><span class="pre">&lt;pycbc.calibration.Recalibrate&gt;</span></code> instances for
recalibrating data.</li>
<li><strong>gates</strong> (<em>dict of tuples</em><em>, </em><em>optional</em>) – Dictionary of detectors -&gt; tuples of specifying gate times. The
sort of thing returned by <code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.gate.gates_from_cli()</span></code>.</li>
<li><strong>generator_class</strong> (<em>detector-frame fdomain generator</em><em>, </em><em>optional</em>) – Class to use for generating waveforms. Default is
<code class="xref py py-class docutils literal notranslate"><span class="pre">waveform.generator.FDomainDetFrameGenerator</span></code>.</li>
<li><strong>**static_params</strong> – All other keyword arguments are passed as static parameters to the
waveform generator.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A waveform generator for frequency domain generation.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pycbc.waveform.FDomainDetFrameGenerator</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.gaussian_noise.get_values_from_injection">
<code class="descclassname">pycbc.inference.models.gaussian_noise.</code><code class="descname">get_values_from_injection</code><span class="sig-paren">(</span><em>cp</em>, <em>injection_file</em>, <em>update_cp=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/gaussian_noise.html#get_values_from_injection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.gaussian_noise.get_values_from_injection" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all FROM_INJECTION values in a config file with the
corresponding value from the injection.</p>
<p>This looks for any options that start with <code class="docutils literal notranslate"><span class="pre">FROM_INJECTION[:ARG]</span></code> in
a config file. It then replaces that value with the corresponding value
from the injection file. An argument may be optionally provided, in which
case the argument will be retrieved from the injection file. Functions of
parameters in the injection file may be used; the syntax and functions
available is the same as the <code class="docutils literal notranslate"><span class="pre">--parameters</span></code> argument in executables
such as <code class="docutils literal notranslate"><span class="pre">pycbc_inference_extract_samples</span></code>. If no <code class="docutils literal notranslate"><span class="pre">ARG</span></code> is provided,
then the option name will try to be retrieved from the injection.</p>
<p>For example,</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">mass1</span> <span class="o">=</span> <span class="s">FROM_INJECTION</span>
</pre></div>
</div>
<p>will cause <code class="docutils literal notranslate"><span class="pre">mass1</span></code> to be retrieved from the injection file, while:</p>
<p>will cause the larger of mass1 and mass2 to be retrieved from the injection
file. Note that if spaces are in the argument, it must be encased in
single quotes.</p>
<p>The injection file may contain only one injection. Otherwise, a ValueError
will be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<em>ConfigParser</em>) – The config file within which to replace values.</li>
<li><strong>injection_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – The injection file to get values from. A ValueError will be raised
if there are any <code class="docutils literal notranslate"><span class="pre">FROM_INJECTION</span></code> values in the config file, and
injection file is None, or if there is more than one injection.</li>
<li><strong>update_cp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Update the config parser with the replaced parameters. If False,
will just retrieve the parameter values to update, without updating
the config file. Default is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The parameters that were replaced, as a tuple of section name, option,
value.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.marginalized_gaussian_noise">
<span id="pycbc-inference-models-marginalized-gaussian-noise-module"></span><h2>pycbc.inference.models.marginalized_gaussian_noise module<a class="headerlink" href="#module-pycbc.inference.models.marginalized_gaussian_noise" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes that assume the noise is Gaussian and
allows for the likelihood to be marginalized over phase and/or time and/or
distance.</p>
<dl class="class">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.marginalized_gaussian_noise.</code><code class="descname">MarginalizedHMPolPhase</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>polarization_samples=100</em>, <em>coa_phase_samples=100</em>, <em>static_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/marginalized_gaussian_noise.html#MarginalizedHMPolPhase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>Numerically marginalizes waveforms with higher modes over polarization
<cite>and</cite> phase.</p>
<p>This class implements the Gaussian likelihood with an explicit numerical
marginalization over polarization angle and orbital phase. This is
accomplished using a fixed set of integration points distributed uniformly
between 0 and 2:math:<cite>pi</cite> for both the polarization and phase. By default,
100 integration points are used for each parameter, giving <span class="math notranslate nohighlight">\(10^4\)</span>
evaluation points in total. This can be modified using the
<code class="docutils literal notranslate"><span class="pre">polarization_samples</span></code> and <code class="docutils literal notranslate"><span class="pre">coa_phase_samples</span></code> arguments.</p>
<p>This only works with waveforms that return separate spherical harmonic
modes for each waveform. For a list of currently supported approximants,
see <a class="reference internal" href="pycbc.waveform.html#pycbc.waveform.waveform_modes.fd_waveform_mode_approximants" title="pycbc.waveform.waveform_modes.fd_waveform_mode_approximants"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.waveform.waveform_modes.fd_waveform_mode_approximants()</span></code></a>
and <a class="reference internal" href="pycbc.waveform.html#pycbc.waveform.waveform_modes.td_waveform_mode_approximants" title="pycbc.waveform.waveform_modes.td_waveform_mode_approximants"><code class="xref py py-func docutils literal notranslate"><span class="pre">pycbc.waveform.waveform_modes.td_waveform_mode_approximants()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). All data must have the
same frequency resolution.</li>
<li><strong>low_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of starting frequencies, in which the keys are the
detector names and the values are the starting frequencies for the
respective detectors to be used for computing inner products.</li>
<li><strong>psds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of FrequencySeries keyed by the detector names. The
dictionary must have a psd for each detector specified in the data
dictionary. If provided, the inner products in each detector will be
weighted by 1/psd of that detector.</li>
<li><strong>high_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of ending frequencies, in which the keys are the
detector names and the values are the ending frequencies for the
respective detectors to be used for computing inner products. If not
provided, the minimum of the largest frequency stored in the data
and a given waveform will be used.</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the normalization factor <span class="math notranslate nohighlight">\(alpha\)</span> will be included in the
log likelihood. See <code class="xref py py-class docutils literal notranslate"><span class="pre">GaussianNoise</span></code> for details. Default is
to not include it.</li>
<li><strong>polarization_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – How many points to use in polarization. Default is 100.</li>
<li><strong>coa_phase_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – How many points to use in phase. Defaults is 100.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to
<code class="xref py py-class docutils literal notranslate"><span class="pre">gaussian_noise.BaseGaussianNoisei</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase.name">
<code class="descname">name</code><em class="property"> = 'marginalized_hmpolphase'</em><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase.phase_fac">
<code class="descname">phase_fac</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/marginalized_gaussian_noise.html#MarginalizedHMPolPhase.phase_fac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedHMPolPhase.phase_fac" title="Permalink to this definition">¶</a></dt>
<dd><p>The phase <span class="math notranslate nohighlight">\(\exp[i m \phi]\)</span>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPhaseGaussianNoise">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.marginalized_gaussian_noise.</code><code class="descname">MarginalizedPhaseGaussianNoise</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>static_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/marginalized_gaussian_noise.html#MarginalizedPhaseGaussianNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPhaseGaussianNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>The likelihood is analytically marginalized over phase.</p>
<p>This class can be used with signal models that can be written as:</p>
<div class="math notranslate nohighlight">
\[\tilde{h}(f; \Theta, \phi) = A(f; \Theta)e^{i\Psi(f; \Theta) + i \phi},\]</div>
<p>where <span class="math notranslate nohighlight">\(\phi\)</span> is an arbitrary phase constant. This phase constant
can be analytically marginalized over with a uniform prior as follows:
assuming the noise is stationary and Gaussian (see <cite>GaussianNoise</cite>
for details), the posterior is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}p(\Theta,\phi|d)
    &amp;\propto p(\Theta)p(\phi)p(d|\Theta,\phi) \\
    &amp;\propto p(\Theta)\frac{1}{2\pi}\exp\left[
        -\frac{1}{2}\sum_{i}^{N_D} \left&lt;
            h_i(\Theta,\phi) - d_i, h_i(\Theta,\phi) - d_i
        \right&gt;\right].\end{split}\]</div>
<p>Here, the sum is over the number of detectors <span class="math notranslate nohighlight">\(N_D\)</span>, <span class="math notranslate nohighlight">\(d_i\)</span>
and <span class="math notranslate nohighlight">\(h_i\)</span> are the data and signal in detector <span class="math notranslate nohighlight">\(i\)</span>,
respectively, and we have assumed a uniform prior on <span class="math notranslate nohighlight">\(phi \in [0,
2\pi)\)</span>. With the form of the signal model given above, the inner product
in the exponent can be written as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}-\frac{1}{2}\left&lt;h_i - d_i, h_i- d_i\right&gt;
    &amp;= \left&lt;h_i, d_i\right&gt; -
       \frac{1}{2}\left&lt;h_i, h_i\right&gt; -
       \frac{1}{2}\left&lt;d_i, d_i\right&gt; \\
    &amp;= \Re\left\{O(h^0_i, d_i)e^{-i\phi}\right\} -
       \frac{1}{2}\left&lt;h^0_i, h^0_i\right&gt; -
       \frac{1}{2}\left&lt;d_i, d_i\right&gt;,\end{split}\]</div>
<p>where:</p>
<div class="math notranslate nohighlight">
\[\begin{split}h_i^0 &amp;\equiv \tilde{h}_i(f; \Theta, \phi=0); \\
O(h^0_i, d_i) &amp;\equiv 4 \int_0^\infty
    \frac{\tilde{h}_i^*(f; \Theta,0)\tilde{d}_i(f)}{S_n(f)}\mathrm{d}f.\end{split}\]</div>
<p>Gathering all of the terms that are not dependent on <span class="math notranslate nohighlight">\(\phi\)</span> together:</p>
<div class="math notranslate nohighlight">
\[\alpha(\Theta, d) \equiv \exp\left[-\frac{1}{2}\sum_i
    \left&lt;h^0_i, h^0_i\right&gt; + \left&lt;d_i, d_i\right&gt;\right],\]</div>
<p>we can marginalize the posterior over <span class="math notranslate nohighlight">\(\phi\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}p(\Theta|d)
    &amp;\propto p(\Theta)\alpha(\Theta,d)\frac{1}{2\pi}
             \int_{0}^{2\pi}\exp\left[\Re \left\{
                 e^{-i\phi} \sum_i O(h^0_i, d_i)
             \right\}\right]\mathrm{d}\phi \\
    &amp;\propto p(\Theta)\alpha(\Theta, d)\frac{1}{2\pi}
             \int_{0}^{2\pi}\exp\left[
                 x(\Theta,d)\cos(\phi) + y(\Theta, d)\sin(\phi)
             \right]\mathrm{d}\phi.\end{split}\]</div>
<p>The integral in the last line is equal to <span class="math notranslate nohighlight">\(2\pi I_0(\sqrt{x^2+y^2})\)</span>,
where <span class="math notranslate nohighlight">\(I_0\)</span> is the modified Bessel function of the first kind. Thus
the marginalized log posterior is:</p>
<div class="math notranslate nohighlight">
\[\log p(\Theta|d) \propto \log p(\Theta) +
    I_0\left(\left|\sum_i O(h^0_i, d_i)\right|\right) -
    \frac{1}{2}\sum_i\left[ \left&lt;h^0_i, h^0_i\right&gt; -
                            \left&lt;d_i, d_i\right&gt; \right]\]</div>
<dl class="attribute">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPhaseGaussianNoise.name">
<code class="descname">name</code><em class="property"> = 'marginalized_phase'</em><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPhaseGaussianNoise.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPolarization">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.marginalized_gaussian_noise.</code><code class="descname">MarginalizedPolarization</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>psds=None</em>, <em>high_frequency_cutoff=None</em>, <em>normalize=False</em>, <em>polarization_samples=1000</em>, <em>static_params=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/marginalized_gaussian_noise.html#MarginalizedPolarization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPolarization" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>This likelihood numerically marginalizes over polarization angle</p>
<p>This class implements the Gaussian likelihood with an explicit numerical
marginalization over polarization angle. This is accomplished using
a fixed set of integration points distribution uniformation between
0 and 2pi. By default, 1000 integration points are used.
The ‘polarization_samples’ argument can be passed to set an alternate
number of integration points.</p>
<dl class="attribute">
<dt id="pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPolarization.name">
<code class="descname">name</code><em class="property"> = 'marginalized_polarization'</em><a class="headerlink" href="#pycbc.inference.models.marginalized_gaussian_noise.MarginalizedPolarization.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.relbin">
<span id="pycbc-inference-models-relbin-module"></span><h2>pycbc.inference.models.relbin module<a class="headerlink" href="#module-pycbc.inference.models.relbin" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes and functions for implementing
a relative binning likelihood for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.models.relbin.Relative">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.relbin.</code><code class="descname">Relative</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>fiducial_params=None</em>, <em>gammas=None</em>, <em>epsilon=0.5</em>, <em>earth_rotation=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#Relative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.Relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>Model that assumes the likelihood in a region around the peak
is slowly varying such that a linear approximation can be made, and
likelihoods can be calculated at a coarser frequency resolution. For
more details on the implementation, see <a class="reference external" href="https://arxiv.org/abs/1806.08792">https://arxiv.org/abs/1806.08792</a>.</p>
<p>This model requires the use of a fiducial waveform whose parameters are
near the peak of the likelihood. The fiducial waveform and all template
waveforms used in likelihood calculation are currently generated using
the SPAtmplt approximant.</p>
<p>For more details on initialization parameters and definition of terms, see
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseGaussianNoise</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). All data must have the
same frequency resolution.</li>
<li><strong>low_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of starting frequencies, in which the keys are the
detector names and the values are the starting frequencies for the
respective detectors to be used for computing inner products.</li>
<li><strong>figucial_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of waveform parameters to be used for generating the
fiducial waveform. Keys must be parameter names in the form
‘PARAM_ref’ where PARAM is a recognized extrinsic parameter or
an intrinsic parameter compatible with the chosen approximant.</li>
<li><strong>gammas</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – Frequency powerlaw indices to be used in computing frequency bins.</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Tuning parameter used in calculating the frequency bins. Lower values
will result in higher resolution and more bins.</li>
<li><strong>earth_rotation</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Default is False. If True, then vary the fp/fc polarization values
as a function of frequency bin, using a predetermined PN approximation
for the time offsets.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseGaussianNoise</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="pycbc.inference.models.relbin.Relative.extra_args_from_config">
<em class="property">static </em><code class="descname">extra_args_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>section</em>, <em>skip_args=None</em>, <em>dtypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#Relative.extra_args_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.Relative.extra_args_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds reading fiducial waveform parameters from config file.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.relbin.Relative.get_waveforms">
<code class="descname">get_waveforms</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#Relative.get_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.Relative.get_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the waveform polarizations for each ifo</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.models.relbin.Relative.name">
<code class="descname">name</code><em class="property"> = 'relative'</em><a class="headerlink" href="#pycbc.inference.models.relbin.Relative.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.relbin.Relative.summary_data">
<code class="descname">summary_data</code><span class="sig-paren">(</span><em>ifo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#Relative.summary_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.Relative.summary_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute summary data bin coefficients encoding linear
approximation to full resolution likelihood.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary containing bin coefficients a0, b0, a1, b1,
for each frequency bin.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.models.relbin.Relative.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#Relative.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.Relative.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds writing the fiducial parameters and epsilon to file’s attrs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<em>pycbc.inference.io.BaseInferenceFile instance</em>) – The inference file to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.relbin.setup_bins">
<code class="descclassname">pycbc.inference.models.relbin.</code><code class="descname">setup_bins</code><span class="sig-paren">(</span><em>f_full</em>, <em>f_lo</em>, <em>f_hi</em>, <em>chi=1.0</em>, <em>eps=0.5</em>, <em>gammas=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/relbin.html#setup_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.relbin.setup_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct frequency bins for use in a relative likelihood
model. For details, see [Barak, Dai &amp; Venumadhav 2018].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>f_full</strong> (<em>array</em>) – The full resolution array of frequencies being used in the analysis.</li>
<li><strong>f_lo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The starting frequency used in matched filtering. This will be the
left edge of the first frequency bin.</li>
<li><strong>f_hi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The ending frequency used in matched filtering. This will be the right
edge of the last frequency bin.</li>
<li><strong>chi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Tunable parameter, see [Barak, Dai &amp; Venumadhav 2018]</li>
<li><strong>eps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Tunable parameter, see [Barak, Dai &amp; Venumadhav 2018]. Lower values
result in larger number of bins.</li>
<li><strong>gammas</strong> (<em>array</em><em>, </em><em>optional</em>) – Frequency powerlaw indices to be used in computing bins.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>nbin</strong> (<em>int</em>) – Number of bins.</li>
<li><strong>fbin</strong> (<em>numpy.array of floats</em>) – Bin edge frequencies.</li>
<li><strong>fbin_ind</strong> (<em>numpy.array of ints</em>) – Indices of bin edges in full frequency array.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.relbin_cpu">
<span id="pycbc-inference-models-relbin-cpu-module"></span><h2>pycbc.inference.models.relbin_cpu module<a class="headerlink" href="#module-pycbc.inference.models.relbin_cpu" title="Permalink to this headline">¶</a></h2>
<p>Optimized inner loop functions for the relative likelihood model</p>
<dl class="function">
<dt id="pycbc.inference.models.relbin_cpu.likelihood_parts">
<code class="descclassname">pycbc.inference.models.relbin_cpu.</code><code class="descname">likelihood_parts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pycbc.inference.models.relbin_cpu.likelihood_parts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.relbin_cpu.likelihood_parts_v">
<code class="descclassname">pycbc.inference.models.relbin_cpu.</code><code class="descname">likelihood_parts_v</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pycbc.inference.models.relbin_cpu.likelihood_parts_v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models.single_template">
<span id="pycbc-inference-models-single-template-module"></span><h2>pycbc.inference.models.single_template module<a class="headerlink" href="#module-pycbc.inference.models.single_template" title="Permalink to this headline">¶</a></h2>
<p>This module provides model classes that assume the noise is Gaussian.</p>
<dl class="class">
<dt id="pycbc.inference.models.single_template.SingleTemplate">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.single_template.</code><code class="descname">SingleTemplate</code><span class="sig-paren">(</span><em>variable_params</em>, <em>data</em>, <em>low_frequency_cutoff</em>, <em>sample_rate=32768</em>, <em>polarization_samples=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models/single_template.html#SingleTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.single_template.SingleTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.models.gaussian_noise.BaseGaussianNoise" title="pycbc.inference.models.gaussian_noise.BaseGaussianNoise"><code class="xref py py-class docutils literal notranslate"><span class="pre">pycbc.inference.models.gaussian_noise.BaseGaussianNoise</span></code></a></p>
<p>Model that assumes we know all the intrinsic parameters.</p>
<p>This model assumes we know all the intrinsic parameters, and are only
maximizing over the extrinsic ones. We also assume a dominant mode waveform
approximant only and non-precessing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_params</strong> (<em>(</em><em>tuple of</em><em>) </em><em>string</em><em>(</em><em>s</em><em>)</em>) – A tuple of parameter names that will be varied.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). All data must have the
same frequency resolution.</li>
<li><strong>low_frequency_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary of starting frequencies, in which the keys are the
detector names and the values are the starting frequencies for the
respective detectors to be used for computing inner products.</li>
<li><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The sample rate to use. Default is 32768.</li>
<li><strong>polarization_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Parameter to specify how finely to marginalize over polarization angle.
If None, then polarization must be a parameter.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseGaussianNoise</span></code>; see that class for details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.models.single_template.SingleTemplate.name">
<code class="descname">name</code><em class="property"> = 'single_template'</em><a class="headerlink" href="#pycbc.inference.models.single_template.SingleTemplate.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.models">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pycbc.inference.models" title="Permalink to this headline">¶</a></h2>
<p>This package provides classes and functions for evaluating Bayesian statistics
assuming various noise models.</p>
<dl class="class">
<dt id="pycbc.inference.models.CallModel">
<em class="property">class </em><code class="descclassname">pycbc.inference.models.</code><code class="descname">CallModel</code><span class="sig-paren">(</span><em>model</em>, <em>callstat</em>, <em>return_all_stats=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models.html#CallModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.CallModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapper class for calling models from a sampler.</p>
<p>This class can be called like a function, with the parameter values to
evaluate provided as a list in the same order as the model’s
<code class="docutils literal notranslate"><span class="pre">variable_params</span></code>. In that case, the model is updated with the provided
parameters and then the <code class="docutils literal notranslate"><span class="pre">callstat</span></code> retrieved. If <code class="docutils literal notranslate"><span class="pre">return_all_stats</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, then all of the stats specified by the model’s
<code class="docutils literal notranslate"><span class="pre">default_stats</span></code> will be returned as a tuple, in addition to the stat
value.</p>
<p>The model’s attributes are promoted to this class’s namespace, so that any
attribute and method of <code class="docutils literal notranslate"><span class="pre">model</span></code> may be called directly from this class.</p>
<p>This class must be initalized prior to the creation of a <code class="docutils literal notranslate"><span class="pre">Pool</span></code> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> (<em>Model instance</em>) – The model to call.</li>
<li><strong>callstat</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The statistic to call.</li>
<li><strong>return_all_stats</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not to return all of the other statistics along with the
<code class="docutils literal notranslate"><span class="pre">callstat</span></code> value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a wrapper around an instance of the <code class="docutils literal notranslate"><span class="pre">TestNormal</span></code> model, with the
<code class="docutils literal notranslate"><span class="pre">callstat</span></code> set to <code class="docutils literal notranslate"><span class="pre">logposterior</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc.inference.models</span> <span class="kn">import</span> <span class="n">TestNormal</span><span class="p">,</span> <span class="n">CallModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">TestNormal</span><span class="p">([</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">call_model</span> <span class="o">=</span> <span class="n">CallModel</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;logposterior&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now call on a set of parameter values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">call_model</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">])</span>
<span class="go">(-1.8628770664093453, (0.0, 0.0, -1.8628770664093453))</span>
</pre></div>
</div>
<p>Note that a tuple of all of the model’s <code class="docutils literal notranslate"><span class="pre">default_stats</span></code> were returned in
addition to the <code class="docutils literal notranslate"><span class="pre">logposterior</span></code> value. We can shut this off by toggling
<code class="docutils literal notranslate"><span class="pre">return_all_stats</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">call_model</span><span class="o">.</span><span class="n">return_all_stats</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">call_model</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">])</span>
<span class="go">-1.8628770664093453</span>
</pre></div>
</div>
<p>Attributes of the model can be called from the call model. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">call_model</span><span class="o">.</span><span class="n">variable_params</span>
<span class="go">(&#39;x&#39;, &#39;y&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.models.read_from_config">
<code class="descclassname">pycbc.inference.models.</code><code class="descname">read_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/models.html#read_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.models.read_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a model from the given config file.</p>
<p>The section must have a <code class="docutils literal notranslate"><span class="pre">name</span></code> argument. The name argument corresponds to
the name of the class to initialize.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) – Config file parser to read.</li>
<li><strong>**kwargs</strong> – All other keyword arguments are passed to the <code class="docutils literal notranslate"><span class="pre">from_config</span></code> method
of the class specified by the name argument.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The initialized model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">cls</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pycbc.inference.jump.html" class="btn btn-neutral float-left" title="pycbc.inference.jump package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pycbc.inference.sampler.html" class="btn btn-neutral float-right" title="pycbc.inference.sampler package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      <span class="lastupdated">Last updated on Oct 20, 2021.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>