<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PyCBC template bank generation documentation (pycbc.tmpltbank) &mdash; PyCBC 0.0a8230 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/terminal.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/typed.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pycbc.tmpltbank package" href="pycbc.tmpltbank.html" />
    <link rel="prev" title="pycbc_make_offline_grb_workflow: A GRB triggered CBC analysis workflow generator" href="workflow/pygrb.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PyCBC
          </a>
              <div class="version">
                1.18.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="credit.html">Use of PyCBC in Scientific Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running PyCBC under Docker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.inference</span></code>)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_psd_estimation_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_psd_estimation_workflow</span></code>: A workflow generator for noise estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_coinc_search_workflow.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_coinc_search_workflow</span></code>: A workflow to search for gravitational waves</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pygrb.html"><code class="docutils literal notranslate"><span class="pre">pycbc_make_offline_grb_workflow</span></code>: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">PyCBC template bank generation documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.tmpltbank</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#non-spin-bank-placement-pycbc-geom-nonspinbank">Non spin bank placement: pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#some-examples">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aligned-spin-geometric-placement-pycbc-geom-aligned-bank">Aligned-spin geometric placement: pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aligned-spin-stochastic-placement">Aligned-spin stochastic placement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ian-s-recommendation-which-stochastic-code-should-i-use">Ian’s recommendation: Which stochastic code should I use?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#i-want-to-use-the-f2-metric">I want to use the F2 metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-want-to-use-another-metric-ie-an-imr-metric">I want to use another metric, ie. an IMR metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-want-to-use-direct-match">I want to use direct match</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-options-pycbc-aligned-stoch-bank">Command line options: pycbc_aligned_stoch_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-options-lalapps-cbc-sbank">Command line options: lalapps_cbc_sbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sbank-workflow-generator">Sbank workflow generator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hybrid-approaches-the-best-of-both-worlds">Hybrid approaches: the best of both worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-module-s-source-code">The module’s source code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pycbc.tmpltbank.html">pycbc.tmpltbank package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hwinj.html">Hardware injection waveform generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="banksim.html">Calculating the Effectualness (Fitting Factor) of Template Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_to_gracedb.html">Uploading triggers to gracedb</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="waveform_plugin.html">Making new waveform approximants available to PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Catalog of Observed Gravitational-wave Mergers</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataquality.html">Query times of valid data, hardware injections, and more.</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame.html">Reading Gravitational-wave Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft.html">Performing FFTs in PyCBC</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw150914.html">Signal Processing with GW150914</a></li>
<li class="toctree-l1"><a class="reference internal" href="detector.html">Gravitational-wave Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="psd.html">Handling PSDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Generating Noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="waveform.html">Waveforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Using PyCBC Distributions from PyCBC Inference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="building_bundled_executables.html">Building Bundled Executables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documenting PyCBC code</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Creating Releases of PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formats/hdf_format.html">HDF files within the PyCBC workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal notranslate"><span class="pre">pycbc.workflow</span></code>)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pycbc</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCBC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>PyCBC template bank generation documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.tmpltbank</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tmpltbank.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pycbc-template-bank-generation-documentation-pycbc-tmpltbank">
<span id="tmpltbankmod"></span><h1>PyCBC template bank generation documentation (<code class="docutils literal notranslate"><span class="pre">pycbc.tmpltbank</span></code>)<a class="headerlink" href="#pycbc-template-bank-generation-documentation-pycbc-tmpltbank" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This page gives details on how to use the various bank generation codes
and bank generation workflows
available in pyCBC and specifically the pyCBC.tmpltbank module.
We also describe the sBank code, currently in lalinspiral.
These codes currently consist of</p>
<ul class="simple">
<li><a class="reference internal" href="#tmpltbank-nonspinbank"><span class="std std-ref">A program to generate a non-spinning template bank (pycbc_geom_nonspinbank)</span></a></li>
<li><a class="reference internal" href="#tmpltbank-alignedgeombank"><span class="std std-ref">A program to generate an aligned-spin template bank using a geometrical lattice algorithm (pycbc_geom_aligned_bank)</span></a></li>
<li><a class="reference internal" href="#tmpltbank-alignedstochbank"><span class="std std-ref">Two programs to generate an aligned-spin template bank using a stochastic placement algorithm. This is done either using a metric to approximate distances, or by computing explicit matches from waveforms. (pycbc_aligned_stoch_bank, lalapps_cbc_sbank)</span></a></li>
<li><a class="reference internal" href="#tmpltbank-sbankworkflow"><span class="std std-ref">A workflow generator for generating large template banks using the lalapps_cbc_sbank executables, but allowing the parallel use of multiple cores to optimize the generation of large template banks. (pycbc_make_sbank_workflow)</span></a></li>
<li><a class="reference internal" href="#tmpltbank-uberbankworkflow"><span class="std std-ref">A workflow generator for generating the “uberbank”. This consists of a chain of calls to the geometric aligned-spin lattice code and the sbank workflow generator to create a template bank suitable for analysing Advanced LIGO and Advanced Virgo data. (pycbc_make_uberbank_workflow)</span></a></li>
</ul>
<p>Each of these codes and workflow generators is described in turn and is accompanied by some examples of how to run the code, some relevant background and references and the options described from the codes’ help messages.</p>
<p>The output of all these codes is currently a sngl_inspiral_table XML object.
However, if people want to output in HDF or other formats it should be
easy to write a back-end module to do this. The code may not fill every
necessary column of the sngl_inspiral table, please let me know if something
is missing and it will be added!</p>
<p><strong>NOTE: Aligned-spin template generation is not at the point where it can be considered “plug and play”. Here we give some examples for distinct situations, but these options may not be suitable in other situations, for example if changing the mass ranges, or PSD, or frequency ranges etc. Template banks should always be checked (see :ref:`pycbc_banksim &lt;banksim&gt;`) and you should consider if you have placed too many templates (“overcovering” the parameter space), or if the placement has left gaps in the coverage (“undercovering” the parameter space). There are numerous things that can be tuned in the workflow generators, we try to describe them here, but it is often good to ask questions if you are unsure!</strong></p>
<p><strong>In some cases recommendations are given for which codes to use where. It
should be noted that these are personal recommendations of the page maintainer
(Ian), and there is always a strong possibility that Ian, and the
recommendations he makes, are wrong. Where multiple methods exist, it is
advised that the user try out the different methods and decide for themselves
which method is best.</strong></p>
</div>
<div class="section" id="non-spin-bank-placement-pycbc-geom-nonspinbank">
<span id="tmpltbank-nonspinbank"></span><h2>Non spin bank placement: pycbc_geom_nonspinbank<a class="headerlink" href="#non-spin-bank-placement-pycbc-geom-nonspinbank" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>pycbc_geom_nonspinbank is designed as a drop in replacement for
lalapps_tmpltbank. It uses a globally flat coordinate system, which enables it
to easily place banks at 3.5PN order (and higher order as these become available).</p>
<p>Mapping back from the new coordinate system to masses and spins makes the bank
placement slower than lalapps_tmpltbank. However, it doesn’t waste stupid
amounts of time calculating the ethinca metric so it is faster than tmpltbank
if the ethinca components are being computed.</p>
<p>A metric-based approach is not very reliable at high masses, but we have found
that in general this just results in overcoverage, which is not normally a problem as most templates are found at lower masses. One might want to consider the stochastic code sbank if placing a high-mass only non-spinning template bank.</p>
<p><strong>Ian’s recommendation: Use this code instead of lalapps_tmpltbank if you want
a non-spinning bank. If only placing high-mass templates consider using lalapps_cbc_sbank, described below.</strong></p>
</div>
<div class="section" id="background">
<h3>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>The methods, specifically the metric and the lattice algorithm, used in
lalapps_tmpltbank are described in:</p>
<ul class="simple">
<li>Sathyaprakash, B. S. and Dhurandhar, S. V., Phys.Rev. D44 3819  (1991)</li>
<li>Poisson, Eric and Will, Clifford M., Phys.Rev. D52 848 (1995)</li>
<li>Balasubramanian, R. et al., Phys.Rev. D53 3033 (1996)</li>
<li>Owen, Benjamin J., Phys.Rev. D53 6749 (1996)</li>
<li>Owen, Benjamin J. and Sathyaprakash, B. S., Phys.Rev. D60 022002 (1998)</li>
<li>Babak, S. et al., Class.Quant.Grav. 23, 5477 (2006)</li>
<li>Cokelaer, Thomas Phys.Rev. D76 102004 (2007)</li>
<li>Babak, S. et al., Phys.Rev. D87 024033 (2013)</li>
</ul>
<p>Our approach still uses the hexagonal lattice algorithm but instead of using
the chirp times as coordinates uses the xi_i coordinate system described in:</p>
<ul class="simple">
<li>Brown, Duncan A. et al. Phys.Rev. D86 084017 (2012)</li>
<li>Ohme, Frank et al. Phys.Rev. D88 024002 (2013)</li>
</ul>
<p>This allows us to easily use higher order terms in the metric placement as we
do not have to worry about correlations between tau 0 and 3 and the other
coordinates. Our coordinates are independent.</p>
<p>The issue is that unlike in the lalapps_tmpltbank approach it is not trivial
to map back from our coordinates to masses. Currently we use a monte-carlo
approach to find mass positions fitting the desired coordinates. If we could
implement some form of 2D interpolation this would probably be much faster.
If anyone wants to investigate this I can provide lots of data!</p>
</div>
<div class="section" id="some-examples">
<h3>Some examples<a class="headerlink" href="#some-examples" title="Permalink to this headline">¶</a></h3>
<p>This first example computes a non-spinning template bank using a supplied ASD text file. It also calculates the ethinca metric components for a filter with ISCO cutoff</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_geom_nonspinbank --pn-order twoPN --f0 <span class="m">40</span> --f-low <span class="m">40</span> --f-upper <span class="m">2048</span> --delta-f <span class="m">0</span>.01 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.0 --min-mass2 <span class="m">2</span>.0 --max-mass1 <span class="m">3</span>. --max-mass2 <span class="m">3</span>. --verbose --output-file testNonSpin.xml --calculate-ethinca-metric --filter-cutoff SchwarzISCO --asd-file ZERO_DET_high_P.txt
</pre></div>
</div>
<p>Here is a second example that computes a non-spinning template bank from a frame
cache file. This needs a bunch more options to read data and estimate the PSD
from that.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_geom_nonspinbank --pn-order threePointFivePN --f0 <span class="m">40</span> --f-low <span class="m">40</span> --f-upper <span class="m">2048</span> --delta-f <span class="m">0</span>.01 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.0 --min-mass2 <span class="m">2</span>.0 --max-mass1 <span class="m">3</span>. --max-mass2 <span class="m">3</span>. --verbose --output-file testNonSpin.xml --calculate-ethinca-metric --filter-cutoff SchwarzISCO --psd-estimation median --psd-segment-length <span class="m">256</span> --psd-segment-stride <span class="m">128</span> --psd-inverse-length <span class="m">8</span> --gps-start-time <span class="m">900000033</span> --gps-end-time <span class="m">900002081</span> --strain-high-pass <span class="m">30</span> --pad-data <span class="m">8</span> --sample-rate <span class="m">4096</span> --frame-cache cache/H-H1_NINJA2_G1000176_EARLY_RECOLORED_CACHE-900000024-10653.lcf --channel-name H1:LDAS-STRAIN --max-total-mass <span class="m">5</span>.5 --min-total-mass <span class="m">4</span>.5
</pre></div>
</div>
</div>
<div class="section" id="command-line-options">
<h3>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h3>
<p>The command line options read as follows</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ pycbc_geom_nonspinbank --help
usage: pycbc_geom_nonspinbank [-h] [--version] [-V]
                              [--random-seed RANDOM_SEED] -m MIN_MATCH -O
                              OUTPUT_FILE [--f-low-column NAME] --pn-order
                              PN_ORDER [--f0 F0] --f-low F_LOW --f-upper
                              F_UPPER --delta-f DELTA_F [--write-metric]
                              --min-mass1 MIN_MASS1 --max-mass1 MAX_MASS1
                              --min-mass2 MIN_MASS2 --max-mass2 MAX_MASS2
                              [--max-total-mass MAX_TOTAL_MASS]
                              [--min-total-mass MIN_TOTAL_MASS]
                              [--max-chirp-mass MAX_CHIRP_MASS]
                              [--min-chirp-mass MIN_CHIRP_MASS]
                              [--max-eta MAX_ETA] [--min-eta MIN_ETA]
                              [--ns-eos NS_EOS]
                              [--remnant-mass-threshold REMNANT_MASS_THRESHOLD]
                              [--use-eos-max-ns-mass]
                              [--delta-bh-spin DELTA_BH_SPIN]
                              [--delta-ns-mass DELTA_NS_MASS]
                              [--psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}]
                              [--psd-file PSD_FILE] [--asd-file ASD_FILE]
                              [--psd-inverse-length PSD_INVERSE_LENGTH]
                              [--invpsd-trunc-method {hann}]
                              [--psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING]
                              [--psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME]
                              [--psdvar-segment SECONDS]
                              [--psdvar-short-segment SECONDS]
                              [--psdvar-long-segment SECONDS]
                              [--psdvar-psd-duration SECONDS]
                              [--psdvar-psd-stride SECONDS]
                              [--psdvar-low-freq HERTZ]
                              [--psdvar-high-freq HERTZ]
                              [--psd-estimation {mean,median,median-mean}]
                              [--psd-segment-length PSD_SEGMENT_LENGTH]
                              [--psd-segment-stride PSD_SEGMENT_STRIDE]
                              [--psd-num-segments PSD_NUM_SEGMENTS]
                              [--psd-output PSD_OUTPUT]
                              [--gps-start-time GPS_START_TIME]
                              [--gps-end-time GPS_END_TIME]
                              [--strain-high-pass STRAIN_HIGH_PASS]
                              [--strain-low-pass STRAIN_LOW_PASS]
                              [--pad-data PAD_DATA] [--taper-data TAPER_DATA]
                              [--sample-rate SAMPLE_RATE]
                              [--channel-name CHANNEL_NAME]
                              [--frame-cache FRAME_CACHE [FRAME_CACHE ...]]
                              [--frame-files FRAME_FILES [FRAME_FILES ...]]
                              [--hdf-store HDF_STORE]
                              [--frame-type FRAME_TYPE]
                              [--frame-sieve FRAME_SIEVE]
                              [--fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}]
                              [--fake-strain-seed FAKE_STRAIN_SEED]
                              [--fake-strain-from-file FAKE_STRAIN_FROM_FILE]
                              [--fake-strain-flow FAKE_STRAIN_FLOW]
                              [--fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION]
                              [--fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE]
                              [--injection-file INJECTION_FILE]
                              [--sgburst-injection-file SGBURST_INJECTION_FILE]
                              [--injection-scale-factor INJECTION_SCALE_FACTOR]
                              [--injection-sample-rate INJECTION_SAMPLE_RATE]
                              [--injection-f-ref INJECTION_F_REF]
                              [--injection-f-final INJECTION_F_FINAL]
                              [--gating-file GATING_FILE]
                              [--autogating-threshold SIGMA]
                              [--autogating-max-iterations SIGMA]
                              [--autogating-cluster SECONDS]
                              [--autogating-width SECONDS]
                              [--autogating-taper SECONDS]
                              [--autogating-pad SECONDS]
                              [--gating-method {hard,taper,paint}]
                              [--normalize-strain NORMALIZE_STRAIN]
                              [--zpk-z ZPK_Z [ZPK_Z ...]]
                              [--zpk-p ZPK_P [ZPK_P ...]] [--zpk-k ZPK_K]
                              [--witness-frame-type WITNESS_FRAME_TYPE]
                              [--witness-tf-file WITNESS_TF_FILE]
                              [--witness-filter-length WITNESS_FILTER_LENGTH]
                              [--calculate-time-metric-components | --calculate-ethinca-metric]
                              [--ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}]
                              [--filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}]
                              [--ethinca-frequency-step ETHINCA_FREQUENCY_STEP]

Template bank generator for placing a bank of non-spinning templates.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -V, --verbose         verbose output (default: False)
  --random-seed RANDOM_SEED
                        Random seed to use when calling numpy.random functions
                        used in obtaining the principal components and when
                        translating points back to physical space. If given,
                        the code should give the same output when run with the
                        same random seed. (default: None)
  -m MIN_MATCH, --min-match MIN_MATCH
                        Generate bank with specified minimum match. Required.
                        (default: None)
  -O OUTPUT_FILE, --output-file OUTPUT_FILE
                        Output file name. Required. (default: None)
  --f-low-column NAME   If given, store the lower frequency cutoff into column
                        NAME of the single-inspiral table. (default: None)

Options related to calculating the parameter space metric:
  --pn-order PN_ORDER   Determines the PN order to use. For a bank of non-
                        spinning templates, spin-related terms in the metric
                        will be zero. REQUIRED. Choices: * zeroPN: Will only
                        include the dominant term (proportional to chirp mass)
                        * onePN: Will only the leading orbit term and first
                        correction at 1PN * onePointFivePN: Will include orbit
                        and spin terms to 1.5PN. * twoPN: Will include orbit
                        and spin terms to 2PN. * twoPointFivePN: Will include
                        orbit and spin terms to 2.5PN. * threePN: Will include
                        orbit terms to 3PN and spin terms to 2.5PN. *
                        threePointFivePN: Include orbit terms to 3.5PN and
                        spin terms to 2.5PN (default: None)
  --f0 F0               f0 is used as a dynamic scaling factor when
                        calculating integrals used in metric construction.
                        I.e. instead of integrating F(f) we integrate F(f/f0)
                        then rescale by powers of f0. The default value 70Hz
                        should be fine for most applications. OPTIONAL.
                        UNITS=Hz. **WARNING: If the ethinca metric is to be
                        calculated, f0 must be set equal to f-low** (default:
                        70.0)
  --f-low F_LOW         Lower frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --f-upper F_UPPER     Upper frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --delta-f DELTA_F     Frequency spacing used in computing the parameter
                        space metric: integrals of the form \int F(f) df are
                        approximated as \sum F(f) delta_f. REQUIRED. UNITS=Hz
                        (default: None)
  --write-metric        If given write the metric components to disk as they
                        are calculated. (default: False)

Options related to mass and spin limits for bank generation:
  --min-mass1 MIN_MASS1
                        Minimum mass1: must be &gt;= min-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --max-mass1 MAX_MASS1
                        Maximum mass1: must be &gt;= max-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --min-mass2 MIN_MASS2
                        Minimum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-mass2 MAX_MASS2
                        Maximum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-total-mass MAX_TOTAL_MASS
                        Maximum total mass. OPTIONAL, if not provided the max
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-total-mass MIN_TOTAL_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-chirp-mass MAX_CHIRP_MASS
                        Maximum chirp mass. OPTIONAL, if not provided the max
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-chirp-mass MIN_CHIRP_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-eta MAX_ETA     Maximum symmetric mass ratio. OPTIONAL, no upper bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.25)
  --min-eta MIN_ETA     Minimum symmetric mass ratio. OPTIONAL, no lower bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.0)
  --ns-eos NS_EOS       Select the EOS to be used for the NS when calculating
                        the remnant disk mass. Only 2H is currently supported.
                        OPTIONAL (default: None)
  --remnant-mass-threshold REMNANT_MASS_THRESHOLD
                        Setting this filters EM dim NS-BH binaries: if the
                        remnant disk mass does not exceed this value, the NS-
                        BH binary is dropped from the target parameter space.
                        When it is set to None (default value) the EM dim
                        filter is not activated. OPTIONAL (default: None)
  --use-eos-max-ns-mass
                        Cut the mass range of the smaller object to the
                        maximum mass allowed by EOS. OPTIONAL (default: False)
  --delta-bh-spin DELTA_BH_SPIN
                        Grid spacing used for the BH spin z component when
                        generating the surface of the minumum minimum
                        symmetric mass ratio as a function of BH spin and NS
                        mass required to produce a remnant disk mass that
                        exceeds the threshold specificed in --remnant-mass-
                        threshold. OPTIONAL (0.1 by default) (default: None)
  --delta-ns-mass DELTA_NS_MASS
                        Grid spacing used for the NS mass when generating the
                        surface of the minumum minimum symmetric mass ratio as
                        a function of BH spin and NS mass required to produce
                        a remnant disk mass that exceeds the thrsehold
                        specified in --remnant-mass-threshold. OPTIONAL (0.1
                        by default) (default: None)

Options to select the method of PSD generation:
  The options --psd-model, --psd-file, --asd-file, and --psd-estimation are
  mutually exclusive.

  --psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}
                        Get PSD from given analytical model. (default: None)
  --psd-file PSD_FILE   Get PSD using given PSD ASCII file (default: None)
  --asd-file ASD_FILE   Get PSD using given ASD ASCII file (default: None)
  --psd-inverse-length PSD_INVERSE_LENGTH
                        (Optional) The maximum length of the impulse response
                        of the overwhitening filter (s) (default: None)
  --invpsd-trunc-method {hann}
                        (Optional) What truncation method to use when applying
                        psd-inverse-length. If not provided, a hard truncation
                        will be used. (default: None)
  --psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING
                        If using an XML PSD file, use the PSD in the file&#39;s
                        PSD dictionary with this ifo string. If not given and
                        only one PSD present in the file return that, if not
                        given and multiple (or zero) PSDs present an exception
                        will be raised. (default: None)
  --psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME
                        If given use this as the root name for the PSD XML
                        file. If this means nothing to you, then it is
                        probably safe to ignore this option. (default: psd)
  --psdvar-segment SECONDS
                        Length of segment for mean square calculation of PSD
                        variation. (default: None)
  --psdvar-short-segment SECONDS
                        Length of short segment for outliers removal in PSD
                        variability calculation. (default: None)
  --psdvar-long-segment SECONDS
                        Length of long segment when calculating the PSD
                        variability. (default: None)
  --psdvar-psd-duration SECONDS
                        Duration of short segments for PSD estimation.
                        (default: None)
  --psdvar-psd-stride SECONDS
                        Separation between PSD estimation segments. (default:
                        None)
  --psdvar-low-freq HERTZ
                        Minimum frequency to consider in strain bandpass.
                        (default: None)
  --psdvar-high-freq HERTZ
                        Maximum frequency to consider in strain bandpass.
                        (default: None)
  --psd-estimation {mean,median,median-mean}
                        Measure PSD from the data, using given average method.
                        (default: None)
  --psd-segment-length PSD_SEGMENT_LENGTH
                        (Required for --psd-estimation) The segment length for
                        PSD estimation (s) (default: None)
  --psd-segment-stride PSD_SEGMENT_STRIDE
                        (Required for --psd-estimation) The separation between
                        consecutive segments (s) (default: None)
  --psd-num-segments PSD_NUM_SEGMENTS
                        (Optional, used only with --psd-estimation). If given,
                        PSDs will be estimated using only this number of
                        segments. If more data is given than needed to make
                        this number of segments then excess data will not be
                        used in the PSD estimate. If not enough data is given,
                        the code will fail. (default: None)
  --psd-output PSD_OUTPUT
                        (Optional) Write PSD to specified file (default: None)

Options for obtaining h(t):
  These options are used for generating h(t) either by reading from a file
  or by generating it. This is only needed if the PSD is to be estimated
  from the data, ie. if the --psd-estimation option is given.

  --gps-start-time GPS_START_TIME
                        The gps start time of the data (integer seconds)
                        (default: None)
  --gps-end-time GPS_END_TIME
                        The gps end time of the data (integer seconds)
                        (default: None)
  --strain-high-pass STRAIN_HIGH_PASS
                        High pass frequency (default: None)
  --strain-low-pass STRAIN_LOW_PASS
                        Low pass frequency (default: None)
  --pad-data PAD_DATA   Extra padding to remove highpass corruption (integer
                        seconds) (default: 8)
  --taper-data TAPER_DATA
                        Taper ends of data to zero using the supplied length
                        as a window (integer seconds) (default: 0)
  --sample-rate SAMPLE_RATE
                        The sample rate to use for h(t) generation (integer
                        Hz) (default: None)
  --channel-name CHANNEL_NAME
                        The channel containing the gravitational strain data
                        (default: None)
  --frame-cache FRAME_CACHE [FRAME_CACHE ...]
                        Cache file containing the frame locations. (default:
                        None)
  --frame-files FRAME_FILES [FRAME_FILES ...]
                        list of frame files (default: None)
  --hdf-store HDF_STORE
                        Store of time series data in hdf format (default:
                        None)
  --frame-type FRAME_TYPE
                        (optional), replaces frame-files. Use datafind to get
                        the needed frame file(s) of this type. (default: None)
  --frame-sieve FRAME_SIEVE
                        (optional), Only use frame files where the URL matches
                        the regular expression given. (default: None)
  --fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}
                        Name of model PSD for generating fake gaussian noise.
                        (default: None)
  --fake-strain-seed FAKE_STRAIN_SEED
                        Seed value for the generation of fake colored gaussian
                        noise (default: 0)
  --fake-strain-from-file FAKE_STRAIN_FROM_FILE
                        File containing ASD for generating fake noise from it.
                        (default: None)
  --fake-strain-flow FAKE_STRAIN_FLOW
                        Low frequency cutoff of the fake strain (default: 1.0)
  --fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION
                        Duration in seconds of the fake data coloring filter
                        (default: 128.0)
  --fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE
                        Sample rate of the fake data generation (default:
                        16384)
  --injection-file INJECTION_FILE
                        (optional) Injection file containing parameters of CBC
                        signals to be added to the strain (default: None)
  --sgburst-injection-file SGBURST_INJECTION_FILE
                        (optional) Injection file containing parametersof
                        sine-Gaussian burst signals to add to the strain
                        (default: None)
  --injection-scale-factor INJECTION_SCALE_FACTOR
                        Divide injections by this factor before adding to the
                        strain data (default: 1)
  --injection-sample-rate INJECTION_SAMPLE_RATE
                        Sample rate to use for injections (integer Hz).
                        Typically similar to the strain data sample rate.If
                        not provided, the strain sample rate will be used
                        (default: None)
  --injection-f-ref INJECTION_F_REF
                        Reference frequency in Hz for creating CBC injections
                        from an XML file (default: None)
  --injection-f-final INJECTION_F_FINAL
                        Override the f_final field of a CBC XML injection file
                        (frequency in Hz) (default: None)
  --gating-file GATING_FILE
                        (optional) Text file of gating segments to apply.
                        Format of each line is (all values in seconds):
                        gps_time zeros_half_width pad_half_width (default:
                        None)
  --autogating-threshold SIGMA
                        If given, find and gate glitches producing a deviation
                        larger than SIGMA in the whitened strain time series.
                        (default: None)
  --autogating-max-iterations SIGMA
                        If given, iteratively apply autogating (default: 1)
  --autogating-cluster SECONDS
                        Length of clustering window for detecting glitches for
                        autogating. (default: 5.0)
  --autogating-width SECONDS
                        Half-width of the gating window. (default: 0.25)
  --autogating-taper SECONDS
                        Taper the strain before and after each gating window
                        over a duration of SECONDS. (default: 0.25)
  --autogating-pad SECONDS
                        Ignore the given length of whitened strain at the ends
                        of a segment, to avoid filters ringing. (default: 16)
  --gating-method {hard,taper,paint}
                        Choose the method for gating. Default: `taper`
                        (default: taper)
  --normalize-strain NORMALIZE_STRAIN
                        (optional) Divide frame data by constant. (default:
                        None)
  --zpk-z ZPK_Z [ZPK_Z ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of zeros for transfer function (default: None)
  --zpk-p ZPK_P [ZPK_P ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of poles for transfer function (default: None)
  --zpk-k ZPK_K         (optional) Zero-pole-gain (zpk) filter strain.
                        Transfer function gain (default: None)
  --witness-frame-type WITNESS_FRAME_TYPE
                        (optional), frame type which will be use to query the
                        witness channel data. (default: None)
  --witness-tf-file WITNESS_TF_FILE
                        an hdf file containing the transfer functions and the
                        associated channel names (default: None)
  --witness-filter-length WITNESS_FILTER_LENGTH
                        filter length in seconds for the transfer function
                        (default: None)

Ethinca metric options:
  Options used in the calculation of Gamma metric components for the ethinca
  coincidence test and for assigning high-frequency cutoffs to templates.

  --calculate-time-metric-components
                        If given, the ethinca metric will be calculated for
                        only the time component, and stored in the Gamma0
                        entry of the sngl_inspiral table. OPTIONAL,
                        default=False (default: False)
  --calculate-ethinca-metric
                        If given, the ethinca metric will be calculated and
                        stored in the Gamma entries of the sngl_inspiral
                        table. OPTIONAL, default=False (default: False)
  --ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}
                        Specify a PN order to be used in calculating the
                        ethinca metric. OPTIONAL: if not specified, the same
                        order will be used as for the bank metric. (default:
                        None)
  --filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}
                        Specify an upper frequency cutoff formula for the
                        ethinca metric calculation, and for the values of
                        f_final assigned to the templates. REQUIRED if the
                        calculate-ethinca-metric option is given. (default:
                        None)
  --ethinca-frequency-step ETHINCA_FREQUENCY_STEP
                        Control the precision of the upper frequency cutoff.
                        For speed, the metric is calculated only for discrete
                        f_max values with a spacing given by this option. Each
                        template is assigned the metric for the f_max closest
                        to its analytical cutoff formula. OPTIONAL,
                        default=10. UNITS=Hz (default: 10.0)
</pre></div>
</div>
<p>Some notes on these options:</p>
<ul class="simple">
<li>The value of f0 generally doesn’t matter (so just use 70 if unsure). However if ethinca is being calculated f0 and f-low must be equal.</li>
<li>Choose f-upper wisely! If your signals coalesce at &lt;1000Hz, you might want to use a lower value … although of course in this regime this inspiral-only metric will lose validity.</li>
<li>A delta-f value of 1/256 will certainly be accurate enough, a larger value will cause the code to run faster.</li>
<li>Using binary values for f-upper, delta-f and sample-rate is not needed for the metric calculation (which is a direct integral), but will provide a noticeable speed difference if reading data to compute a PSD.</li>
</ul>
</div>
</div>
<div class="section" id="aligned-spin-geometric-placement-pycbc-geom-aligned-bank">
<span id="tmpltbank-alignedgeombank"></span><h2>Aligned-spin geometric placement: pycbc_geom_aligned_bank<a class="headerlink" href="#aligned-spin-geometric-placement-pycbc-geom-aligned-bank" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>pycbc_geom_aligned_bank is a code for placing of aligned-spin banks using the
TaylorF2 metric.</p>
<p>This code will begin by generating a dax (a pegasus workflow, from which a DAG
is created), which the user submits, that will
generate the final template bank. This code will not calculate ethinca, as
ethinca is not defined for spinning waveforms. However, if a new coincidence
scheme is developed it could be used in that. This code forms part of the
“uberbank”, described later, that is being used in Advanced LIGO searches.</p>
<p><strong>Ian’s recommendation: This code will produce optimal template banks, if the
metric can be trusted (ie. BNS). For NSBH and BBH the merger matters. Here the
stochastic approaches described below could be more appropriate for your
parameter space. It is recommended to try these, or a combination of the two
as in the uberbank workflow. Note that the merger matters less in
ZDHP than in O1, so this approach will work better for NSBH banks in 2018 than
it does in 2015.</strong></p>
<p>If any problems are encountered please email <a class="reference external" href="mailto:ian&#46;harry&#37;&#52;&#48;ligo&#46;org">ian<span>&#46;</span>harry<span>&#64;</span>ligo<span>&#46;</span>org</a>.</p>
</div>
<div class="section" id="id2">
<h3>Background<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This code build upon the methods used to calculate the metric used in
lalapps_tmpltbank. For details of how this code works see:</p>
<ul class="simple">
<li>Brown et al., Phys.Rev. D86 (2012) 084017</li>
<li>Harry et al., Phys.Rev. D89 (2014) 024010</li>
</ul>
<p>As with our non-spinning generator we place a lattice in the flat xi_i
coordinate system and then map the points back to physical coordinates. In
doing so we remove points that are too far away from the physical space, and
push points that are outside the space, but overlap with it, back into the
physical space.</p>
<p>This is all done with monte-carlo techniques, which is why this code requires
a dag. If there were a more efficient way to map xi_i coordinates to physical
values it will <strong>massively</strong> speed this code up. Please contact <a class="reference external" href="mailto:ian&#46;harry&#37;&#52;&#48;ligo&#46;org">ian<span>&#46;</span>harry<span>&#64;</span>ligo<span>&#46;</span>org</a> if you want to play around with this.</p>
</div>
<div class="section" id="id3">
<h3>Some examples<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The command line arguments given to this code are very similar to those given
to the non-spinning code (not surprising as they actually use the same modules).</p>
<p>Here is one example for making an aligned-spin template bank using a pre-generated ASD file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_geom_aligned_bank --pn-order threePointFivePN --f0 <span class="m">70</span> --f-low <span class="m">15</span> --f-upper <span class="m">1000</span> --delta-f <span class="m">0</span>.01 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.5 --min-mass2 <span class="m">2</span>.5 --max-mass1 <span class="m">3</span>. --max-mass2 <span class="m">3</span>. --verbose --max-ns-spin-mag <span class="m">0</span>.05 --max-bh-spin-mag <span class="m">0</span>.05 --output-file testAligned.xml --split-bank-num <span class="m">5</span> --asd-file /home/spxiwh/aLIGO/BBH_template_banks/asd-T1200307v4.txt --intermediate-data-file intermediate.hdf --metadata-file metadata.xml
</pre></div>
</div>
<p>and then submitted with something like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_submit_dax --dax bank_gen.dax --accounting-group ligo.dev.o2.cbc.bbh.pycbcoffline
</pre></div>
</div>
<p>run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_submit_dax --help
</pre></div>
</div>
<p>for more details on options for submitting an abstract workflow to condor.</p>
</div>
<div class="section" id="id4">
<h3>Command line options<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The command line options read as follows</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ pycbc_geom_aligned_bank --help
usage: pycbc_geom_aligned_bank [-h] [--version] [-V] [-s STACK_DISTANCE] [-3]
                               [-S SPLIT_BANK_NUM] [-F]
                               [--random-seed RANDOM_SEED]
                               [--print-chi-points FILENAME]
                               [--workflow-name WORKFLOW_NAME]
                               [--dax-filename DAX_FILENAME]
                               [--map-filename MAP_FILENAME]
                               [--transformation-catalog-filename TRANSFORMATION_CATALOG_FILENAME]
                               --intermediate-data-file INTERMEDIATE_DATA_FILE
                               --metadata-file METADATA_FILE
                               [--is-sub-workflow]
                               [--storage-path-base STORAGE_PATH_BASE] -m
                               MIN_MATCH -O OUTPUT_FILE [--f-low-column NAME]
                               --pn-order PN_ORDER [--f0 F0] --f-low F_LOW
                               --f-upper F_UPPER --delta-f DELTA_F
                               [--write-metric] --min-mass1 MIN_MASS1
                               --max-mass1 MAX_MASS1 --min-mass2 MIN_MASS2
                               --max-mass2 MAX_MASS2
                               [--max-total-mass MAX_TOTAL_MASS]
                               [--min-total-mass MIN_TOTAL_MASS]
                               [--max-chirp-mass MAX_CHIRP_MASS]
                               [--min-chirp-mass MIN_CHIRP_MASS]
                               [--max-eta MAX_ETA] [--min-eta MIN_ETA]
                               [--ns-eos NS_EOS]
                               [--remnant-mass-threshold REMNANT_MASS_THRESHOLD]
                               [--use-eos-max-ns-mass]
                               [--delta-bh-spin DELTA_BH_SPIN]
                               [--delta-ns-mass DELTA_NS_MASS]
                               [--max-ns-spin-mag MAX_NS_SPIN_MAG]
                               [--max-bh-spin-mag MAX_BH_SPIN_MAG]
                               [--ns-bh-boundary-mass NS_BH_BOUNDARY_MASS | --nsbh-flag]
                               [--psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}]
                               [--psd-file PSD_FILE] [--asd-file ASD_FILE]
                               [--psd-inverse-length PSD_INVERSE_LENGTH]
                               [--invpsd-trunc-method {hann}]
                               [--psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING]
                               [--psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME]
                               [--psdvar-segment SECONDS]
                               [--psdvar-short-segment SECONDS]
                               [--psdvar-long-segment SECONDS]
                               [--psdvar-psd-duration SECONDS]
                               [--psdvar-psd-stride SECONDS]
                               [--psdvar-low-freq HERTZ]
                               [--psdvar-high-freq HERTZ]
                               [--psd-estimation {mean,median,median-mean}]
                               [--psd-segment-length PSD_SEGMENT_LENGTH]
                               [--psd-segment-stride PSD_SEGMENT_STRIDE]
                               [--psd-num-segments PSD_NUM_SEGMENTS]
                               [--psd-output PSD_OUTPUT]
                               [--gps-start-time GPS_START_TIME]
                               [--gps-end-time GPS_END_TIME]
                               [--strain-high-pass STRAIN_HIGH_PASS]
                               [--strain-low-pass STRAIN_LOW_PASS]
                               [--pad-data PAD_DATA] [--taper-data TAPER_DATA]
                               [--sample-rate SAMPLE_RATE]
                               [--channel-name CHANNEL_NAME]
                               [--frame-cache FRAME_CACHE [FRAME_CACHE ...]]
                               [--frame-files FRAME_FILES [FRAME_FILES ...]]
                               [--hdf-store HDF_STORE]
                               [--frame-type FRAME_TYPE]
                               [--frame-sieve FRAME_SIEVE]
                               [--fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}]
                               [--fake-strain-seed FAKE_STRAIN_SEED]
                               [--fake-strain-from-file FAKE_STRAIN_FROM_FILE]
                               [--fake-strain-flow FAKE_STRAIN_FLOW]
                               [--fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION]
                               [--fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE]
                               [--injection-file INJECTION_FILE]
                               [--sgburst-injection-file SGBURST_INJECTION_FILE]
                               [--injection-scale-factor INJECTION_SCALE_FACTOR]
                               [--injection-sample-rate INJECTION_SAMPLE_RATE]
                               [--injection-f-ref INJECTION_F_REF]
                               [--injection-f-final INJECTION_F_FINAL]
                               [--gating-file GATING_FILE]
                               [--autogating-threshold SIGMA]
                               [--autogating-max-iterations SIGMA]
                               [--autogating-cluster SECONDS]
                               [--autogating-width SECONDS]
                               [--autogating-taper SECONDS]
                               [--autogating-pad SECONDS]
                               [--gating-method {hard,taper,paint}]
                               [--normalize-strain NORMALIZE_STRAIN]
                               [--zpk-z ZPK_Z [ZPK_Z ...]]
                               [--zpk-p ZPK_P [ZPK_P ...]] [--zpk-k ZPK_K]
                               [--witness-frame-type WITNESS_FRAME_TYPE]
                               [--witness-tf-file WITNESS_TF_FILE]
                               [--witness-filter-length WITNESS_FILTER_LENGTH]
                               [--calculate-time-metric-components | --calculate-ethinca-metric]
                               [--ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}]
                               [--filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}]
                               [--ethinca-frequency-step ETHINCA_FREQUENCY_STEP]

Aligned spin bank generator. Initial placement of template points, and
rejection of &quot;too far away&quot; templates is done in the code, but the final
translation between points in the chirp parameters parameter space is done in
a workflow.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -V, --verbose         verbose output (default: False)
  -s STACK_DISTANCE, --stack-distance STACK_DISTANCE
                        Minimum metric spacing before we stack. (default: 0.2)
  -3, --threed-lattice  Set this to use a 3D lattice. OPTIONAL (default:
                        False)
  -S SPLIT_BANK_NUM, --split-bank-num SPLIT_BANK_NUM
                        Number of points per job in dag. OPTIONAL (default:
                        100)
  -F, --filter-points   Remove nearby points before generating the bank.
                        (default: False)
  --random-seed RANDOM_SEED
                        Random seed to use whenever the numpy random functions
                        are called when doing the monte-carlo for obtaining
                        the principal components and when translating all
                        points back to physical space. If this is used the
                        code should give the same output if run with the same
                        random seed. (default: None)
  --print-chi-points FILENAME
                        Add a node to print off an ASCII list of mass
                        parameters and corresponding location in the xi space
                        using pycbc_tmpltbank_to_chi_params. This will be
                        written to FILENAME. If this argument is not given, no
                        chi points file will be written. (default: None)
  --workflow-name WORKFLOW_NAME
                        Name to use for the produced .dax file. (default:
                        bank_gen)
  --dax-filename DAX_FILENAME
                        This can be used if running this job in a sub-workflow
                        to specify the dax filename. (default: None)
  --map-filename MAP_FILENAME
                        This can be used if running this job in a sub-workflow
                        to specify the output map filename. WARNING: Giving
                        this if not running as a sub-workflow will cause
                        pycbc_submit_dax to not work. (default: None)
  --transformation-catalog-filename TRANSFORMATION_CATALOG_FILENAME
                        See workflow/core.py (default: None)
  --intermediate-data-file INTERMEDIATE_DATA_FILE
                        The HDF file to be used to store data to pass down to
                        the various worker jobs. (default: None)
  --metadata-file METADATA_FILE
                        Location of the output file containing the metadata
                        that will be added to the final XML file. (default:
                        None)
  --is-sub-workflow     Only give this option if this code is being run as a
                        sub-workflow within pegasus. If this means nothing to
                        you, do not give this option. (default: False)
  --storage-path-base STORAGE_PATH_BASE
                        If running this code as a sub-workflow then this path
                        is pretended to all storage directories. (default:
                        None)
  -m MIN_MATCH, --min-match MIN_MATCH
                        Generate bank with specified minimum match. Required.
                        (default: None)
  -O OUTPUT_FILE, --output-file OUTPUT_FILE
                        Output file name. Required. (default: None)
  --f-low-column NAME   If given, store the lower frequency cutoff into column
                        NAME of the single-inspiral table. (default: None)

Options related to calculating the parameter space metric:
  --pn-order PN_ORDER   Determines the PN order to use. For a bank of non-
                        spinning templates, spin-related terms in the metric
                        will be zero. REQUIRED. Choices: * zeroPN: Will only
                        include the dominant term (proportional to chirp mass)
                        * onePN: Will only the leading orbit term and first
                        correction at 1PN * onePointFivePN: Will include orbit
                        and spin terms to 1.5PN. * twoPN: Will include orbit
                        and spin terms to 2PN. * twoPointFivePN: Will include
                        orbit and spin terms to 2.5PN. * threePN: Will include
                        orbit terms to 3PN and spin terms to 2.5PN. *
                        threePointFivePN: Include orbit terms to 3.5PN and
                        spin terms to 2.5PN (default: None)
  --f0 F0               f0 is used as a dynamic scaling factor when
                        calculating integrals used in metric construction.
                        I.e. instead of integrating F(f) we integrate F(f/f0)
                        then rescale by powers of f0. The default value 70Hz
                        should be fine for most applications. OPTIONAL.
                        UNITS=Hz. **WARNING: If the ethinca metric is to be
                        calculated, f0 must be set equal to f-low** (default:
                        70.0)
  --f-low F_LOW         Lower frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --f-upper F_UPPER     Upper frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --delta-f DELTA_F     Frequency spacing used in computing the parameter
                        space metric: integrals of the form \int F(f) df are
                        approximated as \sum F(f) delta_f. REQUIRED. UNITS=Hz
                        (default: None)
  --write-metric        If given write the metric components to disk as they
                        are calculated. (default: False)

Options related to mass and spin limits for bank generation:
  --min-mass1 MIN_MASS1
                        Minimum mass1: must be &gt;= min-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --max-mass1 MAX_MASS1
                        Maximum mass1: must be &gt;= max-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --min-mass2 MIN_MASS2
                        Minimum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-mass2 MAX_MASS2
                        Maximum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-total-mass MAX_TOTAL_MASS
                        Maximum total mass. OPTIONAL, if not provided the max
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-total-mass MIN_TOTAL_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-chirp-mass MAX_CHIRP_MASS
                        Maximum chirp mass. OPTIONAL, if not provided the max
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-chirp-mass MIN_CHIRP_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-eta MAX_ETA     Maximum symmetric mass ratio. OPTIONAL, no upper bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.25)
  --min-eta MIN_ETA     Minimum symmetric mass ratio. OPTIONAL, no lower bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.0)
  --ns-eos NS_EOS       Select the EOS to be used for the NS when calculating
                        the remnant disk mass. Only 2H is currently supported.
                        OPTIONAL (default: None)
  --remnant-mass-threshold REMNANT_MASS_THRESHOLD
                        Setting this filters EM dim NS-BH binaries: if the
                        remnant disk mass does not exceed this value, the NS-
                        BH binary is dropped from the target parameter space.
                        When it is set to None (default value) the EM dim
                        filter is not activated. OPTIONAL (default: None)
  --use-eos-max-ns-mass
                        Cut the mass range of the smaller object to the
                        maximum mass allowed by EOS. OPTIONAL (default: False)
  --delta-bh-spin DELTA_BH_SPIN
                        Grid spacing used for the BH spin z component when
                        generating the surface of the minumum minimum
                        symmetric mass ratio as a function of BH spin and NS
                        mass required to produce a remnant disk mass that
                        exceeds the threshold specificed in --remnant-mass-
                        threshold. OPTIONAL (0.1 by default) (default: None)
  --delta-ns-mass DELTA_NS_MASS
                        Grid spacing used for the NS mass when generating the
                        surface of the minumum minimum symmetric mass ratio as
                        a function of BH spin and NS mass required to produce
                        a remnant disk mass that exceeds the thrsehold
                        specified in --remnant-mass-threshold. OPTIONAL (0.1
                        by default) (default: None)
  --max-ns-spin-mag MAX_NS_SPIN_MAG
                        Maximum neutron star spin magnitude. Neutron stars are
                        defined as components lighter than the NS-BH boundary
                        (3 Msun by default). REQUIRED if min-mass2 &lt; ns-bh-
                        boundary-mass (default: None)
  --max-bh-spin-mag MAX_BH_SPIN_MAG
                        Maximum black hole spin magnitude. Black holes are
                        defined as components at or above the NS-BH boundary
                        (3 Msun by default). REQUIRED if max-mass1 &gt;= ns-bh-
                        boundary-mass (default: None)
  --ns-bh-boundary-mass NS_BH_BOUNDARY_MASS
                        Mass boundary between neutron stars and black holes.
                        Components below this mass are considered neutron
                        stars and are subject to the neutron star spin limits.
                        Components at/above are subject to the black hole spin
                        limits. OPTIONAL, default=3.000000. UNITS=Solar mass
                        (default: None)
  --nsbh-flag           Set this flag if generating a bank that contains only
                        systems with 1 black hole and 1 neutron star. With
                        this flag set the heavier body will always be subject
                        to the black hole spin restriction and the lighter to
                        the neutron star spin restriction, regardless of mass.
                        OPTIONAL. If set, the value of --ns-bh-boundary-mass
                        will be ignored. (default: False)

Options to select the method of PSD generation:
  The options --psd-model, --psd-file, --asd-file, and --psd-estimation are
  mutually exclusive.

  --psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}
                        Get PSD from given analytical model. (default: None)
  --psd-file PSD_FILE   Get PSD using given PSD ASCII file (default: None)
  --asd-file ASD_FILE   Get PSD using given ASD ASCII file (default: None)
  --psd-inverse-length PSD_INVERSE_LENGTH
                        (Optional) The maximum length of the impulse response
                        of the overwhitening filter (s) (default: None)
  --invpsd-trunc-method {hann}
                        (Optional) What truncation method to use when applying
                        psd-inverse-length. If not provided, a hard truncation
                        will be used. (default: None)
  --psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING
                        If using an XML PSD file, use the PSD in the file&#39;s
                        PSD dictionary with this ifo string. If not given and
                        only one PSD present in the file return that, if not
                        given and multiple (or zero) PSDs present an exception
                        will be raised. (default: None)
  --psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME
                        If given use this as the root name for the PSD XML
                        file. If this means nothing to you, then it is
                        probably safe to ignore this option. (default: psd)
  --psdvar-segment SECONDS
                        Length of segment for mean square calculation of PSD
                        variation. (default: None)
  --psdvar-short-segment SECONDS
                        Length of short segment for outliers removal in PSD
                        variability calculation. (default: None)
  --psdvar-long-segment SECONDS
                        Length of long segment when calculating the PSD
                        variability. (default: None)
  --psdvar-psd-duration SECONDS
                        Duration of short segments for PSD estimation.
                        (default: None)
  --psdvar-psd-stride SECONDS
                        Separation between PSD estimation segments. (default:
                        None)
  --psdvar-low-freq HERTZ
                        Minimum frequency to consider in strain bandpass.
                        (default: None)
  --psdvar-high-freq HERTZ
                        Maximum frequency to consider in strain bandpass.
                        (default: None)
  --psd-estimation {mean,median,median-mean}
                        Measure PSD from the data, using given average method.
                        (default: None)
  --psd-segment-length PSD_SEGMENT_LENGTH
                        (Required for --psd-estimation) The segment length for
                        PSD estimation (s) (default: None)
  --psd-segment-stride PSD_SEGMENT_STRIDE
                        (Required for --psd-estimation) The separation between
                        consecutive segments (s) (default: None)
  --psd-num-segments PSD_NUM_SEGMENTS
                        (Optional, used only with --psd-estimation). If given,
                        PSDs will be estimated using only this number of
                        segments. If more data is given than needed to make
                        this number of segments then excess data will not be
                        used in the PSD estimate. If not enough data is given,
                        the code will fail. (default: None)
  --psd-output PSD_OUTPUT
                        (Optional) Write PSD to specified file (default: None)

Options for obtaining h(t):
  These options are used for generating h(t) either by reading from a file
  or by generating it. This is only needed if the PSD is to be estimated
  from the data, ie. if the --psd-estimation option is given.

  --gps-start-time GPS_START_TIME
                        The gps start time of the data (integer seconds)
                        (default: None)
  --gps-end-time GPS_END_TIME
                        The gps end time of the data (integer seconds)
                        (default: None)
  --strain-high-pass STRAIN_HIGH_PASS
                        High pass frequency (default: None)
  --strain-low-pass STRAIN_LOW_PASS
                        Low pass frequency (default: None)
  --pad-data PAD_DATA   Extra padding to remove highpass corruption (integer
                        seconds) (default: 8)
  --taper-data TAPER_DATA
                        Taper ends of data to zero using the supplied length
                        as a window (integer seconds) (default: 0)
  --sample-rate SAMPLE_RATE
                        The sample rate to use for h(t) generation (integer
                        Hz) (default: None)
  --channel-name CHANNEL_NAME
                        The channel containing the gravitational strain data
                        (default: None)
  --frame-cache FRAME_CACHE [FRAME_CACHE ...]
                        Cache file containing the frame locations. (default:
                        None)
  --frame-files FRAME_FILES [FRAME_FILES ...]
                        list of frame files (default: None)
  --hdf-store HDF_STORE
                        Store of time series data in hdf format (default:
                        None)
  --frame-type FRAME_TYPE
                        (optional), replaces frame-files. Use datafind to get
                        the needed frame file(s) of this type. (default: None)
  --frame-sieve FRAME_SIEVE
                        (optional), Only use frame files where the URL matches
                        the regular expression given. (default: None)
  --fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}
                        Name of model PSD for generating fake gaussian noise.
                        (default: None)
  --fake-strain-seed FAKE_STRAIN_SEED
                        Seed value for the generation of fake colored gaussian
                        noise (default: 0)
  --fake-strain-from-file FAKE_STRAIN_FROM_FILE
                        File containing ASD for generating fake noise from it.
                        (default: None)
  --fake-strain-flow FAKE_STRAIN_FLOW
                        Low frequency cutoff of the fake strain (default: 1.0)
  --fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION
                        Duration in seconds of the fake data coloring filter
                        (default: 128.0)
  --fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE
                        Sample rate of the fake data generation (default:
                        16384)
  --injection-file INJECTION_FILE
                        (optional) Injection file containing parameters of CBC
                        signals to be added to the strain (default: None)
  --sgburst-injection-file SGBURST_INJECTION_FILE
                        (optional) Injection file containing parametersof
                        sine-Gaussian burst signals to add to the strain
                        (default: None)
  --injection-scale-factor INJECTION_SCALE_FACTOR
                        Divide injections by this factor before adding to the
                        strain data (default: 1)
  --injection-sample-rate INJECTION_SAMPLE_RATE
                        Sample rate to use for injections (integer Hz).
                        Typically similar to the strain data sample rate.If
                        not provided, the strain sample rate will be used
                        (default: None)
  --injection-f-ref INJECTION_F_REF
                        Reference frequency in Hz for creating CBC injections
                        from an XML file (default: None)
  --injection-f-final INJECTION_F_FINAL
                        Override the f_final field of a CBC XML injection file
                        (frequency in Hz) (default: None)
  --gating-file GATING_FILE
                        (optional) Text file of gating segments to apply.
                        Format of each line is (all values in seconds):
                        gps_time zeros_half_width pad_half_width (default:
                        None)
  --autogating-threshold SIGMA
                        If given, find and gate glitches producing a deviation
                        larger than SIGMA in the whitened strain time series.
                        (default: None)
  --autogating-max-iterations SIGMA
                        If given, iteratively apply autogating (default: 1)
  --autogating-cluster SECONDS
                        Length of clustering window for detecting glitches for
                        autogating. (default: 5.0)
  --autogating-width SECONDS
                        Half-width of the gating window. (default: 0.25)
  --autogating-taper SECONDS
                        Taper the strain before and after each gating window
                        over a duration of SECONDS. (default: 0.25)
  --autogating-pad SECONDS
                        Ignore the given length of whitened strain at the ends
                        of a segment, to avoid filters ringing. (default: 16)
  --gating-method {hard,taper,paint}
                        Choose the method for gating. Default: `taper`
                        (default: taper)
  --normalize-strain NORMALIZE_STRAIN
                        (optional) Divide frame data by constant. (default:
                        None)
  --zpk-z ZPK_Z [ZPK_Z ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of zeros for transfer function (default: None)
  --zpk-p ZPK_P [ZPK_P ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of poles for transfer function (default: None)
  --zpk-k ZPK_K         (optional) Zero-pole-gain (zpk) filter strain.
                        Transfer function gain (default: None)
  --witness-frame-type WITNESS_FRAME_TYPE
                        (optional), frame type which will be use to query the
                        witness channel data. (default: None)
  --witness-tf-file WITNESS_TF_FILE
                        an hdf file containing the transfer functions and the
                        associated channel names (default: None)
  --witness-filter-length WITNESS_FILTER_LENGTH
                        filter length in seconds for the transfer function
                        (default: None)

Ethinca metric options:
  Options used in the calculation of Gamma metric components for the ethinca
  coincidence test and for assigning high-frequency cutoffs to templates.

  --calculate-time-metric-components
                        If given, the ethinca metric will be calculated for
                        only the time component, and stored in the Gamma0
                        entry of the sngl_inspiral table. OPTIONAL,
                        default=False (default: False)
  --calculate-ethinca-metric
                        If given, the ethinca metric will be calculated and
                        stored in the Gamma entries of the sngl_inspiral
                        table. OPTIONAL, default=False (default: False)
  --ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}
                        Specify a PN order to be used in calculating the
                        ethinca metric. OPTIONAL: if not specified, the same
                        order will be used as for the bank metric. (default:
                        None)
  --filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}
                        Specify an upper frequency cutoff formula for the
                        ethinca metric calculation, and for the values of
                        f_final assigned to the templates. REQUIRED if the
                        calculate-ethinca-metric option is given. (default:
                        None)
  --ethinca-frequency-step ETHINCA_FREQUENCY_STEP
                        Control the precision of the upper frequency cutoff.
                        For speed, the metric is calculated only for discrete
                        f_max values with a spacing given by this option. Each
                        template is assigned the metric for the f_max closest
                        to its analytical cutoff formula. OPTIONAL,
                        default=10. UNITS=Hz (default: 10.0)
</pre></div>
</div>
<p>As before some notes on these options:</p>
<p>Some notes on these options:</p>
<ul class="simple">
<li>The value of f0 generally doesn’t matter (so just use 70 if unsure). However if ethinca is being calculated f0 and f-low must be equal.</li>
<li>Choose f-upper wisely! If your signals coalesce at &lt;1000Hz, you might want to use a lower value … although of course in this regime this inspiral-only metric will lose validity.</li>
<li>A delta-f value of 1/256 will certainly be accurate enough, a larger value will cause the code to run faster.</li>
<li>Using binary values for f-upper, delta-f and sample-rate is not needed for the metric calculation (which is a direct integral), but will provide a noticeable speed difference if reading data to compute a PSD.</li>
<li>For the purposes of spin calculations a NS is considered to be anything with mass &lt; 3 solar masses and a BH is considered to be anything with mass &gt; 3 solar masses. But this can be overridden with the <cite>–ns-bh-boundary-mass</cite> option.</li>
<li>To avoid generating a NSBH bank where you have a wall of triggers with NS mass = 3 and spins up to the black hole maximum use the nsbh-flag. This will ensure that only neutron-star–black-hole systems are generated.</li>
<li>If a remnant-mass-threshold is specified the code sets up the bank so that it does not target NS-BH systems that cannot produce a remnant disk mass that exceeds the threshold: this is used to remove EM dim NS-BH binaries from the target parameter space, as discussed in Pannarale and Ohme, ApJL 7, 5 (2014).  Please contact <a class="reference external" href="mailto:francesco&#46;pannarale&#37;&#52;&#48;ligo&#46;org">francesco<span>&#46;</span>pannarale<span>&#64;</span>ligo<span>&#46;</span>org</a> if you want to know more about this.</li>
</ul>
</div>
</div>
<div class="section" id="aligned-spin-stochastic-placement">
<span id="tmpltbank-alignedstochbank"></span><h2>Aligned-spin stochastic placement<a class="headerlink" href="#aligned-spin-stochastic-placement" title="Permalink to this headline">¶</a></h2>
<p>lalapps_cbc_sbank and pycbc_aligned_stoch_bank</p>
<div class="section" id="id5">
<h3>Introduction<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>pycbc_aligned_stoch_bank is an aligned-spin bank generator that uses a
stochastic algorithm and the TaylorF2 (or TaylorR2F4) metric to create a bank
of templates.</p>
<p>lalapps_cbc_sbank is an aligned-spin bank generator that uses a stochastic algorithm to create a bank of templates. It can use a metric to approximate distances (currently available metrics: TaylorF2 single spin approximation). It can also compute banks using direct matches between waveforms instead of a metric. It can also be used to generate precessing banks (and of course non-spin banks), although computational cost of precessing banks makes this difficult; here the workflow code is necessary and one must spend some time constructing a good configuration file.</p>
<p>Comparisons, advantages and disadvantages of the two codes are discussed below.</p>
<p>When using a metric these codes do not require the processing power of the
geometric lattice algorithm and do not produce a dag.
Run the command, wait, get bank. When using the direct match method in sbank
computational cost is much higher. For this purpose a workflow generator is
also supplied to parallelize generation.</p>
<p><strong>NOTE: The question “Do I need to use the sbank workflow or just call sbank
directly?” is an important one. As a rough rule of thumb if your template bank
will result in less than 20000 templates (assuming quick-to-generate waveforms)
and you use the optimization options, then a single sbank job should be
sufficient. If expecting more than this then expect to need the workflow
generator. Many of the optimizations used to speed up sbank do not work with
time-domain waveforms, which are often much slower to generate than
frequency-domain ones. sbank can run with time-domain waveforms, but it will
generally be too slow to generate anything but the smallest template banks
(approximately 1000 templates). We strongly recommend not using time-domain
waveforms for bank generation!</strong></p>
</div>
<div class="section" id="id6">
<h3>Background<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>As opposed to geometric algorithms where the metric is used to determine a
lattice of equally placed points, a stochastic algorithm works by creating
a large set of randomly placed points and then using the metric or actually
computing overlaps to remove points that are too close to each other.</p>
<p>This algorithm has the benefit that it can work in any parameter space, you
do not require a flat metric. However, it does require more templates to cover
a space than a geometric approach. Additionally the computational cost will
increase as a factor of the number of points in the bank to a power between 2
and 3 - the exact number depends on how well you are able to optimize the
parameter space and not match <strong>every</strong> point in the bank with every seed point.
Nevertheless it has been found that the computational cost of generating
aligned-spin banks for Advanced LIGO, using direct-match algorithms is not
too large, and this approach forms a large part of the “uberbank” construction
described below.</p>
<p>The stochastic bank code can calculate the ethinca metric, but <strong>only</strong> if both
component maximum spins are set to 0.0, i.e. a stochastic non-spinning bank. One can also generate only the time component of the metric if doing exact-match coincidence.</p>
<p>Stochastic placement was first proposed in terms of LISA searches in</p>
<ul class="simple">
<li>Harry et al. Class.Quant.Grav. 25 (2008) 184027</li>
<li>Babak Class.Quant.Grav. 25 (2008) 195011</li>
</ul>
<p>(the former using a metric, and the latter using direct match). Then described in more detail in</p>
<ul class="simple">
<li>Harry et al. Phys.Rev. D80 (2009) 104014</li>
<li>Manca and Vallisneri Phys.Rev. D81 (2010) 024004</li>
</ul>
<p>Recently stochastic placement has been explored for LIGO searches in</p>
<ul class="simple">
<li>Ajith et al., Phys.Rev. D89 (2014) 084041</li>
<li>Privitera et al., Phys.Rev. D89 (2014) 024003</li>
<li>Harry et al., Phys.Rev. D89 (2014) 024010</li>
<li>Capano et al., Phys.Rev. D93 (2016) 124007</li>
</ul>
<p>pycbc_aligned_stoch_bank follows the method described in Harry et al. (2009)
and calculates matches using a metric (in this case the F2 metric).
lalapps_cbc_sbank can do stochastic template bank generation with or
without a metric. In the absence of a metric it uses the method introduced in
Babak (2008) and used in Privitera (2013) to compute distances
between points by generating both waveforms and calculating an explicit overlap.</p>
</div>
<div class="section" id="ian-s-recommendation-which-stochastic-code-should-i-use">
<h3>Ian’s recommendation: Which stochastic code should I use?<a class="headerlink" href="#ian-s-recommendation-which-stochastic-code-should-i-use" title="Permalink to this headline">¶</a></h3>
<p>Okay so there are two stochastic codes, and a lot of overlap between the two
codes. We are aware that this is not optimal and hope to combine the features
of these two codes into a single front-end to get the best of both worlds.</p>
<p>In the mean-time here is how I see the breakdown of the two codes:</p>
<div class="section" id="i-want-to-use-the-f2-metric">
<h4>I want to use the F2 metric<a class="headerlink" href="#i-want-to-use-the-f2-metric" title="Permalink to this headline">¶</a></h4>
<p>If you want to use the F2 metric used in the geometric code
then I recommend to use pycbc_aligned_stoch_bank. Here I have found the
code to be faster
than lalapps_cbc_sbank using the F2 reduced spin metric because the pycbc
code is using
a Cartesian parameter space and is therefore able to greatly reduce the
number of matches that are calculated. (Effectively lalapps_cbc_sbank only
limits the number of matches calculated by chirp mass differences,
pycbc_aligned_stoch_bank also uses the second direction (some combination
of mass ratio and the spins).
The pycbc metric also incorporates the effect of both spins.</p>
</div>
<div class="section" id="i-want-to-use-another-metric-ie-an-imr-metric">
<h4>I want to use another metric, ie. an IMR metric<a class="headerlink" href="#i-want-to-use-another-metric-ie-an-imr-metric" title="Permalink to this headline">¶</a></h4>
<p>If you have and want to use a different metric, such as the IMRPhenomX
metric, where the approach used in the geometric bank cannot be used to
create a Cartesian coordinate system, then use lalapps_cbc_sbank.</p>
<p>This code is more flexible, and is not dependent on the assumptions that are
used in the geometric code. If your metric is not already added then please
contact a developer for help in integrating this.</p>
</div>
<div class="section" id="i-want-to-use-direct-match">
<h4>I want to use direct match<a class="headerlink" href="#i-want-to-use-direct-match" title="Permalink to this headline">¶</a></h4>
<p>Use lalapps_cbc_sbank. Be aware though that this is often difficult to run in a
single process and may require the dag generator described below.</p>
</div>
</div>
<div class="section" id="id7">
<h3>Some examples<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>The command line arguments given to this code are very similar to those given
to the non-spinning code and the aligned-spin geometric code (they use the same modules).</p>
<p>Here is one example reading data from a frame cache, as in the non-spinning example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_aligned_stoch_bank --pn-order threePointFivePN --f0 <span class="m">60</span> --f-low <span class="m">30</span> -V --delta-f <span class="m">0</span>.01 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.5 --max-mass1 <span class="m">3</span> --min-mass2 <span class="m">2</span>.5 --max-mass2 <span class="m">3</span> --max-ns-spin-mag <span class="m">0</span>.05 --max-bh-spin-mag <span class="m">0</span>.05 --nsbh-flag --psd-estimation median --psd-segment-length <span class="m">256</span> --psd-segment-stride <span class="m">128</span> --psd-inverse-length <span class="m">8</span> --gps-start-time <span class="m">900000033</span> --gps-end-time <span class="m">900002081</span> --strain-high-pass <span class="m">30</span> --pad-data <span class="m">8</span> --sample-rate <span class="m">4096</span> --frame-cache cache/H-H1_NINJA2_G1000176_EARLY_RECOLORED_CACHE-900000024-10653.lcf --channel-name H1:LDAS-STRAIN --verbose --output-file testStoch.xml --num-seeds <span class="m">2000000</span> --f-upper <span class="m">2000</span>
</pre></div>
</div>
<p>Another example where we read the PSD from a supplied ASD file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_aligned_stoch_bank --pn-order threePointFivePN --f0 <span class="m">60</span> --f-low <span class="m">30</span> --delta-f <span class="m">0</span>.1 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.5 --max-mass1 <span class="m">3</span> --min-mass2 <span class="m">2</span>.5 --max-mass2 <span class="m">3</span> --max-ns-spin-mag <span class="m">0</span>.05 --max-bh-spin-mag <span class="m">0</span>.05 --nsbh-flag --verbose --asd-file ZERO_DET_high_P.txt --num-seeds <span class="m">10000</span> --output-file <span class="s2">&quot;testStoch.xml&quot;</span> --f-upper <span class="m">2000</span>
</pre></div>
</div>
<p>And a third example where we use a batshit PN order.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pycbc_aligned_stoch_bank --pn-order onePN --f0 <span class="m">60</span> --f-low <span class="m">30</span> --delta-f <span class="m">0</span>.1 --min-match <span class="m">0</span>.97 --min-mass1 <span class="m">2</span>.5 --max-mass1 <span class="m">3</span> --min-mass2 <span class="m">2</span>.5 --max-mass2 <span class="m">3</span> --max-ns-spin-mag <span class="m">0</span>.05 --max-bh-spin-mag <span class="m">0</span>.05 --nsbh-flag --verbose --asd-file ZERO_DET_high_P.txt --num-seeds <span class="m">10000</span> --output-file <span class="s2">&quot;testStoch.xml&quot;</span> --f-upper <span class="m">2000</span>
</pre></div>
</div>
<p>lalapps_cbc_sbank provides example in the help text, see below.</p>
</div>
<div class="section" id="command-line-options-pycbc-aligned-stoch-bank">
<h3>Command line options: pycbc_aligned_stoch_bank<a class="headerlink" href="#command-line-options-pycbc-aligned-stoch-bank" title="Permalink to this headline">¶</a></h3>
<p>The command line options read as follows</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ pycbc_aligned_stoch_bank --help
usage: pycbc_aligned_stoch_bank [-h] [--version] [--verbose] [-V]
                                [--bank-fupper-step BANK_FUPPER_STEP]
                                [--bank-fupper-formula {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}]
                                [-N NUM_SEEDS] [-n NUM_FAILED_CUTOFF]
                                [--random-seed RANDOM_SEED] -m MIN_MATCH -O
                                OUTPUT_FILE [--f-low-column NAME] --pn-order
                                PN_ORDER [--f0 F0] --f-low F_LOW --f-upper
                                F_UPPER --delta-f DELTA_F [--write-metric]
                                --min-mass1 MIN_MASS1 --max-mass1 MAX_MASS1
                                --min-mass2 MIN_MASS2 --max-mass2 MAX_MASS2
                                [--max-total-mass MAX_TOTAL_MASS]
                                [--min-total-mass MIN_TOTAL_MASS]
                                [--max-chirp-mass MAX_CHIRP_MASS]
                                [--min-chirp-mass MIN_CHIRP_MASS]
                                [--max-eta MAX_ETA] [--min-eta MIN_ETA]
                                [--ns-eos NS_EOS]
                                [--remnant-mass-threshold REMNANT_MASS_THRESHOLD]
                                [--use-eos-max-ns-mass]
                                [--delta-bh-spin DELTA_BH_SPIN]
                                [--delta-ns-mass DELTA_NS_MASS]
                                [--max-ns-spin-mag MAX_NS_SPIN_MAG]
                                [--max-bh-spin-mag MAX_BH_SPIN_MAG]
                                [--ns-bh-boundary-mass NS_BH_BOUNDARY_MASS | --nsbh-flag]
                                [--psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}]
                                [--psd-file PSD_FILE] [--asd-file ASD_FILE]
                                [--psd-inverse-length PSD_INVERSE_LENGTH]
                                [--invpsd-trunc-method {hann}]
                                [--psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING]
                                [--psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME]
                                [--psdvar-segment SECONDS]
                                [--psdvar-short-segment SECONDS]
                                [--psdvar-long-segment SECONDS]
                                [--psdvar-psd-duration SECONDS]
                                [--psdvar-psd-stride SECONDS]
                                [--psdvar-low-freq HERTZ]
                                [--psdvar-high-freq HERTZ]
                                [--psd-estimation {mean,median,median-mean}]
                                [--psd-segment-length PSD_SEGMENT_LENGTH]
                                [--psd-segment-stride PSD_SEGMENT_STRIDE]
                                [--psd-num-segments PSD_NUM_SEGMENTS]
                                [--psd-output PSD_OUTPUT]
                                [--gps-start-time GPS_START_TIME]
                                [--gps-end-time GPS_END_TIME]
                                [--strain-high-pass STRAIN_HIGH_PASS]
                                [--strain-low-pass STRAIN_LOW_PASS]
                                [--pad-data PAD_DATA]
                                [--taper-data TAPER_DATA]
                                [--sample-rate SAMPLE_RATE]
                                [--channel-name CHANNEL_NAME]
                                [--frame-cache FRAME_CACHE [FRAME_CACHE ...]]
                                [--frame-files FRAME_FILES [FRAME_FILES ...]]
                                [--hdf-store HDF_STORE]
                                [--frame-type FRAME_TYPE]
                                [--frame-sieve FRAME_SIEVE]
                                [--fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}]
                                [--fake-strain-seed FAKE_STRAIN_SEED]
                                [--fake-strain-from-file FAKE_STRAIN_FROM_FILE]
                                [--fake-strain-flow FAKE_STRAIN_FLOW]
                                [--fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION]
                                [--fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE]
                                [--injection-file INJECTION_FILE]
                                [--sgburst-injection-file SGBURST_INJECTION_FILE]
                                [--injection-scale-factor INJECTION_SCALE_FACTOR]
                                [--injection-sample-rate INJECTION_SAMPLE_RATE]
                                [--injection-f-ref INJECTION_F_REF]
                                [--injection-f-final INJECTION_F_FINAL]
                                [--gating-file GATING_FILE]
                                [--autogating-threshold SIGMA]
                                [--autogating-max-iterations SIGMA]
                                [--autogating-cluster SECONDS]
                                [--autogating-width SECONDS]
                                [--autogating-taper SECONDS]
                                [--autogating-pad SECONDS]
                                [--gating-method {hard,taper,paint}]
                                [--normalize-strain NORMALIZE_STRAIN]
                                [--zpk-z ZPK_Z [ZPK_Z ...]]
                                [--zpk-p ZPK_P [ZPK_P ...]] [--zpk-k ZPK_K]
                                [--witness-frame-type WITNESS_FRAME_TYPE]
                                [--witness-tf-file WITNESS_TF_FILE]
                                [--witness-filter-length WITNESS_FILTER_LENGTH]
                                [--calculate-time-metric-components | --calculate-ethinca-metric]
                                [--ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}]
                                [--filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}]
                                [--ethinca-frequency-step ETHINCA_FREQUENCY_STEP]

Stochastic aligned spin bank generator.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  --verbose             verbose output (default: False)
  -V, --vary-fupper     Use a variable upper frequency cutoff in laying out
                        the bank. OPTIONAL. (default: False)
  --bank-fupper-step BANK_FUPPER_STEP
                        Size of discrete frequency steps used when varying the
                        fupper. If --calculate-ethinca-metric and --ethinca-
                        freq-step are also given, the code will use the
                        smaller of the two step values. OPTIONAL. Units=Hz
                        (default: 10.0)
  --bank-fupper-formula {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}
                        Frequency cutoff formula for varying fupper.
                        Frequencies will be rounded to the nearest discrete
                        step. OPTIONAL. (default: SchwarzISCO)
  -N NUM_SEEDS, --num-seeds NUM_SEEDS
                        Number of seed points used in bank construction.
                        OPTIONAL. (default: 5000000)
  -n NUM_FAILED_CUTOFF, --num-failed-cutoff NUM_FAILED_CUTOFF
                        Maximum number of consecutive, not-accepted test
                        points after which bank generation will be stopped.
                        OPTIONAL. Default value is really large as --num-seeds
                        is intended to provide the termination condition.
                        (default: 1000000000)
  --random-seed RANDOM_SEED
                        Random seed to use when calling numpy.random functions
                        used in obtaining the principal components in
                        parameter space and when translating points back to
                        physical space. If given, the code should give the
                        same output when run with the same random seed.
                        (default: None)
  -m MIN_MATCH, --min-match MIN_MATCH
                        Generate bank with specified minimum match. Required.
                        (default: None)
  -O OUTPUT_FILE, --output-file OUTPUT_FILE
                        Output file name. Required. (default: None)
  --f-low-column NAME   If given, store the lower frequency cutoff into column
                        NAME of the single-inspiral table. (default: None)

Options related to calculating the parameter space metric:
  --pn-order PN_ORDER   Determines the PN order to use. For a bank of non-
                        spinning templates, spin-related terms in the metric
                        will be zero. REQUIRED. Choices: * zeroPN: Will only
                        include the dominant term (proportional to chirp mass)
                        * onePN: Will only the leading orbit term and first
                        correction at 1PN * onePointFivePN: Will include orbit
                        and spin terms to 1.5PN. * twoPN: Will include orbit
                        and spin terms to 2PN. * twoPointFivePN: Will include
                        orbit and spin terms to 2.5PN. * threePN: Will include
                        orbit terms to 3PN and spin terms to 2.5PN. *
                        threePointFivePN: Include orbit terms to 3.5PN and
                        spin terms to 2.5PN (default: None)
  --f0 F0               f0 is used as a dynamic scaling factor when
                        calculating integrals used in metric construction.
                        I.e. instead of integrating F(f) we integrate F(f/f0)
                        then rescale by powers of f0. The default value 70Hz
                        should be fine for most applications. OPTIONAL.
                        UNITS=Hz. **WARNING: If the ethinca metric is to be
                        calculated, f0 must be set equal to f-low** (default:
                        70.0)
  --f-low F_LOW         Lower frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --f-upper F_UPPER     Upper frequency cutoff used in computing the parameter
                        space metric. REQUIRED. UNITS=Hz (default: None)
  --delta-f DELTA_F     Frequency spacing used in computing the parameter
                        space metric: integrals of the form \int F(f) df are
                        approximated as \sum F(f) delta_f. REQUIRED. UNITS=Hz
                        (default: None)
  --write-metric        If given write the metric components to disk as they
                        are calculated. (default: False)

Options related to mass and spin limits for bank generation:
  --min-mass1 MIN_MASS1
                        Minimum mass1: must be &gt;= min-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --max-mass1 MAX_MASS1
                        Maximum mass1: must be &gt;= max-mass2. REQUIRED.
                        UNITS=Solar mass (default: None)
  --min-mass2 MIN_MASS2
                        Minimum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-mass2 MAX_MASS2
                        Maximum mass2. REQUIRED. UNITS=Solar mass (default:
                        None)
  --max-total-mass MAX_TOTAL_MASS
                        Maximum total mass. OPTIONAL, if not provided the max
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-total-mass MIN_TOTAL_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        total mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-chirp-mass MAX_CHIRP_MASS
                        Maximum chirp mass. OPTIONAL, if not provided the max
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --min-chirp-mass MIN_CHIRP_MASS
                        Minimum total mass. OPTIONAL, if not provided the min
                        chirp mass is determined by the component masses.
                        UNITS=Solar mass (default: None)
  --max-eta MAX_ETA     Maximum symmetric mass ratio. OPTIONAL, no upper bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.25)
  --min-eta MIN_ETA     Minimum symmetric mass ratio. OPTIONAL, no lower bound
                        on eta will be imposed if not provided. UNITS=Solar
                        mass. (default: 0.0)
  --ns-eos NS_EOS       Select the EOS to be used for the NS when calculating
                        the remnant disk mass. Only 2H is currently supported.
                        OPTIONAL (default: None)
  --remnant-mass-threshold REMNANT_MASS_THRESHOLD
                        Setting this filters EM dim NS-BH binaries: if the
                        remnant disk mass does not exceed this value, the NS-
                        BH binary is dropped from the target parameter space.
                        When it is set to None (default value) the EM dim
                        filter is not activated. OPTIONAL (default: None)
  --use-eos-max-ns-mass
                        Cut the mass range of the smaller object to the
                        maximum mass allowed by EOS. OPTIONAL (default: False)
  --delta-bh-spin DELTA_BH_SPIN
                        Grid spacing used for the BH spin z component when
                        generating the surface of the minumum minimum
                        symmetric mass ratio as a function of BH spin and NS
                        mass required to produce a remnant disk mass that
                        exceeds the threshold specificed in --remnant-mass-
                        threshold. OPTIONAL (0.1 by default) (default: None)
  --delta-ns-mass DELTA_NS_MASS
                        Grid spacing used for the NS mass when generating the
                        surface of the minumum minimum symmetric mass ratio as
                        a function of BH spin and NS mass required to produce
                        a remnant disk mass that exceeds the thrsehold
                        specified in --remnant-mass-threshold. OPTIONAL (0.1
                        by default) (default: None)
  --max-ns-spin-mag MAX_NS_SPIN_MAG
                        Maximum neutron star spin magnitude. Neutron stars are
                        defined as components lighter than the NS-BH boundary
                        (3 Msun by default). REQUIRED if min-mass2 &lt; ns-bh-
                        boundary-mass (default: None)
  --max-bh-spin-mag MAX_BH_SPIN_MAG
                        Maximum black hole spin magnitude. Black holes are
                        defined as components at or above the NS-BH boundary
                        (3 Msun by default). REQUIRED if max-mass1 &gt;= ns-bh-
                        boundary-mass (default: None)
  --ns-bh-boundary-mass NS_BH_BOUNDARY_MASS
                        Mass boundary between neutron stars and black holes.
                        Components below this mass are considered neutron
                        stars and are subject to the neutron star spin limits.
                        Components at/above are subject to the black hole spin
                        limits. OPTIONAL, default=3.000000. UNITS=Solar mass
                        (default: None)
  --nsbh-flag           Set this flag if generating a bank that contains only
                        systems with 1 black hole and 1 neutron star. With
                        this flag set the heavier body will always be subject
                        to the black hole spin restriction and the lighter to
                        the neutron star spin restriction, regardless of mass.
                        OPTIONAL. If set, the value of --ns-bh-boundary-mass
                        will be ignored. (default: False)

Options to select the method of PSD generation:
  The options --psd-model, --psd-file, --asd-file, and --psd-estimation are
  mutually exclusive.

  --psd-model {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,flat_unity}
                        Get PSD from given analytical model. (default: None)
  --psd-file PSD_FILE   Get PSD using given PSD ASCII file (default: None)
  --asd-file ASD_FILE   Get PSD using given ASD ASCII file (default: None)
  --psd-inverse-length PSD_INVERSE_LENGTH
                        (Optional) The maximum length of the impulse response
                        of the overwhitening filter (s) (default: None)
  --invpsd-trunc-method {hann}
                        (Optional) What truncation method to use when applying
                        psd-inverse-length. If not provided, a hard truncation
                        will be used. (default: None)
  --psd-file-xml-ifo-string PSD_FILE_XML_IFO_STRING
                        If using an XML PSD file, use the PSD in the file&#39;s
                        PSD dictionary with this ifo string. If not given and
                        only one PSD present in the file return that, if not
                        given and multiple (or zero) PSDs present an exception
                        will be raised. (default: None)
  --psd-file-xml-root-name PSD_FILE_XML_ROOT_NAME
                        If given use this as the root name for the PSD XML
                        file. If this means nothing to you, then it is
                        probably safe to ignore this option. (default: psd)
  --psdvar-segment SECONDS
                        Length of segment for mean square calculation of PSD
                        variation. (default: None)
  --psdvar-short-segment SECONDS
                        Length of short segment for outliers removal in PSD
                        variability calculation. (default: None)
  --psdvar-long-segment SECONDS
                        Length of long segment when calculating the PSD
                        variability. (default: None)
  --psdvar-psd-duration SECONDS
                        Duration of short segments for PSD estimation.
                        (default: None)
  --psdvar-psd-stride SECONDS
                        Separation between PSD estimation segments. (default:
                        None)
  --psdvar-low-freq HERTZ
                        Minimum frequency to consider in strain bandpass.
                        (default: None)
  --psdvar-high-freq HERTZ
                        Maximum frequency to consider in strain bandpass.
                        (default: None)
  --psd-estimation {mean,median,median-mean}
                        Measure PSD from the data, using given average method.
                        (default: None)
  --psd-segment-length PSD_SEGMENT_LENGTH
                        (Required for --psd-estimation) The segment length for
                        PSD estimation (s) (default: None)
  --psd-segment-stride PSD_SEGMENT_STRIDE
                        (Required for --psd-estimation) The separation between
                        consecutive segments (s) (default: None)
  --psd-num-segments PSD_NUM_SEGMENTS
                        (Optional, used only with --psd-estimation). If given,
                        PSDs will be estimated using only this number of
                        segments. If more data is given than needed to make
                        this number of segments then excess data will not be
                        used in the PSD estimate. If not enough data is given,
                        the code will fail. (default: None)
  --psd-output PSD_OUTPUT
                        (Optional) Write PSD to specified file (default: None)

Options for obtaining h(t):
  These options are used for generating h(t) either by reading from a file
  or by generating it. This is only needed if the PSD is to be estimated
  from the data, ie. if the --psd-estimation option is given.

  --gps-start-time GPS_START_TIME
                        The gps start time of the data (integer seconds)
                        (default: None)
  --gps-end-time GPS_END_TIME
                        The gps end time of the data (integer seconds)
                        (default: None)
  --strain-high-pass STRAIN_HIGH_PASS
                        High pass frequency (default: None)
  --strain-low-pass STRAIN_LOW_PASS
                        Low pass frequency (default: None)
  --pad-data PAD_DATA   Extra padding to remove highpass corruption (integer
                        seconds) (default: 8)
  --taper-data TAPER_DATA
                        Taper ends of data to zero using the supplied length
                        as a window (integer seconds) (default: 0)
  --sample-rate SAMPLE_RATE
                        The sample rate to use for h(t) generation (integer
                        Hz) (default: None)
  --channel-name CHANNEL_NAME
                        The channel containing the gravitational strain data
                        (default: None)
  --frame-cache FRAME_CACHE [FRAME_CACHE ...]
                        Cache file containing the frame locations. (default:
                        None)
  --frame-files FRAME_FILES [FRAME_FILES ...]
                        list of frame files (default: None)
  --hdf-store HDF_STORE
                        Store of time series data in hdf format (default:
                        None)
  --frame-type FRAME_TYPE
                        (optional), replaces frame-files. Use datafind to get
                        the needed frame file(s) of this type. (default: None)
  --frame-sieve FRAME_SIEVE
                        (optional), Only use frame files where the URL matches
                        the regular expression given. (default: None)
  --fake-strain {AdVBNSOptimizedSensitivityP1200087,AdVDesignSensitivityP1200087,AdVEarlyHighSensitivityP1200087,AdVEarlyLowSensitivityP1200087,AdVLateHighSensitivityP1200087,AdVLateLowSensitivityP1200087,AdVMidHighSensitivityP1200087,AdVMidLowSensitivityP1200087,AdvVirgo,CosmicExplorerP1600143,CosmicExplorerPessimisticP1600143,CosmicExplorerWidebandP1600143,EinsteinTelescopeP1600143,GEO,GEOHF,KAGRA,KAGRADesignSensitivityT1600593,KAGRAEarlySensitivityT1600593,KAGRALateSensitivityT1600593,KAGRAMidSensitivityT1600593,KAGRAOpeningSensitivityT1600593,TAMA,Virgo,aLIGOAPlusDesignSensitivityT1800042,aLIGOAdVO3LowT1800545,aLIGOAdVO4IntermediateT1800545,aLIGOAdVO4T1800545,aLIGOBHBH20Deg,aLIGOBHBH20DegGWINC,aLIGOBNSOptimizedSensitivityP1200087,aLIGODesignSensitivityP1200087,aLIGOEarlyHighSensitivityP1200087,aLIGOEarlyLowSensitivityP1200087,aLIGOHighFrequency,aLIGOHighFrequencyGWINC,aLIGOKAGRA128MpcT1800545,aLIGOKAGRA25MpcT1800545,aLIGOKAGRA80MpcT1800545,aLIGOLateHighSensitivityP1200087,aLIGOLateLowSensitivityP1200087,aLIGOMidHighSensitivityP1200087,aLIGOMidLowSensitivityP1200087,aLIGONSNSOpt,aLIGONSNSOptGWINC,aLIGONoSRMHighPower,aLIGONoSRMLowPower,aLIGONoSRMLowPowerGWINC,aLIGOQuantumBHBH20Deg,aLIGOQuantumHighFrequency,aLIGOQuantumNSNSOpt,aLIGOQuantumNoSRMHighPower,aLIGOQuantumNoSRMLowPower,aLIGOQuantumZeroDetHighPower,aLIGOQuantumZeroDetLowPower,aLIGOThermal,aLIGOZeroDetHighPower,aLIGOZeroDetHighPowerGWINC,aLIGOZeroDetLowPower,aLIGOZeroDetLowPowerGWINC,aLIGOaLIGO140MpcT1800545,aLIGOaLIGO175MpcT1800545,aLIGOaLIGODesignSensitivityT1800044,aLIGOaLIGOO3LowT1800545,eLIGOModel,eLIGOShot,iLIGOModel,iLIGOSRD,iLIGOSeismic,iLIGOShot,iLIGOThermal,zeroNoise}
                        Name of model PSD for generating fake gaussian noise.
                        (default: None)
  --fake-strain-seed FAKE_STRAIN_SEED
                        Seed value for the generation of fake colored gaussian
                        noise (default: 0)
  --fake-strain-from-file FAKE_STRAIN_FROM_FILE
                        File containing ASD for generating fake noise from it.
                        (default: None)
  --fake-strain-flow FAKE_STRAIN_FLOW
                        Low frequency cutoff of the fake strain (default: 1.0)
  --fake-strain-filter-duration FAKE_STRAIN_FILTER_DURATION
                        Duration in seconds of the fake data coloring filter
                        (default: 128.0)
  --fake-strain-sample-rate FAKE_STRAIN_SAMPLE_RATE
                        Sample rate of the fake data generation (default:
                        16384)
  --injection-file INJECTION_FILE
                        (optional) Injection file containing parameters of CBC
                        signals to be added to the strain (default: None)
  --sgburst-injection-file SGBURST_INJECTION_FILE
                        (optional) Injection file containing parametersof
                        sine-Gaussian burst signals to add to the strain
                        (default: None)
  --injection-scale-factor INJECTION_SCALE_FACTOR
                        Divide injections by this factor before adding to the
                        strain data (default: 1)
  --injection-sample-rate INJECTION_SAMPLE_RATE
                        Sample rate to use for injections (integer Hz).
                        Typically similar to the strain data sample rate.If
                        not provided, the strain sample rate will be used
                        (default: None)
  --injection-f-ref INJECTION_F_REF
                        Reference frequency in Hz for creating CBC injections
                        from an XML file (default: None)
  --injection-f-final INJECTION_F_FINAL
                        Override the f_final field of a CBC XML injection file
                        (frequency in Hz) (default: None)
  --gating-file GATING_FILE
                        (optional) Text file of gating segments to apply.
                        Format of each line is (all values in seconds):
                        gps_time zeros_half_width pad_half_width (default:
                        None)
  --autogating-threshold SIGMA
                        If given, find and gate glitches producing a deviation
                        larger than SIGMA in the whitened strain time series.
                        (default: None)
  --autogating-max-iterations SIGMA
                        If given, iteratively apply autogating (default: 1)
  --autogating-cluster SECONDS
                        Length of clustering window for detecting glitches for
                        autogating. (default: 5.0)
  --autogating-width SECONDS
                        Half-width of the gating window. (default: 0.25)
  --autogating-taper SECONDS
                        Taper the strain before and after each gating window
                        over a duration of SECONDS. (default: 0.25)
  --autogating-pad SECONDS
                        Ignore the given length of whitened strain at the ends
                        of a segment, to avoid filters ringing. (default: 16)
  --gating-method {hard,taper,paint}
                        Choose the method for gating. Default: `taper`
                        (default: taper)
  --normalize-strain NORMALIZE_STRAIN
                        (optional) Divide frame data by constant. (default:
                        None)
  --zpk-z ZPK_Z [ZPK_Z ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of zeros for transfer function (default: None)
  --zpk-p ZPK_P [ZPK_P ...]
                        (optional) Zero-pole-gain (zpk) filter strain. A list
                        of poles for transfer function (default: None)
  --zpk-k ZPK_K         (optional) Zero-pole-gain (zpk) filter strain.
                        Transfer function gain (default: None)
  --witness-frame-type WITNESS_FRAME_TYPE
                        (optional), frame type which will be use to query the
                        witness channel data. (default: None)
  --witness-tf-file WITNESS_TF_FILE
                        an hdf file containing the transfer functions and the
                        associated channel names (default: None)
  --witness-filter-length WITNESS_FILTER_LENGTH
                        filter length in seconds for the transfer function
                        (default: None)

Ethinca metric options:
  Options used in the calculation of Gamma metric components for the ethinca
  coincidence test and for assigning high-frequency cutoffs to templates.

  --calculate-time-metric-components
                        If given, the ethinca metric will be calculated for
                        only the time component, and stored in the Gamma0
                        entry of the sngl_inspiral table. OPTIONAL,
                        default=False (default: False)
  --calculate-ethinca-metric
                        If given, the ethinca metric will be calculated and
                        stored in the Gamma entries of the sngl_inspiral
                        table. OPTIONAL, default=False (default: False)
  --ethinca-pn-order {zeroPN,onePN,onePointFivePN,twoPN,twoPointFivePN,threePN,threePointFivePN}
                        Specify a PN order to be used in calculating the
                        ethinca metric. OPTIONAL: if not specified, the same
                        order will be used as for the bank metric. (default:
                        None)
  --filter-cutoff {SchwarzISCO,LightRing,ERD,BKLISCO,FRD,LRD,MECO,HybridMECO,IMRPhenomBFinal,IMRPhenomCFinal,IMRPhenomDPeak,EOBNRv2RD,EOBNRv2HMRD,SEOBNRv1RD,SEOBNRv1Peak,SEOBNRv2RD,SEOBNRv2Peak,SEOBNRv4RD,SEOBNRv4Peak}
                        Specify an upper frequency cutoff formula for the
                        ethinca metric calculation, and for the values of
                        f_final assigned to the templates. REQUIRED if the
                        calculate-ethinca-metric option is given. (default:
                        None)
  --ethinca-frequency-step ETHINCA_FREQUENCY_STEP
                        Control the precision of the upper frequency cutoff.
                        For speed, the metric is calculated only for discrete
                        f_max values with a spacing given by this option. Each
                        template is assigned the metric for the f_max closest
                        to its analytical cutoff formula. OPTIONAL,
                        default=10. UNITS=Hz (default: 10.0)
</pre></div>
</div>
<p>As before some notes on these options:</p>
<p>Some notes on these options:</p>
<ul class="simple">
<li>The value of f0 generally doesn’t matter (so just use 70 if unsure). However if ethinca is being calculated f0 and f-low must be equal.</li>
<li>Choose f-upper wisely! If your signals coalesce at &lt;1000Hz, you might want to use a lower value … although of course in this regime this inspiral-only metric will lose validity.</li>
<li>A delta-f value of 1/256 will certainly be accurate enough, a larger value will cause the code to run faster.</li>
<li>For the purposes of spin calculations a NS is considered to be anything with mass &lt; 3 solar masses and a BH is considered to be anything with mass &gt; 3 solar masses. But this can be overridden with the <cite>–ns-bh-boundary-mass</cite> option.</li>
<li>To avoid generating a NSBH bank where you have a wall of triggers with NS mass = 3 and spins up to the black hole maximum use the nsbh-flag. This will ensure that only neutron-star–black-hole systems are generated.</li>
<li>–num-seeds is the termination condition. The code will throw NUM_SEEDS points at the parameter space, and then filter out those that are too close to each other. If this value is too low, the bank will not converge, if it is too high, the code will take longer to run.</li>
<li>–num-failed-cutoff can be used as an alternative termination condition. Here the code runs until NUM_FAILED_CUTOFF points have been <strong>consecutively</strong> rejected and will then stop.</li>
<li>–vary-fupper will allow the code to vary the upper frequency cutoff across the parameter space. Currently this feature is <strong>only</strong> available in the stochastic code.</li>
<li>If a remnant-mass-threshold is specified the code sets up the bank so that it does not target NS-BH systems that cannot produce a remnant disk mass that exceeds the threshold: this is used to remove EM dim NS-BH binaries from the target parameter space, as discussed in Pannarale and Ohme, ApJL 7, 5 (2014).  Please contact <a class="reference external" href="mailto:francesco&#46;pannarale&#37;&#52;&#48;ligo&#46;org">francesco<span>&#46;</span>pannarale<span>&#64;</span>ligo<span>&#46;</span>org</a> if you want to know more about this.</li>
</ul>
</div>
<div class="section" id="command-line-options-lalapps-cbc-sbank">
<h3>Command line options: lalapps_cbc_sbank<a class="headerlink" href="#command-line-options-lalapps-cbc-sbank" title="Permalink to this headline">¶</a></h3>
<p>The program lalapps_cbc_sbank is part of lalsuite and documentation and command line options are described in the documentation at <a class="reference external" href="http://software.ligo.org/docs/lalsuite/lalapps/lalapps__cbc__sbank_8py_source.html">http://software.ligo.org/docs/lalsuite/lalapps/lalapps__cbc__sbank_8py_source.html</a></p>
<p>Some notes on the command line options:</p>
<ul class="simple">
<li>Using the <cite>–iterative-match-df-max 8</cite> option will greatly speed up the code by generating waveforms with a large frequency step and then iteratively lowering it until the calculated matches converge.</li>
<li>Using the <cite>–cache-waveforms</cite> option will greatly speed up the code by avoiding generating a waveform more than once. With this enabled memory usage can become a concern. If memory usage becomes high consider using the workflow generator.</li>
</ul>
</div>
<div class="section" id="sbank-workflow-generator">
<span id="tmpltbank-sbankworkflow"></span><h3>Sbank workflow generator<a class="headerlink" href="#sbank-workflow-generator" title="Permalink to this headline">¶</a></h3>
<p>In the case where one sbank job will not do the job you can use
pycbc_make_sbank_workflow to parallelize your template bank placement
needs.</p>
<p>The command line options for this code read as follows</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ pycbc_make_sbank_workflow --help
usage: pycbc_make_sbank_workflow [-h] [--version]
                                 [--workflow-name WORKFLOW_NAME]
                                 [-d OUTPUT_DIR] [--output-file OUTPUT_FILE]
                                 [--dax-filename DAX_FILENAME]
                                 [--map-filename MAP_FILENAME]
                                 [--transformation-catalog-filename TRANSFORMATION_CATALOG_FILENAME]
                                 [--is-sub-workflow]
                                 [--tags [TAGS [TAGS ...]]]
                                 [--config-files CONFIGFILE [CONFIGFILE ...]]
                                 [--config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]]
                                 [--config-delete [SECTION:OPTION [SECTION:OPTION ...]]]

Workflow generator for the lalapps_cbc_sbank template bank generation. This is
intended to be standalone, without putting things like the SbankExecutable
class in the pycbc.workflow module, to give an illustration of how a simple
workflow is constructed with pycbc.workflow.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  --workflow-name WORKFLOW_NAME
                        Descriptive name of the analysis.
  -d OUTPUT_DIR, --output-dir OUTPUT_DIR
                        Path to output directory.
  --output-file OUTPUT_FILE
                        Specify the output file name. Either a name can be
                        provided or a full path to file. Is this is not given
                        a filename and location is chosen automatically.
  --dax-filename DAX_FILENAME
                        This can be used if running this job in a sub-workflow
                        to specify the dax filename.
  --map-filename MAP_FILENAME
                        This can be used if running this job in a sub-workflow
                        to specify the output map filename. WARNING: Giving
                        this if not running as a sub-workflow will cause
                        pycbc_submit_dax to not work.
  --transformation-catalog-filename TRANSFORMATION_CATALOG_FILENAME
                        See workflow/core.py
  --is-sub-workflow     Only give this option if this code is being run as a
                        sub-workflow within pegasus. If this means nothing to
                        you, do not give this option.
  --tags [TAGS [TAGS ...]]
                        If this option is given all jobs, and all workflow
                        configuration options, will use the tags given here.
                        This can be used if running this as a sub-workflow to
                        give two sets of options to two different invocations
                        of the sbank workflow.

Configuration:
  Options needed for parsing config file(s).

  --config-files CONFIGFILE [CONFIGFILE ...]
                        List of config files to be used in analysis.
  --config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]
                        List of section,option,value combinations to add into
                        the configuration file. Normally the gps start and end
                        times might be provided this way, and user specific
                        locations (ie. output directories). This can also be
                        provided as SECTION:OPTION or SECTION:OPTION: both of
                        which indicate that the corresponding value is left
                        blank.
  --config-delete [SECTION:OPTION [SECTION:OPTION ...]]
                        List of section,option combinations to delete from the
                        configuration file. This can also be provided as
                        SECTION which deletes the enture section from the
                        configuration file or SECTION:OPTION which deletes a
                        specific option from a given section.
</pre></div>
</div>
<p>The main thing here is that a configuration file is supplied. This
configuration file supplies basically all options about the template bank
generation. One can read about the general setup of such files
<a class="reference internal" href="workflow/initialization.html#workflowconfigparsermod"><span class="std std-ref">at the following page</span></a>, but we provide
some examples here. First we give a simple example, with some options commented
out, but still shown and explained.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; Configuration file for pycbc_make_sbank_workflow</span>
<span class="c1">;</span>
<span class="c1">; Template bank documentation can be found here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/tmpltbank.html</span>
<span class="c1">;</span>
<span class="c1">; Documentation for the PyCBC workflow module is here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow.html</span>


<span class="k">[workflow]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; What files to store? If this is set to &quot;results&quot; then only the final template</span>
<span class="c1">; bank will exist after the workflow completes.</span>
<span class="c1">; If set to &quot;merged_triggers&quot; then a template bank will be placed in the output</span>
<span class="c1">; directory after each &quot;cycle&quot; of the workflow generation completes.</span>
<span class="c1">; If set to &quot;all_triggers&quot; you will get some more files from within each cycle,</span>
<span class="c1">; but not the output of each of the parallel jobs.</span>
<span class="c1">; if set to &quot;all_files&quot; you will get everything.</span>
<span class="na">file-retention-level</span> <span class="o">=</span> <span class="s">merged_triggers</span>

<span class="c1">; Start and end times are needed to obey LIGO file naming conventions. Actual</span>
<span class="c1">; values are irrelevant. This can be overriden on the command line.</span>
<span class="na">start-time</span> <span class="o">=</span> <span class="s">900000000</span>
<span class="na">end-time</span> <span class="o">=</span> <span class="s">900010000</span>

<span class="c1">; These are the sbank-specific options.</span>
<span class="c1">; num-cycles is how many repetitions of the sbank parallelization -&gt; recombine</span>
<span class="c1">; process will be done</span>
<span class="na">num-cycles</span> <span class="o">=</span> <span class="s">5</span>

<span class="c1">; nbanks is how many parallel jobs to use each cycle</span>
<span class="na">nbanks</span> <span class="o">=</span> <span class="s">100</span>

<span class="c1">; seed-bank can be used to provide an input to sbank jobs</span>
<span class="c1">; seed-bank = /path/to/file</span>

<span class="c1">; If using seed-bank, this will instruct sbank to use this to determine the</span>
<span class="c1">; initial chirp-mass bins. In this case a coarse job is not run</span>
<span class="c1">; use-seed-bank-for-chirp-bins=</span>

<span class="c1">; If not giving a seed-bank the coarse job will be used as a seed for the first</span>
<span class="c1">; parallel stage. Give this option and the coarse job will not be used as a</span>
<span class="c1">; seed. Then it is only used to determine initial chirp-mass bins</span>
<span class="c1">; do-not-use-coarse-job-as-seed =</span>


<span class="k">[workflow-ifos]</span>
<span class="c1">; Need to specify the active ifos for file naming.</span>
<span class="na">h1</span> <span class="o">=</span>
<span class="na">l1</span> <span class="o">=</span>
<span class="na">v1</span><span class="o">=</span>

<span class="k">[executables]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; All executables are listed here</span>
<span class="na">sbank</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank}</span>
<span class="na">sbank_mchirp_bins</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_choose_mchirp_boundaries}</span>
<span class="na">h5add</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_bankcombiner}</span>

<span class="c1">; Then options for all executables are added. These are added directly to the</span>
<span class="c1">; jobs as described here:</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>
<span class="k">[sbank]</span>
<span class="c1">; Options for *all* sbank jobs</span>

<span class="c1">; PSD-related options</span>
<span class="na">reference-psd</span> <span class="o">=</span> <span class="s">/home/spxiwh/aLIGO/BBH_template_banks/psd-T1200307v4_H1.xml</span>
<span class="c1">; This refers to the instrument in the reference-psd file.</span>
<span class="na">instrument</span> <span class="o">=</span> <span class="s">H1</span>
<span class="c1">; F-high is lower than this if the waveform power doesn&#39;t get this high</span>
<span class="na">fhigh-max</span> <span class="o">=</span> <span class="s">2048.</span>
<span class="na">flow</span> <span class="o">=</span> <span class="s">30.</span>

<span class="c1">; Waveform</span>
<span class="na">approximant</span> <span class="o">=</span> <span class="s">SEOBNRv2_ROM_DoubleSpin</span>

<span class="c1">; Mass/spin parameter options</span>
<span class="na">mass1-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mass1-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mass2-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mass2-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mtotal-min</span> <span class="o">=</span> <span class="s">10.0</span>
<span class="na">mtotal-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mratio-min</span> <span class="o">=</span> <span class="s">1.0</span>
<span class="na">mratio-max</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="na">aligned-spin</span> <span class="o">=</span>
<span class="na">spin1-max</span> <span class="o">=</span> <span class="s">0.9899</span>
<span class="na">spin1-min</span> <span class="o">=</span> <span class="s">-0.9899</span>
<span class="na">spin2-max</span> <span class="o">=</span> <span class="s">0.9899</span>
<span class="na">spin2-min</span> <span class="o">=</span> <span class="s">-0.9899</span>

<span class="c1">;minimal match</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.97</span>

<span class="c1">; Optimization choices</span>
<span class="na">iterative-match-df-max</span> <span class="o">=</span> <span class="s">8.0</span>
<span class="na">cache-waveforms</span> <span class="o">=</span>

<span class="k">[sbank-coarse]</span>
<span class="c1">; These options are sent only to the initial sbank-coarse job. There must not</span>
<span class="c1">; be duplication between this section and [sbank]</span>

<span class="c1">; When you accept a point after rejecting, on average, more than</span>
<span class="c1">; convergence-threshold points, the job will terminate.</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">50</span>
<span class="c1">; Do not accept more templates than this. Once this limit is reached the job</span>
<span class="c1">; will terminate</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000</span>

<span class="k">[sbank-parallel]</span>
<span class="c1">; These options are sent to *all* sbank parallel jobs</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">5000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000</span>

<span class="k">[sbank-readder]</span>
<span class="c1">; These options are sent to *all* sbank readder jobs. The readder jobs takes</span>
<span class="c1">; all points accepted in the parallel stage and tests them against each other.</span>
<span class="c1">; This avoids the situation where two separate parallel jobs place a template</span>
<span class="c1">; in essentially the same point.</span>

<span class="c1">; Jobs should not terminate until all potential points are tried</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500000000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000000</span>

<span class="k">[sbank_mchirp_bins]</span>
<span class="c1">; These options are sent to the sbank_mchirp_bins jobs</span>
<span class="na">template-weight</span> <span class="o">=</span> <span class="s">equal</span>

<span class="k">[llwadd]</span>
<span class="c1">; Global llwadd options, if any, go here</span>
</pre></div>
</div>
<p>Then a more complex example, where we exercise more fine-grained control over
the parallel job and use different settings during each cycle of the generator.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; Configuration file for pycbc_make_sbank_workflow</span>
<span class="c1">;</span>
<span class="c1">; Template bank documentation can be found here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/tmpltbank.html</span>
<span class="c1">;</span>
<span class="c1">; Documentation for the PyCBC workflow module is here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow.html</span>


<span class="k">[workflow]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; What files to store? If this is set to &quot;results&quot; then only the final template</span>
<span class="c1">; bank will exist after the workflow completes.</span>
<span class="c1">; If set to &quot;merged_triggers&quot; then a template bank will be placed in the output</span>
<span class="c1">; directory after each &quot;cycle&quot; of the workflow generation completes.</span>
<span class="c1">; If set to &quot;all_triggers&quot; you will get some more files from within each cycle,</span>
<span class="c1">; but not the output of each of the parallel jobs.</span>
<span class="c1">; if set to &quot;all_files&quot; you will get everything.</span>
<span class="na">file-retention-level</span> <span class="o">=</span> <span class="s">merged_triggers</span>

<span class="c1">; Start and end times are needed to obey LIGO file naming conventions. Actual</span>
<span class="c1">; values are irrelevant. This can be overriden on the command line.</span>
<span class="na">start-time</span> <span class="o">=</span> <span class="s">900000000</span>
<span class="na">end-time</span> <span class="o">=</span> <span class="s">900010000</span>

<span class="c1">; These are the sbank-specific options.</span>
<span class="c1">; num-cycles is how many repetitions of the sbank parallelization -&gt; recombine</span>
<span class="c1">; process will be done</span>
<span class="na">num-cycles</span> <span class="o">=</span> <span class="s">13</span>

<span class="c1">; nbanks is how many parallel jobs to use each cycle</span>
<span class="na">nbanks</span> <span class="o">=</span> <span class="s">100</span>

<span class="c1">; seed-bank can be used to provide an input to sbank jobs</span>
<span class="c1">; seed-bank = /path/to/file</span>

<span class="c1">; If using seed-bank, this will instruct sbank to use this to determine the</span>
<span class="c1">; initial chirp-mass bins. In this case a coarse job is not run</span>
<span class="c1">; use-seed-bank-for-chirp-bins=</span>

<span class="c1">; If not giving a seed-bank the coarse job will be used as a seed for the first</span>
<span class="c1">; parallel stage. Give this option and the coarse job will not be used as a</span>
<span class="c1">; seed. Then it is only used to determine initial chirp-mass bins</span>
<span class="c1">; do-not-use-coarse-job-as-seed =</span>


<span class="k">[workflow-ifos]</span>
<span class="c1">; Need to specify the active ifos for file naming.</span>
<span class="na">h1</span> <span class="o">=</span>
<span class="na">l1</span> <span class="o">=</span>
<span class="na">v1</span><span class="o">=</span>

<span class="k">[executables]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; All executables are listed here</span>
<span class="na">sbank</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank}</span>
<span class="na">sbank_mchirp_bins</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_choose_mchirp_boundaries}</span>
<span class="na">h5add</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_bankcombiner}</span>

<span class="c1">; Then options for all executables are added. These are added directly to the</span>
<span class="c1">; jobs as described here:</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>
<span class="k">[sbank]</span>
<span class="c1">; Options for *all* sbank jobs</span>

<span class="c1">; PSD-related options</span>
<span class="na">reference-psd</span> <span class="o">=</span> <span class="s">/home/spxiwh/aLIGO/BBH_template_banks/psd-T1200307v4_H1.xml</span>
<span class="c1">; This refers to the instrument in the reference-psd file.</span>
<span class="na">instrument</span> <span class="o">=</span> <span class="s">H1</span>
<span class="c1">; F-high is lower than this if the waveform power doesn&#39;t get this high</span>
<span class="na">fhigh-max</span> <span class="o">=</span> <span class="s">2048.</span>
<span class="na">flow</span> <span class="o">=</span> <span class="s">30.</span>

<span class="c1">; Waveform</span>
<span class="na">approximant</span> <span class="o">=</span> <span class="s">SEOBNRv2_ROM_DoubleSpin</span>

<span class="c1">; Mass/spin parameter options</span>
<span class="na">mass1-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mass1-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mass2-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mass2-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mtotal-min</span> <span class="o">=</span> <span class="s">10.0</span>
<span class="na">mtotal-max</span> <span class="o">=</span> <span class="s">100.0</span>
<span class="na">mratio-min</span> <span class="o">=</span> <span class="s">1.0</span>
<span class="na">mratio-max</span> <span class="o">=</span> <span class="s">3.0</span>
<span class="na">aligned-spin</span> <span class="o">=</span>
<span class="na">spin1-max</span> <span class="o">=</span> <span class="s">0.9899</span>
<span class="na">spin1-min</span> <span class="o">=</span> <span class="s">-0.9899</span>
<span class="na">spin2-max</span> <span class="o">=</span> <span class="s">0.9899</span>
<span class="na">spin2-min</span> <span class="o">=</span> <span class="s">-0.9899</span>

<span class="c1">;minimal match</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.97</span>

<span class="c1">; Optimization choices</span>
<span class="na">iterative-match-df-max</span> <span class="o">=</span> <span class="s">8.0</span>
<span class="na">cache-waveforms</span> <span class="o">=</span>

<span class="k">[sbank-coarse]</span>
<span class="c1">; These options are sent only to the initial sbank-coarse job. There must not</span>
<span class="c1">; be duplication between this section and [sbank]</span>

<span class="c1">; When you accept a point after rejecting, on average, more than</span>
<span class="c1">; convergence-threshold points, the job will terminate.</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">50</span>
<span class="c1">; Do not accept more templates than this. Once this limit is reached the job</span>
<span class="c1">; will terminate</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000</span>

<span class="k">[pegasus_profile-sbank-coarse]</span>
<span class="c1">; These are pegasus specific options for sbank jobs with the coarse tag.</span>
<span class="c1">; One main example of this section is to specify options to go into the </span>
<span class="c1">; submit file. For example:</span>

<span class="na">condor|request_memory</span> <span class="o">=</span> <span class="s">10000</span>
<span class="c1">; This can take a lot of RAM! Other options for condor sub files can be</span>
<span class="c1">; specified in the same way. Things like accounting group are automatically</span>
<span class="c1">; added, as is get_env = True.</span>

<span class="k">[sbank-parallel-cycle0]</span>
<span class="c1">; parallel jobs, cycle0</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle1]</span>
<span class="c1">; parallel jobs, cycle1</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle2]</span>
<span class="c1">; parallel jobs, cycle2</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle3]</span>
<span class="c1">; parallel jobs, cycle3</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">200</span>

<span class="k">[sbank-parallel-cycle4]</span>
<span class="c1">; parallel jobs, cycle4</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle5]</span>
<span class="c1">; parallel jobs, cycle5</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle6]</span>
<span class="c1">; parallel jobs, cycle6</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle7]</span>
<span class="c1">; parallel jobs, cycle7</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle8]</span>
<span class="c1">; parallel jobs, cycle8</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle9]</span>
<span class="c1">; parallel jobs, cycle9</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle10]</span>
<span class="c1">; parallel jobs, cycle10</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle11]</span>
<span class="c1">; parallel jobs, cycle11</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="c1">; Don&#39;t expect templates-max to be reached here</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000000</span>

<span class="k">[sbank-parallel-cycle12]</span>
<span class="c1">; parallel jobs, cycle12</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000000</span>


<span class="k">[sbank-readder]</span>
<span class="c1">; These options are sent to *all* sbank readder jobs. The readder jobs takes</span>
<span class="c1">; all points accepted in the parallel stage and tests them against each other.</span>
<span class="c1">; This avoids the situation where two separate parallel jobs place a template</span>
<span class="c1">; in essentially the same point.</span>

<span class="c1">; Jobs should not terminate until all potential points are tried</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500000000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000000</span>

<span class="k">[sbank_mchirp_bins]</span>
<span class="c1">; These options are sent to the sbank_mchirp_bins jobs</span>
<span class="na">template-weight</span> <span class="o">=</span> <span class="s">equal</span>

<span class="k">[llwadd]</span>
<span class="c1">; Global llwadd options, if any, go here</span>
</pre></div>
</div>
<p><strong>PLEASE NOTE: These examples are intended to be illustrative of the workflow
generator and not intended to be used verbatim, expecting this to work for all
examples. You will want to tune these options based around whatever examples
you are running. When doing that you want to balance job run time, memory
usage, wall-clock time, avoiding too many templates at the readder stage.
Please ask for help if you have a specific example and want some help to
optimize.</strong></p>
</div>
</div>
<div class="section" id="hybrid-approaches-the-best-of-both-worlds">
<span id="tmpltbank-uberbankworkflow"></span><h2>Hybrid approaches: the best of both worlds<a class="headerlink" href="#hybrid-approaches-the-best-of-both-worlds" title="Permalink to this headline">¶</a></h2>
<p>We have found that in many cases it makes sense to combine the techniques of
sbank with the geometric lattic algorithm to produce a template bank. This
technique was used in Advanced LIGO’s first observing run to produce what was
called the “uberbank”. The references for this are the following:</p>
<ul class="simple">
<li>Abbott et al., Phys.Rev. D93 (2016) 122003</li>
<li>Capano et al., Phys.Rev. D93 (2016) 124007</li>
</ul>
<p>The uberbank construction process is now written up in a single workflow,
pycbc_make_uberbank_workflow. The current setup of this workflow is as
follows:</p>
<ul class="simple">
<li>Run in parallel one sbank workflow and one geometric workflow</li>
<li>Combine the two outputs together (this assumes the two do not overlap)</li>
<li>Run a further sbank workflow to fill in the remaining space and any holes</li>
</ul>
<p>The idea to this 3-part workflow is it allows us to first focus on covering
well both the BNS and BBH regions of parameter space, before filling in the
rest with potentially different settings. There is a lot of scope for editing
and reordering this workflow, potentially adding, or removing various of the
stages.</p>
<p>The command-line help for the workflow generator is as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ pycbc_make_uberbank_workflow --help
usage: pycbc_make_uberbank_workflow [-h] [--version]
                                    [--workflow-name WORKFLOW_NAME]
                                    [-d OUTPUT_DIR]
                                    [--config-files CONFIGFILE [CONFIGFILE ...]]
                                    [--config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]]
                                    [--config-delete [SECTION:OPTION [SECTION:OPTION ...]]]

Workflow generator for the &#39;uberbank&#39; template bank construction. The script
as written runs a configurable example of pycbc_geom_aligned_bank and, unless
instructed otherwise, another idependent one of sbank. Typically, a standard
uberbank uses this round of sbank to cover BBH sources, while a PyGRB uberbank
does not require performing this step: this step can be avoided with the
option skip-coarse-bank = in the section [workflow-bank_structure]. The script
then combines these two banks together, if the BBH sbank was indeed generated.
Finally, it runs a second example of sbank (configuration file tag: [sbank-
final]) on the resulting output. It is foreseen that this script would be
altered to generate workflows in slightly different configurations to the one
described, so hopefully the script is clear enough to allow someone to do
that.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  --workflow-name WORKFLOW_NAME
                        Descriptive name of the analysis.
  -d OUTPUT_DIR, --output-dir OUTPUT_DIR
                        Path to output directory.

Configuration:
  Options needed for parsing config file(s).

  --config-files CONFIGFILE [CONFIGFILE ...]
                        List of config files to be used in analysis.
  --config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]
                        List of section,option,value combinations to add into
                        the configuration file. Normally the gps start and end
                        times might be provided this way, and user specific
                        locations (ie. output directories). This can also be
                        provided as SECTION:OPTION or SECTION:OPTION: both of
                        which indicate that the corresponding value is left
                        blank.
  --config-delete [SECTION:OPTION [SECTION:OPTION ...]]
                        List of section,option combinations to delete from the
                        configuration file. This can also be provided as
                        SECTION which deletes the enture section from the
                        configuration file or SECTION:OPTION which deletes a
                        specific option from a given section.
</pre></div>
</div>
<p>As with the sbank workflow generator the main bulk of the configuration is the
configuration file, which is provided on the command line. This configuration
file contains options for all 3 stages of the workflow, and so is a little more
involved than the sbank example given above. Here we provide a particularly
detailed configuration for generating a bank equivalent to the uberbank on
O1-like data.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; Configuration file for pycbc_make_uberbank_workflow</span>
<span class="c1">;</span>
<span class="c1">; Tests and decisions for the choices made here are documented here:</span>
<span class="c1">;</span>
<span class="c1">;    https://www.lsc-group.phys.uwm.edu/ligovirgo/cbcnote/PyCBC/O2TemplateBank</span>
<span class="c1">;</span>
<span class="c1">; Template bank documentation can be found here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/tmpltbank.html</span>
<span class="c1">;</span>
<span class="c1">; Documentation for the PyCBC workflow module is here:</span>
<span class="c1">;</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow.html</span>

<span class="k">[common]</span>
<span class="c1">; Main options shared by different sections are gathered here</span>

<span class="c1">; Noise PSDs for geometric and sbank jobs</span>
<span class="na">psd-txt</span> <span class="o">=</span> <span class="s">/home/tito/o1/psds/all_O1_C02_estimation/output/psds/H1L1-AVERAGE_PSD-1126051217-11203200.txt</span>
<span class="na">psd-xml</span> <span class="o">=</span> <span class="s">/home/tito/o1/psds/all_O1_C02_estimation/output/psds/H1L1-AVERAGE_PSD-1126051217-11203200.xml.gz</span>

<span class="na">low-frequency-cutoff</span> <span class="o">=</span> <span class="s">30</span>

<span class="c1">; Spin bounds</span>
<span class="na">max-bh-spin</span> <span class="o">=</span> <span class="s">0.9899</span>
<span class="na">max-ns-spin</span> <span class="o">=</span> <span class="s">0.05</span>
<span class="na">nsbh-boundary</span> <span class="o">=</span> <span class="s">2</span>

<span class="k">[workflow]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; Store only &quot;merged_triggers&quot; this means only final result files, and all key</span>
<span class="c1">; intermediate products.</span>
<span class="na">file-retention-level</span> <span class="o">=</span> <span class="s">merged_triggers</span>

<span class="c1">; Start and end times are needed to obey LIGO file naming conventions. Actual</span>
<span class="c1">; values are irrelevant. This can be overriden on the command line.</span>
<span class="c1">; Here we use the times matching the estimated PSD so we have an immediate</span>
<span class="c1">; reference on the resulting bank file name</span>
<span class="na">start-time</span> <span class="o">=</span> <span class="s">1126051217</span>
<span class="na">end-time</span> <span class="o">=</span> <span class="s">1137254417</span>

<span class="k">[workflow-bbh]</span>
<span class="c1">; Options in here go only to the first sbank workflow (currently tagged BBH)</span>

<span class="c1">; num-cycles is how many repetitions of the sbank parallelization -&gt; recombine</span>
<span class="c1">; process will be done</span>
<span class="na">num-cycles</span> <span class="o">=</span> <span class="s">13</span>

<span class="c1">; nbanks is how many parallel jobs to use, setting this large no longer causes</span>
<span class="c1">; overcoverage *but* be careful that the templates generated by all nbanks is</span>
<span class="c1">; not that large that it causes memory issues when readding. You can limit the</span>
<span class="c1">; number of templates added by each job and then run more total cycles. For</span>
<span class="c1">; weird parameter space (e.g. precession) set number of cycles to a large</span>
<span class="c1">; value, use a good number of nbanks, but accept only 10-100 templates per job</span>
<span class="c1">; This let&#39;s the bank slowly converge while you can monitor the periodic</span>
<span class="c1">; output!</span>
<span class="na">nbanks</span> <span class="o">=</span> <span class="s">200</span>

<span class="c1">; seed-bank can be used to provide an input to sbank jobs</span>
<span class="c1">; seed-bank = /path/to/file</span>

<span class="c1">; If using seed-bank, this will instruct sbank to use this to determine the</span>
<span class="c1">; initial chirp-mass bins. In this case a coarse job is not run</span>
<span class="c1">; use-seed-bank-for-chirp-bins=</span>

<span class="c1">; If not giving a seed-bank the coarse job will be used as a seed for the first</span>
<span class="c1">; parallel stage. Give this option and the coarse job will not be used as a</span>
<span class="c1">; seed. Then it is only used to determine initial chirp-mass bins</span>
<span class="c1">; do-not-use-coarse-job-as-seed =</span>

<span class="k">[workflow-final]</span>
<span class="c1">; Options in here go only to the second sbank workflow (currently tagged FINAL)</span>

<span class="c1">; See above for option descriptions</span>
<span class="na">num-cycles</span> <span class="o">=</span> <span class="s">17</span>
<span class="na">nbanks</span> <span class="o">=</span> <span class="s">500</span>

<span class="c1">; Here the seed-bank is set automatically by the workflow generator.</span>

<span class="c1">; Not using seed bank for the chirp-mass bins as it does not cover the full</span>
<span class="c1">; space</span>
<span class="c1">; use-seed-bank-for-chirp-bins=</span>

<span class="k">[workflow-ifos]</span>
<span class="c1">; Need to specify the active ifos for file naming.</span>
<span class="na">h1</span> <span class="o">=</span>
<span class="na">l1</span> <span class="o">=</span>

<span class="k">[executables]</span>
<span class="c1">; http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="c1">; All executables are listed here, will be equivalent to `which exe`</span>
<span class="na">sbank</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank}</span>
<span class="na">sbank_workflow</span> <span class="o">=</span> <span class="s">${which:pycbc_make_sbank_workflow}</span>
<span class="na">sbank_mchirp_bins</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_choose_mchirp_boundaries}</span>
<span class="na">h5add</span> <span class="o">=</span> <span class="s">${which:lalapps_cbc_sbank_hdf5_bankcombiner}</span>
<span class="na">geom_aligned_bank</span> <span class="o">=</span> <span class="s">${which:pycbc_geom_aligned_bank}</span>

<span class="c1">; Then options for all executables are added. These are added directly to the</span>
<span class="c1">; jobs as described here:</span>
<span class="c1">;    http://pycbc.org/pycbc/latest/html/workflow/initialization.html</span>

<span class="k">[sbank_workflow]</span>
<span class="c1">; Options to the workflow generator</span>

<span class="k">[llwadd]</span>
<span class="c1">; Global llwadd options, if any, go here</span>

<span class="k">[geom_aligned_bank]</span>
<span class="na">min-match</span> <span class="o">=</span> <span class="s">0.97</span>
<span class="na">random-seed</span> <span class="o">=</span> <span class="s">1915</span>
<span class="na">pn-order</span> <span class="o">=</span> <span class="s">threePointFivePN</span>
<span class="na">f-low</span> <span class="o">=</span> <span class="s">${common|low-frequency-cutoff}</span>
<span class="na">f-upper</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">delta-f</span> <span class="o">=</span> <span class="s">0.01</span>
<span class="na">min-mass1</span> <span class="o">=</span> <span class="s">1.</span>
<span class="na">max-mass1</span> <span class="o">=</span> <span class="s">5.</span>
<span class="na">min-mass2</span> <span class="o">=</span> <span class="s">1.</span>
<span class="na">max-mass2</span> <span class="o">=</span> <span class="s">3.</span>
<span class="na">min-total-mass</span> <span class="o">=</span> <span class="s">2.</span>
<span class="na">max-total-mass</span> <span class="o">=</span> <span class="s">6.</span>
<span class="na">max-bh-spin-mag</span> <span class="o">=</span> <span class="s">${common|max-bh-spin}</span>
<span class="na">max-ns-spin-mag</span> <span class="o">=</span> <span class="s">${common|max-ns-spin}</span>
<span class="na">ns-bh-boundary-mass</span> <span class="o">=</span> <span class="s">${common|nsbh-boundary}</span>
<span class="na">psd-file</span> <span class="o">=</span> <span class="s">${common|psd-txt}</span>
<span class="na">split-bank-num</span> <span class="o">=</span> <span class="s">75</span>

<span class="k">[sbank_mchirp_bins]</span>
<span class="c1">; These options are sent to the sbank_mchirp_bins jobs</span>
<span class="na">template-weight</span> <span class="o">=</span> <span class="s">equal</span>

<span class="k">[sbank]</span>
<span class="c1">; These options are sent to *all* sbank jobs</span>
<span class="c1">; Options sent to specific sbank jobs are give below. There must be *no*</span>
<span class="c1">; conflicts here. Ie. if an option appears here it *cannot* be overridden in</span>
<span class="c1">; any of the sub-sections below.</span>

<span class="c1">; PSD-related options</span>
<span class="na">reference-psd</span> <span class="o">=</span> <span class="s">${common|psd-xml}</span>
<span class="c1">; This refers to the instrument in the reference-psd file.</span>
<span class="na">instrument</span> <span class="o">=</span> <span class="s">H1L1</span>
<span class="c1">; F-high is lower than this if the waveform power doesn&#39;t get this high</span>
<span class="na">fhigh-max</span> <span class="o">=</span> <span class="s">2048.</span>
<span class="na">flow</span> <span class="o">=</span> <span class="s">${common|low-frequency-cutoff}</span>
<span class="c1">; Waveform</span>
<span class="na">approximant</span> <span class="o">=</span> <span class="s">SEOBNRv2_ROM_DoubleSpin_HI</span>
<span class="c1">; Optimization choices</span>
<span class="na">iterative-match-df-max</span> <span class="o">=</span> <span class="s">8.0</span>
<span class="na">cache-waveforms</span> <span class="o">=</span>

<span class="c1">; Mass options common to sbank jobs</span>
<span class="na">mass1-max</span> <span class="o">=</span> <span class="s">99</span>
<span class="na">mass2-max</span> <span class="o">=</span> <span class="s">99</span>
<span class="na">mtotal-max</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">mratio-min</span> <span class="o">=</span> <span class="s">1</span>

<span class="c1">; Spin options common to sbank jobs</span>
<span class="na">aligned-spin</span> <span class="o">=</span>
<span class="na">bh-spin-min</span> <span class="o">=</span> <span class="s">-${common|max-bh-spin}</span>
<span class="na">bh-spin-max</span> <span class="o">=</span> <span class="s">${common|max-bh-spin}</span>
<span class="na">ns-spin-min</span> <span class="o">=</span> <span class="s">-${common|max-ns-spin}</span>
<span class="na">ns-spin-max</span> <span class="o">=</span> <span class="s">${common|max-ns-spin}</span>
<span class="na">ns-bh-boundary-mass</span> <span class="o">=</span> <span class="s">${common|nsbh-boundary}</span>

<span class="k">[sbank-bbh]</span>
<span class="c1">; These options are sent to all sbank &quot;BBH&quot; jobs</span>

<span class="c1">; Mass/spin parameter options</span>
<span class="na">mass1-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mass2-min</span> <span class="o">=</span> <span class="s">5.0</span>
<span class="na">mtotal-min</span> <span class="o">=</span> <span class="s">10.0</span>
<span class="na">mratio-max</span> <span class="o">=</span> <span class="s">3.0</span>

<span class="k">[sbank-final]</span>
<span class="c1">; These options are sent to all sbank &quot;FINAL&quot; jobs</span>

<span class="c1">; Mass/spin parameter options</span>
<span class="na">mass1-min</span> <span class="o">=</span> <span class="s">1.0</span>
<span class="na">mass2-min</span> <span class="o">=</span> <span class="s">1.0</span>
<span class="c1">; SEOBNRv2&#39;s eta = 0.01 limit</span>
<span class="na">mratio-max</span> <span class="o">=</span> <span class="s">97.989</span>

<span class="k">[sbank-bbh-coarse]</span>
<span class="c1">; These options are sent only to the initial sbank-coarse job for &quot;FINAL&quot;.</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.98</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">50</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100000</span>

<span class="k">[pegasus_profile-sbank-bbh-coarse]</span>
<span class="c1">; These are pegasus specific options for sbank jobs with the coarse tag.</span>
<span class="c1">; These will appear in the .sub files.</span>
<span class="c1">; FIXME: Need to verify this works with tags!</span>

<span class="c1">; This can take a lot of RAM! Other options for condor sub files can be</span>
<span class="c1">; specified in the same way. Things like accounting group are automatically</span>
<span class="c1">; added, as is get_env = True.</span>
<span class="na">condor|request_memory</span> <span class="o">=</span> <span class="s">10000</span>

<span class="k">[sbank-final-coarse]</span>
<span class="c1">; These options are sent only to the initial sbank-coarse job for &quot;BBH&quot;.</span>
<span class="c1">; This one is not a seed!!!</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.90</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">200</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000</span>

<span class="k">[sbank-readder]</span>
<span class="c1">; These options are sent to all readder jobs</span>

<span class="c1">; Jobs should not terminate until all potential points are tried</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500000000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000000</span>

<span class="k">[sbank-bbh-readder]</span>
<span class="c1">; These options are sent to all readder jobs for &quot;BBH&quot;</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.98</span>

<span class="k">[sbank-parallel-cycle0]</span>
<span class="c1">; parallel jobs, cycle0</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle1]</span>
<span class="c1">; parallel jobs, cycle1</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle2]</span>
<span class="c1">; parallel jobs, cycle2</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle3]</span>
<span class="c1">; parallel jobs, cycle3</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">200</span>

<span class="k">[sbank-parallel-cycle4]</span>
<span class="c1">; parallel jobs, cycle4</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">10</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle5]</span>
<span class="c1">; parallel jobs, cycle5</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle6]</span>
<span class="c1">; parallel jobs, cycle6</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle7]</span>
<span class="c1">; parallel jobs, cycle7</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">100</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle8]</span>
<span class="c1">; parallel jobs, cycle8</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">100</span>

<span class="k">[sbank-parallel-cycle9]</span>
<span class="c1">; parallel jobs, cycle9</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">500</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle10]</span>
<span class="c1">; parallel jobs, cycle10</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000</span>

<span class="k">[sbank-parallel-cycle11]</span>
<span class="c1">; parallel jobs, cycle11</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="c1">; Don&#39;t expect max-new-templates to be reached here</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000000</span>

<span class="k">[sbank-parallel-cycle12]</span>
<span class="c1">; parallel jobs, cycle12</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">1000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">1000000</span>

<span class="k">[sbank-parallel-bbh]</span>
<span class="c1">; BBH parallel jobs</span>

<span class="c1">; All use the same match-min</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.98</span>

<span class="k">[sbank-final-cycle0&amp;sbank-final-cycle1]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 0 and 1</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-cycle2&amp;sbank-final-cycle3]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 2 and 3</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-cycle4&amp;sbank-final-cycle5]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 4 and 5</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-cycle6&amp;sbank-final-cycle7]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 6 and 7</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-cycle8&amp;sbank-final-cycle9]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 8 and 9</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-cycle10&amp;sbank-final-cycle11&amp;sbank-final-cycle12]</span>
<span class="c1">; BBH parallel and readder jobs, cycles 10 and 11 and 12</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.965</span>

<span class="k">[sbank-final-parallel-cycle13]</span>
<span class="c1">; These last cycles only used by &quot;FINAL&quot; intended to avoid any large holes</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">5000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.95</span>

<span class="k">[sbank-final-readder-cycle13&amp;sbank-final-readder-cycle14&amp;sbank-final-readder-cycle15&amp;sbank-final-readder-cycle16]</span>
<span class="c1">; &quot;FINAL&quot; readder jobs at cycles 13 - 16</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.95</span>

<span class="k">[sbank-final-parallel-cycle14]</span>
<span class="c1">; These last cycles only used by &quot;FINAL&quot; intended to avoid any large holes</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">5000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.95</span>

<span class="k">[sbank-final-parallel-cycle15]</span>
<span class="c1">; These last cycles only used by &quot;FINAL&quot; intended to avoid any large holes</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">50000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.95</span>

<span class="k">[sbank-final-parallel-cycle16]</span>
<span class="c1">; These last cycles only used by &quot;FINAL&quot; intended to avoid any large holes</span>
<span class="na">convergence-threshold</span> <span class="o">=</span> <span class="s">50000</span>
<span class="na">max-new-templates</span> <span class="o">=</span> <span class="s">20000000</span>
<span class="na">match-min</span> <span class="o">=</span> <span class="s">0.95</span>
</pre></div>
</div>
</div>
<div class="section" id="the-module-s-source-code">
<h2>The module’s source code<a class="headerlink" href="#the-module-s-source-code" title="Permalink to this headline">¶</a></h2>
<p>Follow the following link to view the documentation (and through that the source code) of the pycbc.tmpltbank module:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pycbc.tmpltbank.html">pycbc.tmpltbank package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.bank_output_utils">pycbc.tmpltbank.bank_output_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.brute_force_methods">pycbc.tmpltbank.brute_force_methods module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.calc_moments">pycbc.tmpltbank.calc_moments module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.coord_utils">pycbc.tmpltbank.coord_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.em_progenitors">pycbc.tmpltbank.em_progenitors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.lambda_mapping">pycbc.tmpltbank.lambda_mapping module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.lattice_utils">pycbc.tmpltbank.lattice_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.option_utils">pycbc.tmpltbank.option_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank.partitioned_bank">pycbc.tmpltbank.partitioned_bank module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.tmpltbank.html#module-pycbc.tmpltbank">Module contents</a></li>
</ul>
</li>
</ul>
</div>
<p>The code also calls into the PSD module whose documentation is here:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.analytical">pycbc.psd.analytical module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.estimate">pycbc.psd.estimate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.read">pycbc.psd.read module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.variation">pycbc.psd.variation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd">Module contents</a></li>
</ul>
</li>
</ul>
</div>
<p>and the data generation/reading routines, which are here:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc.noise.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.noise.html#module-pycbc.noise.gaussian">pycbc.noise.gaussian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.noise.html#module-pycbc.noise.reproduceable">pycbc.noise.reproduceable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc.noise.html#module-pycbc.noise">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="workflow/pygrb.html" class="btn btn-neutral float-left" title="pycbc_make_offline_grb_workflow: A GRB triggered CBC analysis workflow generator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pycbc.tmpltbank.html" class="btn btn-neutral float-right" title="pycbc.tmpltbank package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      <span class="lastupdated">Last updated on Oct 20, 2021.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>