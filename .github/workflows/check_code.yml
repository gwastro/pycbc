name: Flake8 check
on: [pull_request]
jobs:
    flake8 unused imports:
        runs-on: ubuntu-latest
        steps:
            - name: Install flake8
              run: pip install flake8
            - name: Checking executables for unused imports
              run: flake8 --select=F401 `find bin -type f`
            - name: Checking modules for unused imports
              run: flake8 --select=F401 `find pycbc | grep '\.py$' | grep -v -e __init__ -e "version.py"`
            - name: Checking tests for unused imports
              run: flake8 --select=F401 `find test | grep '\.py$' | grep -v test_schemes`

